# Welcome to Ensemble

## What is Ensemble?

Ensemble is a platform where you can build, publish, and iterate native and web apps without leaving your browser.

With Ensemble, you create apps by defining them using a declarative language. Think of it as configuring your app, instead of coding it. Ensemble apps are rendered at runtime by interpreting this declerative definition. This architecture means that:

1. Ensemble apps are native to each platform: iOS, Android, and web.
2. Ensemble apps can be updated instantly because the app definitions are pushed to clients. You can use Ensemble's cloud service, or use your own server.
3. Ensemble apps always leverage the latest front-end technologies (Flutter for iOS and Android, React for web) so that you don't have to worry about tech-debt incured by using these technologies.

![architecture](/public/images/architecture.png)

## How do I build my app?

Ensemble provides a browser-based IDE, [Ensemble Studio](https://studio.ensembleui.com), where you can build, test, and publish your apps all from the browser. You can instantly preview your Ensemble apps on iOS and Anrdoid devices using [Ensemble preview app](/test/preview-app). Once ready to publish, Ensemble automatically push your apps to Apple AppStore and Google PlayStore. For web, you can download a web build and host it on any service.

## Need help?

[Chat with us on Discord](https://discord.gg/cEHkJTmn75)

[Join our office hours](https://discord.gg/eJrUWhnRHS?event=1218554330765066310)

[Drop us an email](mailto:hello@ensembleui.com)

## Table of Contents

- [Studio overview](#studio-overview)
- **desktop-app**
  - [Ensemble Studio Desktop App](#ensemble-studio-desktop-app)
- **screens-and-widgets**
  - [Ensemble Screen Structure](#ensemble-screen-structure)
  - [Layouts](#layouts)
  - [Widgets Directory](#widgets-directory)
- [events-and-actions](#events-and-actions)
- [Script with JavaScript](#script-with-javascript)
- **apis**
  - [Interact with APIs](#interact-with-apis)
  - [Define APIs](#define-apis)
  - [Invoking APIs, aka calling APIs](#invoking-apis-aka-calling-apis)
  - [Access API response body and headers](#access-api-response-body-and-headers)
  - [onError](#onerror)
  - [Binding APIs to Item Templates](#binding-apis-to-item-templates)
  - [Mocking API responses to develop and test your app](#mocking-api-responses-to-develop-and-test-your-app)
  - [Chaining APIs](#chaining-apis)
  - [SSL Configuration](#ssl-configuration)
  - [GraphQL](#graphql)
  - [Using WebSockets](#using-websockets)
- **theme-and-styling**
  - [Theme](#theme)
  - [Animations in EnsembleUI](#animations-in-ensembleui)
  - [Using Custom Fonts](#using-custom-fonts)
  - [Splash Feedback (Touchable Opacity)](#splash-feedback-touchable-opacity)
  - [Text scaling](#text-scaling)
- [Assets (images, videos, etc.)](#assets-images-videos-etc)
- [Persistent Local Storage](#persistent-local-storage)
- [App Settings](#app-settings)
- **firebase**
  - [Configuration of Firebase Project with Ensemble App](#configuration-of-firebase-project-with-ensemble-app)
  - [Calling Cloud Firestore APIs](#calling-cloud-firestore-apis)
- [Translations](#translations)
- **authentication**
  - [Authentication](#authentication)
  - [Social Sign In](#social-sign-in)
  - [Setting up Authentication with Firebase](#setting-up-authentication-with-firebase)
  - [Setting up Authentication with Auth0](#setting-up-authentication-with-auth0)
- **moengage**
  - [MoEngage Integration](#moengage-integration)
- **deep-link**
  - [Setup Deeplink](#setup-deeplink)
  - [Setup Deferred Deeplink](#setup-deferred-deeplink)
- **extending-ensemble**
  - [Embed Flutter screen in an Ensemble app](#embed-flutter-screen-in-an-ensemble-app)
  - [Using local assets](#using-local-assets)
- **concepts**
  - [Understanding Widget Sizing](#understanding-widget-sizing)
  - [Item Template](#item-template)
  - [Data Binding](#data-binding)
  - [Screen Lifecycle](#screen-lifecycle)
  - [Custom Widgets](#custom-widgets)
- **test**
  - [Preview your app](#preview-your-app)
- **deploy**
  - [Preparing your App for deployment](#preparing-your-app-for-deployment)
  - [Configure Social Sign In for Deployment](#configure-social-sign-in-for-deployment)
  - [Deploy to iOS TestFlight](#deploy-to-ios-testflight)
  - [Connecting to OAuth services (Optional)](#connecting-to-oauth-services-optional)
  - [Deploy to Android devices](#deploy-to-android-devices)
  - [Deploy to Android Play Store](#deploy-to-android-play-store)
  - [Prepare for Production](#prepare-for-production)
  - [Making your app work when offline](#making-your-app-work-when-offline)
  - [Guide: Generating Google Play Console API Key](#guide-generating-google-play-console-api-key)
  - [Guide: Generating API Key for App Store Connect](#guide-generating-api-key-for-app-store-connect)
  - [Guide: Generating a Firebase Service Account for App Distribution](#guide-generating-a-firebase-service-account-for-app-distribution)
- [Host and serve your app definition on your own server](#host-and-serve-your-app-definition-on-your-own-server)
- **widgets**
  - [Accordion Widget](#accordion-widget)
  - [Avatar widget](#avatar-widget)
  - [Button widget](#button-widget)
  - [Calendar widget](#calendar-widget)
  - [Carousel widget](#carousel-widget)
  - [ChartJS widget](#chartjs-widget)
  - [Checkbox widget](#checkbox-widget)
  - [Column widget](#column-widget)
  - [Conditional widget](#conditional-widget)
  - [ConfirmationInput widget](#confirmationinput-widget)
  - [DataGrid widget](#datagrid-widget)
  - [Date widget](#date-widget)
  - [Divider](#divider)
  - [DropDown widget](#dropdown-widget)
  - [FittedColumn (deprecated)](#fittedcolumn-deprecated)
  - [FittedRow (deprecated)](#fittedrow-deprecated)
  - [FlexColumn](#flexcolumn)
  - [FlexRow](#flexrow)
  - [Flex](#flex)
  - [Flow](#flow)
  - [Form widget](#form-widget)
  - [GridView](#gridview)
  - [HTML widget](#html-widget)
  - [Icon widget](#icon-widget)
  - [Finding supported icons and their library](#finding-supported-icons-and-their-library)
  - [Image widget](#image-widget)
  - [InlineTimePicker Widget](#inlinetimepicker-widget)
  - [ListView](#listview)
  - [LoadingContainer Widget](#loadingcontainer-widget)
  - [Lottie Animation widget](#lottie-animation-widget)
  - [Map widget](#map-widget)
  - [Markdown widget](#markdown-widget)
  - [Multi-Child Layout widgets](#multi-child-layout-widgets)
  - [PasswordInput widget](#passwordinput-widget)
  - [Profile Image Widget](#profile-image-widget)
  - [Progress Indicator](#progress-indicator)
  - [QRCodeScanner widget](#qrcodescanner-widget)
  - [QR-Code widget](#qr-code-widget)
  - [RadioButton](#radiobutton)
  - [RadioGroup](#radiogroup)
  - [ensemble.RatingStars widget](#ensembleratingstars-widget)
  - [Row](#row)
  - [Shape Widget](#shape-widget)
  - [Signature Widget](#signature-widget)
  - [Slidable Widget](#slidable-widget)
  - [Slider Widget](#slider-widget)
  - [Spacer](#spacer)
  - [Stack](#stack)
  - [Staggered Grid](#staggered-grid)
  - [Switch widget](#switch-widget)
  - [TabBar](#tabbar)
  - [TextInput widget](#textinput-widget)
  - [Text widget](#text-widget)
  - [Time widget](#time-widget)
  - [TripleSwitch widget](#tripleswitch-widget)
  - [Type References](#type-references)
  - [Video widget](#video-widget)
  - [WebView widget](#webview-widget)
  - [Youtube](#youtube)
- [composite-widgets](#composite-widgets)
- **actions**
  - [authenticateByBiometric](#authenticatebybiometric)
  - [BLE Client](#ble-client)
  - [callExternalMethod](#callexternalmethod)
  - [checkPermission](#checkpermission)
  - [closeAllDialogs](#closealldialogs)
  - [connectWallet](#connectwallet)
  - [copyToClipboard](#copytoclipboard)
  - [Device Security](#device-security)
  - [Actions](#actions)
  - [dispatchEvent action](#dispatchevent-action)
  - [executeActionGroup](#executeactiongroup)
  - [executeCode](#executecode)
  - [getLocation](#getlocation)
  - [getNetworkInfo](#getnetworkinfo)
  - [getPhoneContacts](#getphonecontacts)
  - [invokeAPI](#invokeapi)
  - [invokeHaptic](#invokehaptic)
  - [Action: navigateBack](#action-navigateback)
  - [navigateModalScreen](#navigatemodalscreen)
  - [navigateScreen](#navigatescreen)
  - [navigateViewGroup](#navigateviewgroup)
  - [notification](#notification)
  - [onNavigateBack](#onnavigateback)
  - [openAppSettings](#openappsettings)
  - [openCamera](#opencamera)
  - [openPlaidLink](#openplaidlink)
  - [openUrl](#openurl)
  - [pauseAudio](#pauseaudio)
  - [pickFiles](#pickfiles)
  - [playAudio](#playaudio)
  - [Pull To Refresh](#pull-to-refresh)
  - [rateApp](#rateapp)
  - [requestNotificationAccess](#requestnotificationaccess)
  - [resumeAudio](#resumeaudio)
  - [saveFile](#savefile)
  - [seekAudio](#seekaudio)
  - [Share](#share)
  - [showBottomModal](#showbottommodal)
  - [showDialog](#showdialog)
  - [showNotification](#shownotification)
  - [showToast](#showtoast)
  - [startTimer](#starttimer)
  - [stopAudio](#stopaudio)
  - [stopTimer](#stoptimer)
  - [takeScreenshot](#takescreenshot)
  - [uploadFiles](#uploadfiles)
- **utilities**
  - [Formatter](#formatter)
  - [Device](#device)
- **device-capabilities**
  - [checkPermission](#checkpermission)
  - [getLocation](#getlocation)
  - [getPhoneContacts](#getphonecontacts)
  - [invokeAPI](#invokeapi)
  - [invokeHaptic](#invokehaptic)
  - [navigateBack](#navigateback)
  - [navigateModalScreen](#navigatemodalscreen)
  - [navigateScreen](#navigatescreen)
  - [notification](#notification)
  - [openCamera](#opencamera)
  - [pickFiles](#pickfiles)
  - [rateApp](#rateapp)
  - [requestNotificationAccess](#requestnotificationaccess)
  - [Share](#share)
  - [showDialog](#showdialog)
  - [showNotification](#shownotification)
  - [uploadFiles](#uploadfiles)
- **javascript-reference**
  - [Add logic using JavaScript](#add-logic-using-javascript)
  - [JavaScript Date](#javascript-date)
  - [Ensemble Objects and their properties](#ensemble-objects-and-their-properties)
  - [Exception Handling in Javascript](#exception-handling-in-javascript)
  - [Defining and Re-using Javascript Code](#defining-and-re-using-javascript-code)
  - [console.log](#consolelog)
  - [JSON](#json)
  - [JsonPath](#jsonpath)
  - [Object](#object)
  - [JavaScript Math](#javascript-math)
  - [Number Functions](#number-functions)
  - [String Functions](#string-functions)
- [AppInfo object](#appinfo-object)
- **tips-and-tricks**
  - [Getting help from Ensemble team](#getting-help-from-ensemble-team)
  - [Custom BottomNavBar item styling](#custom-bottomnavbar-item-styling)
  - [Building responsive UIs](#building-responsive-uis)
  - [Use device's camera for updating profile picture](#use-devices-camera-for-updating-profile-picture)
  - [Inputs to ChartJs](#inputs-to-chartjs)
  - [How to modify the BottomNavBar with custom styling and widgets](#how-to-modify-the-bottomnavbar-with-custom-styling-and-widgets)
  - [Open Maps with Coordinates on Android and iOS](#open-maps-with-coordinates-on-android-and-ios)
  - [Using navigate Screen with BottomNavBar](#using-navigate-screen-with-bottomnavbar)
  - [Dynamic Color Modification in JavaScript](#dynamic-color-modification-in-javascript)
  - [Configuring BottomNavBar Icons](#configuring-bottomnavbar-icons)
  - [Invoke Haptics](#invoke-haptics)
  - [Custom Lottie Animations with Events and Controls](#custom-lottie-animations-with-events-and-controls)
  - [HTML Widget with maxLines Support and Enhanced Styling](#html-widget-with-maxlines-support-and-enhanced-styling)
  - [Push Notification](#push-notification)
  - [Using device width and height](#using-device-width-and-height)
  - [Using BottomSafeArea for Responsive Layouts](#using-bottomsafearea-for-responsive-layouts)
  - [Floating Button](#floating-button)
  - [No Bounded Width Error](#no-bounded-width-error)
  - [No Bounded Height Error](#no-bounded-height-error)
  - [FlexRow No Bounded Width Error](#flexrow-no-bounded-width-error)
  - [FlexColumn No Bounded Height Error](#flexcolumn-no-bounded-height-error)

# Studio overview

Ensemble Studio is where  you can build, test, and publish apps. You can invite your team to collaborate on the same app.

https://studio.ensembleui.com

---

# Ensemble Studio Desktop App

## When to use the desktop app

1. If you wish to use your own git to store your app definition - this allows you to create branches and pull requests.
2. If you wish to work offline and without internet connection

## Installation & Setup

### Windows

1. Download the Windows installer [here](https://firebasestorage.googleapis.com/v0/b/ensemble-web-studio.appspot.com/o/desktop_app%2Fensemble-web-studio-0.1.0%20Setup.exe?alt=media):

2. Run the downloaded `.exe` file
3. Launch Ensemble Web Studio
4. **Note:** Microsoft Defender SmartScreen may display a warning
Step 1: You will see a "Windows protected your PC" message.
Step 2: Click "More info" text to reveal additional options.
Step 3: Click "Run anyway" button to proceed with the installation.
Once confirmed, the application will open.

### MacOS

1. Download the macOS package [here](https://firebasestorage.googleapis.com/v0/b/ensemble-web-studio.appspot.com/o/desktop_app%2Fensemble-web-studio-darwin-arm64-0.1.0.zip?alt=media):
2. Extract the downloaded `.zip` file
3. Move the application to your Applications folder
4. **Note:** Until signing and notarizing is configured, you need to clear extended attributes for the app before launching it for the first time. Run the following command in the terminal:

   ```bash
   xattr -c <path_to_ensemble_app>
   ```

   Replace <path_to_ensemble_app> with the full path to the Ensemble Web Studio application. *This step is only required during the initial launch.*
5. Launch Ensemble Studio

## Environment Modes

You can switch between Local and Development modes using the environment dropdown available on **home and every app page**:

### Development Mode

Development mode connects to the cloud environment:

- Files are stored in Firebase
- Requires internet connection
- Changes are synchronized with other collaborators
- Suitable for real-time collaboration

### Local Mode

Local mode allows you to work completely offline with files stored on your local machine:

- Files are stored in your system's user directory
- No internet connection required
- Changes are saved locally
- Connect the local folder to a git provider to create branches and pull requests
- Perfect for offline development or testing

Local files location by operating system:

- Windows: `%APPDATA%/ensemble-web-studio`
- macOS: `~/Library/Application Support/ensemble-web-studio`

Note:

- You can switch between modes at any time using the dropdown
- The selected mode affects where your changes are saved
- Each mode maintains its own version of the files
- Remember to use Pull/Push operations when you want to sync between modes

## Synchronization

### Pulling from Cloud to Local

To work with an app locally:

1. Launch the desktop application
2. Click on the `...` menu button on the app card you want to work with
3. Select "Pull App" from the context menu
4. Select the target directory and click the `Pull` Button
5. Wait for the pull to complete

### Pushing Local Changes to Cloud

To push your local changes back to the cloud:

1. Launch the desktop application
2. Click on the `...` menu button on the app card you want to work with
3. Select "Push App" from the context menu
4. Wait for your changes to push on the cloud

## Local File Structure

When working in local mode, files are organized as follows:

```directory
<project-path>/
├── assets/
├── fonts/
├── scripts/
├── widgets/
├── screens/
├── translations/
├── config/
│   ├── appConfig.json
│   ├── secrets.json
├── theme.yaml
├── .manifest.json
```

Key location:

- `metadata.json`: App configuration and settings

## Additional Resources

For more information or support, join the [Discord community](https://discord.gg/cEHkJTmn75) or refer to the official documentation.

---

# Ensemble Screen Structure

Ensemble apps are built using a collection of screens, along with reusable components like [widgets](/screens-and-widgets/widgets), [scripts](/javascript-reference/global-scripts), [assets](/assets), etc. This guide explores the core structure of an Ensemble screen and the elements that make it up.

**Key Components of Screen:**
This section serves as a reference point for the key elements you'll encounter while creating a screen on Ensemble:

- [View](#view): The fundamental building block for screen content and layout.
- [ViewGroup](#view-group): A container for managing and arranging multiple views.
- [Header](#header): Optional element for displaying titles, navigation, or controls at the top of the screen.
- [Menu](#menu): Optional element for user navigation within the app.
- [Body](#body): Main content area of a screen, typically containing widgets.
- [API](#api): The collection of functions and tools provided by Ensemble for building your app.
- [Global](#global): Elements or functionalities accessible across all screens in your app.

Below is the overview of the basic components being arranged on the screen.

<p align="center">
<img src="public/images/view-structure.png" alt="Page Skeleton" height="70%" width="70%">
</p>

## View Group

The ViewGroup widget allows you to group multiple Views together and organize them behind a menu, such as a Drawer, EndDrawer, BottomNavBar, SideBar, or EndSidebar. This provides a convenient way to create structured layouts and navigation within your application.

### Example

Let's look at an example with a `Bottom Navigation Bar` menu type.

```yaml
ViewGroup:
  BottomNavBar:
    styles:
      backgroundColor: white
    items:
      - icon: search
        label: Search
        page: Home
      - icon: assignment
        label: Appointments
        page: MyAppointments
      - icon: list
        label: My Doctors
        page: MyDoctors
      - icon: account_circle
        label: Profile
        page: Profile
```

##### Output

<p align="center">
<img src="public/images/page_structure_1.png" style="border-radius:8px;" alt="BottomNavBar" height="500"/>
</p>

> To get hands-on experience with View Group, check the live example on [Ensemble Studio](https://studio.ensembleui.com/app/3vEZBIhDyYnIQo6BLN2O/screen/Wewvp6ZUyb0PBwkTAltQ?propertyPanelEnabled=true&instantPreviewDisabled=false)

## View

The View widget defines the overall structure of a page, including properties like header, body and more, to create a cohesive layout and presentation within your application. View requires only body while other components like [header](#header) and [menu](#menu) are optional.

#### Properties

| Property | Type   | Description                                                                                                                                                                                              |
| :------- | :----- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| header   | object | [details](#header)                                                                                                                                                                                       |
| body     | object | [details](#body)                                                                                                                                                                                         |
| onLoad   | action | Execute an Action from a set of pre-defined set of actions when the screen loads                                                                                                                         |
| onPause  | action | Execute an Action when this screen is no longer active. This happens when another screen navigates on top of this screen, or when the App (Native only) is no longer in the foreground.                  |
| onResume | action | Execute an Action when this screen becomes active again from the inactive state. This happens when navigating back from another screen, or when the App (Native only) is brought back to the foreground. |
| options  | string | Specify if this is a `regular` (default) or `modal` screen.                                                                                                                                              |
| styles   | object | [see properties](#viewstyles)                                                                                                                                                                            |

#### View.styles

| Property               | Type                                              | Description                                                                                                                                                                                                                                                                                                                          |
| :--------------------- | :------------------------------------------------ | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| backgroundColor        | [Color](/widgets/types#color)                     | Background color for the screen starting with '0xFF' for full opacity e.g 0xFFCCCCCC. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| backgroundImage        | [BackgroundImage](/widgets/types#backgroundimage) | Background image of the View.                                                                                                                                                                                                                                                                                                        |
| useSafeArea            | boolean                                           | Applicable only when we don't have a header. If true, insert paddings around the body content to account for the devices' Safe Area (e.g. iPhone notch). Default is false.                                                                                                                                                           |
| scrollableView         | boolean                                           | Specify if the content of this screen is scrollable with a global scrollbar. Using this also allows you to customize the scrolling experience of the header.                                                                                                                                                                         |
| showNavigationIcon     | boolean                                           | For a screen with header, the App will automatically show the Menu, Back, or Close icon (for the modal screen) before the title. On the modal screen without the header, the Close icon will be shown. Set this flag to false if you wish to hide the icons and handle the navigation yourself.                                      |
| navigationIconPosition | string                                            | On modal screen without a header, you can position the close button at the `start` or `end` of the screen. For left-to-right languages like English, start is on the left and end is on the right. This property has no effect on a screen with header.                                                                              |

## Header

The header contains the Safe Area (e.g. iPhone notch) and by default has the background color of your theme's primaryColor. It includes:

1. `navigation icon`. If a drawer menu is used the system will automatically show an icon to open/close the drawer, otherwise if this page can navigate back to the previous page, the back arrow will be shown. If neither condition is true, the icon will not be visible, in which case the title will stretch to fill the entire horizontal space.
2. `title`. Its simplest form is a string which is the title text. You may override it with a custom widget.
3. `flexible background`. Specifies a widget that will fill the entire header (including the notch). This is typically used as a background for the header. This widget will be laid out first, with the navigation icon and the title overlay on top.

#### Properties

| Property           | Type               | Description                                                                                                                                                                                                                           |
| :----------------- | :----------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| titleText          | string             | The title for the screen                                                                                                                                                                                                              |
| titleWidget        | [Widget](/widgets) | Render this widget as the screen title                                                                                                                                                                                                |
| styles             | object             | [see properties](#headerstyles)                                                                                                                                                                                                       |
| flexibleBackground | [Widget](/widgets) | This widget (typically used as an background image) acts as the header's background, with the title bar and the bottom widget overlaid on top. On non-scrollable screen, its dimensions is dictated by the header's width and height. |

#### Header.styles

| Property          | Type                          | Description                                                                                                                                                                                                                                                                                                                                                                    |
| :---------------- | :---------------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| backgroundColor   | [Color](/widgets/types#color) | By default the background color uses the theme's 'primary' color. You can override the header's background color here. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`          |
| color             | [Color](/widgets/types#color) | By default the navigation icon, title, and action icons uses the theme's 'onPrimary' color. You can override their colors here. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| elevation         | integer                       | Raise the header on its z-coordinates relative to the body. This effectively creates a drop shadow on the header's bottom edge. Minimum value: 0, Maximum value: 24                                                                                                                                                                                                            |
| shadowColor       | [Color](/widgets/types#color) | If elevation is non-zero, this will override the drop shadow color of the header's bottom edge, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                               |
| centerTitle       | boolean                       | Whether to align the title in the title bar's center horizontally (default: true)                                                                                                                                                                                                                                                                                              |
| titleBarHeight    | integer                       | For consistency, the header's title bar has the default fixed height of 56 regardless of its content. You may adjust its height here. Minimum value is `0`                                                                                                                                                                                                                     |
| flexibleMinHeight | integer                       | Applicable only if scrollableView is enabled. This attribute effectively sets the header's min height on scrolling (header's height will varies between the flexibleMinHeight and flexibleMaxHeight). Note that this attribute will be ignored if smaller than the titleBarHeight                                                                                              |
| flexibleMaxHeight | integer                       | Applicable only if scrollableView is enabled. This attribute effectively sets the header's max height on scrolling (header's height will varies between the flexibleMinHeight and flexibleMaxHeight). This attribute will be ignored if smaller than the flexibleMinHeight                                                                                                     |
| animation         | object                        |  [see properties](#headerstylesanimation)                                                                                                          |
| scrollBehaviour   | enum                          |  Specify if header stays `pinned` or goes up `floating`, when page is scrolled up.                                                                                                                                               |
> Note: When the entire View is specified as scrollable, flexible background's height can vary in height (hence flexible) on scroll with a parallax effect.

#### Header.styles.animation

| Property          | Type                          | Description                                                                                                                                                                                                                                                                                                                                                                    |
| :---------------- | :---------------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| enabled           | boolean                       | Animation behaviour `true` or `false`.                                           |
| duration          | integer                       | Specify time in `milliseconds` for which animation must play.                    |
| curve             | string                        | Specify animation curve like `easeIn` `easeOut` or `linear`.                     |
## Menu

Ensemble provides support for five menu types that offer extensive customization options, including the ability to add custom items which are indeed `custom widgets`. These menu types allow users to meet their unique design needs or client requirements. Below, you will find detailed information about each menu type, including the supported properties, styles, and illustrative examples for better understanding.

### BottomNavBar

This is the navigation bar at the bottom of the screen, typical of most iOS and Android apps. Where each item has several properties as explained [below](#bottomnavbaritems).

#### BottomNavBar.Properties

| Property | Type             | Description                                                          |
| :------- | :--------------- | :------------------------------------------------------------------- |
| items    | array of objects | List of menu items (minimum 2). [see properties](#bottomnavbaritems) |
| styles   | object           | [see properties](#bottomnavbarstyles)                                |

#### BottomNavBar.items

| Property                | Type                          | Description                                                                                                                                                                                                                                                                                                                          |
| :---------------------- | :---------------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| icon                    | string                        | Icon name from ` Material Icons``Font Awesome``Remix ` or `custom font icons`.                                                                                                                                                                                                                                                       |
| iconLibrary             | string                        | Enables the usage of various icon libraries like `FontAwesome`, `Remix`, `Material Icons` or `custom icon` fonts within ensemble.                                                                                                                                                                                                    |
| label                   | string                        | Defines the text displayed below the icon, providing a descriptive title or name for the menu item                                                                                                                                                                                                                                   |
| page                    | string                        | The new page to navigate to on click                                                                                                                                                                                                                                                                                                 |
| selected                | boolean                       | Mark this item as selected. There should only be one selected item per page.                                                                                                                                                                                                                                                         |
| visible                 | boolean                       | Mark this item as visible. Default is `true`                                                                                                                                                                                                                                                                                         |
| floating                | boolean                       | Mark this item as a floating icon                                                                                                                                                                                                                                                                                                    |
| floatingMargin          | integer or string             | The margin around the floating.                                                                                                                                                                                                                                                                                                      |
| floatingAlignment       | string                        | How to align the floating in the BottomNavBar. The values are ` left``center``right ` and `none`                                                                                                                                                                                                                                     |
| color                   | [Color](/widgets/types#color) | Unselected icon color, starting with '0xFF' for full opacity e.g 0xFFCCCCCC. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`          |
| selectedColor           | [Color](/widgets/types#color) | Selected icon color, starting with '0xFF' for full opacity e.g 0xFFCCCCCC. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`            |
| backgroundColor         | [Color](/widgets/types#color) | Background color of the box. which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`           |
| floatingBackgroundColor | [Color](/widgets/types#color) | Floating item background color, starting with '0xFF' for full opacity e.g 0xFFCCCCCC. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| floatingIconColor       | [Color](/widgets/types#color) | Floating item icon color, starting with '0xFF' for full opacity e.g 0xFFCCCCCC. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`       |
| customItem              | object                        | Allows user to use custom widgets for two states `selected` and `UnSelected`.                                                                                                                                                                                                                                                        |

##### BottomNavBar.items.customItem

| Property       | Type               | Description                                            |
| :------------- | :----------------- | :----------------------------------------------------- |
| widget         | [Widget](/widgets) | Custom bottom navigation item for the unselected state |
| selectedWidget | [Widget](/widgets) | Custom bottom navigation item for the selected state   |

#### BottomNavBar.styles

| Property        | Type                          | Description                                                                                                                                                                                                                                                                                                                |
| :-------------- | :---------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| backgroundColor | [Color](/widgets/types#color) | Background color of the box. which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |

#### Example

```yaml
BottomNavBar:
  styles:
    backgroundColor: white
    color: grey
    selectedColor: orange
    floatingBackgroundColor: orange
    floatingIconColor: white
  items:
    - label: Home
      activeIcon: home
      icon: home
      page: Home

    - customItem:
        widget: CustomNavBarItem
        selectedWidget: ActiveCustomNavBarItem
      page: Icon

    - icon: note_add
      floating: true
      floatingAlignment: center
      floatingMargin: 5
      onTap: |
        //@code
        ensemble.navigateScreen('Lottie');

    - icon: search
      label: Search
      page: Image
      visible: true

    - customItem:
        widget: CustomNavBarItemWithImage
        selectedWidget: ActiveCustomNavBarItemWithImage
      page: WeeklyScheduler
```

This sippet has example for how user can utilize

1. Custom widgets as items for the menu
2. Floating icons

> To get hands-on experience with BottomNavBar, check the live example on [Ensemble Studio](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/aa634599-cd5d-411c-a4b6-1163f3b5c558).

### Drawer

This menu type puts the menu behind a drawer icon on the header. The drawer icon will be positioned to the 'start' of the header (left for most languages, right for RTL languages). The drawer can be controlled programmatically using the `openDrawer` and `closeDrawer` actions.

#### Drawer.Properties

| Property | Type             | Description                                               |
| :------- | :--------------- | :-------------------------------------------------------- |
| header   | widget           | Custom widget to be displayed at the top of the drawer    |
| footer   | widget           | Custom widget to be displayed at the bottom of the drawer |
| items    | array of objects | List of menu items. [see properties](#draweritems)        |
| styles   | object           | [see properties](#drawerstyles)                           |

#### Drawer.items

| Property     | Type    | Description                                                                                             |
| :----------- | :------ | :------------------------------------------------------------------------------------------------------ |
| icon         | string  | Icon name from `Material Icons`, `Font Awesome`, `Remix` or custom font icons                           |
| activeIcon   | string  | Icon to display when the item is selected. Falls back to `icon` if not specified                        |
| iconLibrary  | string  | Specify icon library: `FontAwesome`, `Remix`, `Material Icons` or custom icon fonts                     |
| label        | string  | Text displayed next to the icon                                                                         |
| page         | string  | The page to navigate to when clicked                                                                    |
| selected     | boolean | Mark this item as selected. Only one item should be selected per page                                   |
| visible      | boolean | Whether the item should be shown. Default is `true`                                                     |
| isClickable  | boolean | Whether the item can be interacted with. Useful for section headers. Default is `true`                  |
| switchScreen | boolean | Whether to navigate to the specified page when clicked. Default is `true`                               |
| onTap        | action  | Custom action to execute when item is tapped. Executes before page navigation if `switchScreen` is true |
| customItem   | object  | Allows using custom widgets for menu items. [see properties](#draweritemscustomitem)                    |

#### Drawer.items.customItem

| Property       | Type   | Description                               |
| :------------- | :----- | :---------------------------------------- |
| widget         | widget | Custom drawer item for the normal state   |
| selectedWidget | widget | Custom drawer item for the selected state |

#### Drawer.styles

| Property        | Type              | Description                                                                                                                                                                                                                                                                                                                |
| :-------------- | :---------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| backgroundColor | integer or string | Background color of the box. which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |

#### Example

```yaml
View:
  header:
    title: Drawer Example
    leadingWidget:
      Icon:
        name: menu
        onTap:
          openDrawer:
  menu:
    Drawer:
      styles:
        backgroundColor: white
      header:
        Column:
          styles:
            height: 200
            padding: 16
            backgroundColor: "#1a1f2b"
          children:
            - Text:
                text: "User Name"
                styles:
                  textStyle:
                    color: white
                    fontSize: 24
      footer:
        Column:
          styles:
            padding: 16
            backgroundColor: "#1a1f2b"
          children:
            - Text:
                text: "App Version 1.0.0"
                styles:
                  textStyle:
                    color: grey

      items:
        # Section header (non-clickable)
        - label: "Main Menu"
          isClickable: false

        # Regular menu item
        - label: "Home"
          icon: home
          page: home

        # Custom menu item
        - customItem:
            widget: CustomDrawerItem
          page: settings

        # Item with custom action
        - label: "Share App"
          icon: share
          switchScreen: false
          onTap:
            closeDrawer:
```


You can program either drawer using these actions:
- `openDrawer`: Opens the drawer programmatically
- `closeDrawer`: Closes the currently open drawer

The drawer can be opened/closed from any widget's `onTap` or other action handlers:

```yaml
Button:
  label: Open Menu
  onTap:
    openDrawer:
```

> Note: Only one drawer (either Drawer or EndDrawer) can be open at a time. If both drawer types are configured, the app-level drawer takes precedence over screen-level drawers.

##### Output

<p align="center">
<img src="public/images/build/image-2.png" alt="Page Skeleton" height="70%" width="70%">
<img src="public/images/build/image-1.png" alt="Page Skeleton" height="70%" width="70%">
</p>

> To get hands-on experience with Drawer, check the live example on [Ensemble Studio](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/0073ebe9-6b0b-4ebf-9e8b-72a93a1275df#)

### End Drawer

Similar to Drawer but the drawer icon will be positioned to the 'end' of the header (right for most languages, left for RTL languages). You can check its properties [here](#drawerproperties).

> To get hands-on experience with End Drawer, check the live example on [Ensemble Studio](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/YIcCi9aXiGJKftQRNi34#)

### SideBar

A fixed navigation menu to the 'start' of the screen (left for most languages, right for RTL languages). The menu may become a drawer menu on lower resolution or screen sizes.

#### Sidebar.Properties

| Property | Type             | Description                                                     |
| :------- | :--------------- | :-------------------------------------------------------------- |
| header   | widget           | The header widget for the menu                                  |
| footer   | widget           | The footer widget for the menu                                  |
| items    | array of objects | List of menu items (minimum 2). [see properties](#sidebaritems) |
| styles   | object           | [see properties](#sidebarstyles)                                |

#### Sidebar.items

| Property    | Type    | Description                                                                                                                       |
| :---------- | :------ | :-------------------------------------------------------------------------------------------------------------------------------- |
| icon        | string  | Icon name from ` Material Icons``Font Awesome``Remix ` or `custom font icons`.                                                    |
| iconLibrary | string  | Enables the usage of various icon libraries like `FontAwesome`, `Remix`, `Material Icons` or `custom icon` fonts within ensemble. |
| label       | string  | Defines the text displayed below the icon, providing a descriptive title or name for the menu item                                |
| page        | string  | The new page to navigate to on click                                                                                              |
| selected    | boolean | Mark this item as selected. There should only be one selected item per page.                                                      |
| visible     | boolean | Mark this item as visible. Default is `true`                                                                                      |

#### Sidebar.styles

| Property        | Type              | Description                                                                                                                                                                                                                                                                                                                |
| :-------------- | :---------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| backgroundColor | integer or string | Background color of the box. which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| borderWidth     | integer           | The thickness of the border                                                                                                                                                                                                                                                                                                |
| borderColor     | integer or string | Color of the border, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`         |
| itemDisplay     | string            | How to render each navigation item. `stacked` `sideBySide`                                                                                                                                                                                                                                                                 |
| itemPadding     | integer or string | Padding for each navigation item with CSS-style value                                                                                                                                                                                                                                                                      |
| minWidth        | integer           | The minimum width for the menu (default 200)                                                                                                                                                                                                                                                                               |

#### Example

An example on how to use Sidebar menu.

```yaml
View:
  title: Sidebar menu
  menu:
    Sidebar:
      items:
        - label: Home
          icon: home
          page: Home
        - label: Button
          icon: input
          page: Button

  Column:
    styles: { gap: 16, padding: 24, scrollable: true }
    children:
      - Markdown:
          text: |
            This page includes menu displayed as Sidebar
```

##### Output

<p align="center">
<img src="public/images/build/image-3.png" alt="Page Skeleton" height="70%" width="70%">
</p>

> To get hands-on experience with Sidebar, check the live example on [Ensemble Studio](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/QZyoRkHHrHEAkGJMwoNU#)

## Body

The View requires a single widget defined as its child. This will act as the body content, and can only be a Column, Row, Flex, or Stack widget.

## API

API provides a convenient way to interact with external services or data sources, allowing developers to make HTTP requests, access data, and integrate various functionalities into their applications.

#### Properties

| Property   | Type   | Description                                                                     |
| :--------- | :----- | :------------------------------------------------------------------------------ |
| method     | String | The HTTP method of the request, such as `GET`, `POST`, `DELETE`, `PUT`, `PATCH` |
| uri        | String | The URI for the request                                                         |
| body       | Object | The request body                                                                |
| headers    | Object | The headers for the request                                                     |
| onResponse | Action | The action to handle the response                                               |
| onError    | Action | The action to handle errors                                                     |
| inputs     | Array  | The input values                                                                |

> To learn about API's in detail, click [here](/actions/invoke-API)

## Global

Global enables users to declare or define functions and variables which can be accessed globally inside the whole screen in every widget. In simple words its scope ig `global` just like a normal JavaScript `Global Execution Context` where users can access these functions anywhere in the screen.

**Example**

```yaml
View:
  header:
    title: "Code: Global functions"
  styles:
    scrollableView: true
  Column:
    styles: { gap: 16, padding: 24 }
    children:
      - TextInput:
          id: secondsInput
          label: Seconds
          value: 28565
      - Button:
          label: Convert to hours and minutes
          onTap:
            executeCode:
              body: |-
                //@code
                results.text = convertSecondsToHours(secondsInput.value);

      - Text:
          id: results

Global: |-

  function convertSecondsToHours (s) {

    console.log(s);
  }
```

**Output**

The output can be checked in the logs for browser

<p align="center">
<img src="public/images/build/image-6.png" alt="Page Skeleton" height="70%" width="70%">
</p>

## Putting it together

This example illustrates almost all the widgets which are integral part of ensemble page structure. It also demonstrates a comprehensive usage of BottomNavBar, onLoad action, API calls and custom widgets.

```yaml
View:
  onLoad:
      invokeAPI:
        name: getUser
        inputs:
          id: 32GelurbLbd6umj3ULOkAXYSYyq2

  # Set the view to be scrollable
  styles:
    scrollableView: true
menu:
    BottomNavBar:
      styles:
        shadowColor: 0xFFFD451C
      items:
        - icon: home
          label: Home
          page: Home
          selected: true
        - label: Favorite
          icon: favorite
          page: Favorite
        - label: Promos
          icon: loyalty
          page: Promos
        - label: Account
          icon: account_circle
          page: Profile

  # This is the parent widget for all screen content
  body:
    Column:
      styles:
        backgroundGradient:
          colors: [ 0xFFF4D66C, 0xFFFEFAF3, 0xFFFFFFFF ]
          start: topLeft
          end: bottomRight

      children:
        - UserInfo
        - SearchBar
        - Categories
        - NearbyFood
```

#### Output

<p align="center">
<img src="public/images/build/image-4.png" alt="Page Skeleton" height="70%" width="70%">
</p>

> To get hands-on experience with a complete Application, check [Ensemble Studio](https://studio.ensembleui.com/app/iM58Wgr7bgzTxEi7rV40/screen/cYMnCfhOya8Vq1QG6aCC?propertyPanelEnabled=true&instantPreviewDisabled=false)

---

# Layouts

Ensemble layouts are themselves widgets that contain other widgets. Here is a comprehensive list of Layout widgets with their properties and usage examples in EnsembleUI.

| Widget       | Documentation  | Kitchen sink example    |
| ------------ | -------------- | ----------------------- |
| Column       | [Link](/widgets/column)        | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/90a8e4df-5eab-4473-ba10-2ecffc9596b0) |
| FittedColumn | [Link](/widgets/fitted-column) | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/hRFxxoaBePQaLfmoBiIb)  |
| Row          | [Link](/widgets/row)           | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/4bd0d453-c243-429d-a562-93cbc9db38e3) |
| FittedRow    | [Link](/widgets/fitted-row)    | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/fvSONumk7npuTDmIWwis) |
| Flex         | [Link](/widgets/flex)          | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/R3KgxV3UPWb4TjoiPI0U) |
| Flow         | [Link](/widgets/flow)          | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/3e901fb8-a0e8-4f52-979b-7f5f2547e650) |
| ListView     | [Link](/widgets/listview)      | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/w0Wmu9ZMP4csk7IELSx3) |
| GridView     | [Link](/widgets/gridview)      | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/DX5j2WVQFabmxD9FCD5h) |
| StaggeredGrid | [Link](/widgets/staggeredgrid.md) | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/a9iIs4wvgqDOhU4rN6GR) |
| Stack        | [Link](/widgets/stack)         | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/572ecf3b-b9f2-46f4-960f-ff438e5fa1dc) |
| DataGrid     | [Link](/widgets/data-grid)      | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/c5940e18-f2c1-4318-8e68-a678a6ae7247) |
| TabBar       | [Link](/widgets/tabbar)        | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/cebd491d-7d90-43f4-9f17-b8575de441ca) |
| Carousel     | [Link](/widgets/carousel)      | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/2e1d88b1-f281-4c2c-9bb1-bd18016d2b8c) |
| Divider      | [Link](/widgets/divider)       | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/4a893a2e-5bde-400c-b974-b25b497d31a5) |
| Spacer       | [Link](/widgets/spacer)        | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/1d7e42a9-5bbc-4b4b-9a02-8c102234ee05)   |

---

# Widgets Directory

Ensemble widgets enable you to build both simple and complex applications.

### Data display

| Widget           | Documentation             | Kitchen sink example                                                                                                       |
| ---------------- | ------------------------- | -------------------------------------------------------------------------------------------------------------------------- |
| Text             | [Link](/widgets/text)     | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/c87f8b09-58e2-4c2f-99a1-cbbe9e25e9a5) |
| Image            | [Link](/widgets/Image)    | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/7c7a3ffe-68ef-4e99-b9d1-4b5cee166233) |
| Icon             | [Link](/widgets/Icon)     | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/e7c686f5-b8a2-4670-9e6e-8fdb0fea768e) |
| Avatar           | [Link](/widgets/avatar)   | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/kJ9eqI5BPL30IwjnEDdJ)                 |
| Map              | [Link](/widgets/Map)      | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/36e52d1a-39c5-4a6b-b064-2be6cfe3cf7b) |
| QRCode           | [Link](/widgets/qrcode)   | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/f4921ba2-9f3d-4c33-8848-4df29a5e7a4d) |
| Video            | [Link](/widgets/video)    | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/fce92bbb-af8e-403d-bf2d-c10926cc89a0) |
| Lottie animation | [Link](/widgets/lottie)   | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/576f3004-83e6-429d-b256-628d85e05f7f) |
| Markdown         | [Link](/widgets/markdown) | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/6b6d9c3d-359b-4768-99a5-3f087a64387c) |
| HTML             | [Link](/widgets/html)     | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/ZhTBody9YozadVvTlhW0)                 |
| Webview          | [Link](/widgets/webview)  | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/22c8d57d-a906-4d11-873d-161fd6c56c0a) |

### Layout

| Widget        | Documentation                     | Kitchen sink example                                                                                                       |
| ------------- | --------------------------------- | -------------------------------------------------------------------------------------------------------------------------- |
| Column        | [Link](/widgets/column)           | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/90a8e4df-5eab-4473-ba10-2ecffc9596b0) |
| FittedColumn  | [Link](/widgets/fitted-column)    | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/hRFxxoaBePQaLfmoBiIb)                 |
| Row           | [Link](/widgets/row)              | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/4bd0d453-c243-429d-a562-93cbc9db38e3) |
| FittedRow     | [Link](/widgets/fitted-row)       | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/fvSONumk7npuTDmIWwis)                 |
| Flex          | [Link](/widgets/flex)             | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/R3KgxV3UPWb4TjoiPI0U)                 |
| Flow          | [Link](/widgets/flow)             | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/3e901fb8-a0e8-4f52-979b-7f5f2547e650) |
| ListView      | [Link](/widgets/listview)         | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/w0Wmu9ZMP4csk7IELSx3)                 |
| GridView      | [Link](/widgets/gridview)         | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/DX5j2WVQFabmxD9FCD5h)                 |
| StaggeredGrid | [Link](/widgets/staggeredgrid.md) | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/a9iIs4wvgqDOhU4rN6GR)                 |
| Stack         | [Link](/widgets/stack)            | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/572ecf3b-b9f2-46f4-960f-ff438e5fa1dc) |
| DataGrid      | [Link](/widgets/data-grid)        | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/c5940e18-f2c1-4318-8e68-a678a6ae7247) |
| TabBar        | [Link](/widgets/tabbar)           | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/cebd491d-7d90-43f4-9f17-b8575de441ca) |
| Carousel      | [Link](/widgets/carousel)         | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/2e1d88b1-f281-4c2c-9bb1-bd18016d2b8c) |
| Collapsible      | [Link](/widgets/collapsible)         | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/yTFRepwpRQJbvRYaVpRi) |
| Divider       | [Link](/widgets/divider)          | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/4a893a2e-5bde-400c-b974-b25b497d31a5) |
| Spacer        | [Link](/widgets/spacer)           | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/1d7e42a9-5bbc-4b4b-9a02-8c102234ee05) |
| Shape         | [Link](/widgets/shape)            | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/Lg2nljyD46n2hiAUlBMP)                 |
| Slidable   | [Link](/widgets/slidable) | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/hDUEQtsqHbuLoegWoyDR) |

### Forms and inputs

| Widget          | Documentation                  | Kitchen sink example                                                                                                       |
| --------------- | ------------------------------ | -------------------------------------------------------------------------------------------------------------------------- |
| Form            | [Link](/widgets/form)          | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/3107baf6-dfc3-42cd-b617-61c37b31f31e) |
| TextInput       | [Link](/widgets/textinput)     | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/abc081b1-bcb4-4db6-ae55-7987cb6c418e) |
| Button          | [Link](/widgets/button)        | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/09c1087b-f9ee-4a8c-9286-e0e881184c07) |
| Dropdown        | [Link](/widgets/dropdown)      | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/fb8d28a2-834e-40a9-8419-155272fb0191) |
| AutoComplete    | Coming soon                    | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/3tBTU9CUTu0IegpytNYa)                 |
| Checkbox        | [Link](/widgets/checkbox)      | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/21f43d9b-db21-40fe-9c2f-806267e6c412) |
| Switch          | [Link](/widgets/switch)        | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/3f4ba37a-0e6a-46a1-9b78-e4e04c84937d) |
| Date            | [Link](/widgets/date)          | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/e7zOy8oX5dxQU7kD5IO4)                 |
| DateRange       | Coming soon                    | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/b45c5576-ec22-4b04-832f-6dd7571dd20f) |
| Time            | [Link](/widgets/time)          | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/yNHLPObY1wWgCpg0sgoW)                 |
| PasswordInput   | [Link](/widgets/passwordinput) | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/218fa244-f0cd-4d17-91e6-7c099bbedede) |
| Signature       | [Link](/widgets/signature)          | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/70eb8a13-e7df-4778-b7e6-57df17b032a0) |
| WeeklyScheduler | Coming soon                             | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/244ce957-98ed-4db8-a5a7-ee587d6dfe0b) |

### Conditional

| Widget      | Documentation                | Kitchen sink example                                                                                                                                                                   |
| ----------- | ---------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Conditional | [link](/widgets/conditional) | [link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/XljPegGrdieyKjy16URC?propertyPanelEnabled=true&instantPreviewDisabled=false&editorV2Enabled=true) |

### Feedback

| Widget             | Documentation                      | Kitchen sink example                                                                                                       |
| ------------------ | ---------------------------------- | -------------------------------------------------------------------------------------------------------------------------- |
| Progress indicator | [Link](/widgets/progressindicator) | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/c2c248f2-a289-40d3-acd5-65a1a7f3c5a2) |
| Toast message      | [Link](/actions/show-toast)        | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/9a576805-019a-4bd3-953f-3c623fbfb905) |

---

---


# Script with JavaScript

Scripts can provide a powerful way to enhance your app's functionality and customize its behavior beyond what can be achieved with declarative configurations alone.

## When to Use Scripts

Global Scripts are ideal for situations where you need:

- **Reusable Logic:** Define functions or variables that can be used across multiple screens or widgets in your app. For example, a function to format dates or calculate totals could be placed in a Global Script for easy access.
- **Data Storage:** Store pre-defined data like user details, color palettes, or API endpoints in a Global Script for consistent use throughout your app. This simplifies updates and avoids code duplication.
- **Custom Logic:** Scripts allow you to Implement complex logic, manipulate data, perform calculations, and interact with external services and APIs.

## Create a Script
In Ensemble Studio, navigate to your app and select `Scripts` from the left menu. Click the button `Create new script` present at the top right corner of the studio.

![add language](/public/images/scripts/create-script.png)

Now open the script file and you can use standard JavaScript syntax to define variables and functions and then save the file.

![add language](/public/images/scripts/Add-script-content.png)

> Ensemble currently supports JavaScript syntax up to ES5.

## Import the script
In the YAML code for your screen or widget, use the `Import` section to reference the script file. For example:
```yaml
Import:
  - Common
```
## Use the Script
The code example shows how to access variables and functions defined in the Global Script from your screen's YAML code.
```yaml
Import:
  - Common

View:
  styles:
    backgroundColor: ${colors.snowGrey} # Here we have used color imported from the Common Script.
  header:
    title: Global scripts
  body:
    Column:
      styles:
        padding: 24
        gap: 8
      children:
        - Button:
          label: Run function from Common
          styles:
            backgroundColor: ${colors.red} # Here we have used color imported from the Common Script.
          onTap:
            executeCode:
              body: |
                // Import the getUserFromScript function from the Common script
                var thisUser = getUserFromScript();

                // Now assigning text to the Fields
                nameText.text = "Name: " + thisUser.name;
                companyText.text = "Company: " + thisUser.company;

        - Column:
          children:
            - Text:
              text: User Details
              styles:
                textStyle:
                  color: ${colors.green}
                  fontSize: 21
                  fontWeight: bold
                  isItalic: true
            - Text:           # Display user's name
              id: nameText
            - Text:           #  Display user's company
              id: companyText
```
**Explanation:**
1. Accessing Variables from the Script:
   + The `backgroundColor` of the view is set using `${colors.snowGrey}`. This references the snowGrey variable defined in the colors object within the Common Script.
Similarly, the `backgroundColor` of the button is set using `${colors.red}`.
2. Accessing Functions from the Script:
   + Clicking the button triggers the `onTap` event, which calls the `executeCode` block. Inside the block, the `getUserFromScript()` function (defined in Common Script) is called to retrieve user information.
   + The returned data is stored in the `thisUser` variable. To display the user's name, the code constructs a string by combining `"Name: "` with the `name` property of the `thisUser` object.

---


# Interact with APIs

The primary mechanism for an Ensemble app to interact with the backend is through APIs.

The basic flow is:

- [First, define the APIs you want to call](define-api)
- [Invoke API calls](call-api) on events such as onLoad or onTap
- [Access the API response](access-api-response)
- [Handle errors](api-on-error)



Following capabilities are also available in Ensemble:


- [Bind APIs to a template to render a series of widgets](api-item-templates)
- [SSL Configuration](api-ssl-configuration)
- [Chaining API calls](chaining-apis)
- [Websocket](websocket)
- [GraphQL](graphql)

---

# Define APIs

You define APIs by adding the `API` section to any screen. Note that `API` would be at the root level of the document, i.e. as a sibling to the `View`.

```yaml
API:
  myFirstApi: # a new to refer to this API later
    inputs: # specify an array of inputs the API expect. You can reference the inputs in the other API properties, such as the body
    uri: # the endpoint to call, e.g. https://dummyjson.com/users/1
    method: # the HTTP method, such as GET, POST, PUT, DELETE, PATCH
    parameters: # set the parameters to be passed to the API
    manageCookies: # Specify whether to manage cookies automatically for the request. This is only valid for native apps and will be ignored for web apps. Default is false.
    headers: # set headers such as authorization tokens
    body: # set body, in JSON or YAML, to pass data to the API
    onSuccess: # fire an action when the API returns a 2**
    onError: # fire an action when the API returns a 4**

  # add more APIs as you need
  mySecondApi:
```

## GET call without authentication

For public APIs that do not require authentication, you typically need only the URI and the method.

```yaml
API:
  getUser:
    uri: https://dummyjson.com/users/1
    method: GET
```

## GET call with bearer token

APIs might be secured by requiring a token. This token is typically passed as a header parameter named `Authorization`.

```yaml
API:
  getUser:
    uri: https://dummyjson.com/users/1
    method: GET
    headers:
      Authorization: "Bearer <<add token here>>"
```

## GET call with API key

Some API providers would issue keys to their customers. Typically, the API provider would require the key to be passed a parameter. Check with API provider documentation on what the name of this parameter is. Here, we use `apiKey` as an example.

```yaml
API:
  getUser:
    uri: https://dummyjson.com/users/1
    method: GET
    parameters:
      apiKey: "<<add key here>>"
```

## POST call with data

Typically you use POST calls with a body to pass data from the frontend to the backend. You can specify the body of the API, and use inputs to pass them dynamically.

```yaml
API:
  addProduct:
    inputs:
      - productTitle
    uri: https://dummyjson.com/products/add
    method: POST
    body:
      title: "${productTitle}" # example of a dynamic data that is set based on the inputs
      source: MyApp # example of a static data that is always passed
```

---

# Invoking APIs, aka calling APIs

Use `invokeAPI` action to call the APIs you defined. Here are the properties of invokeAPI:

## API response object 
Both the `onResponse` and `onError` actions provide reference to the API response object. The `response` object has the following propertuies available to you.

| Property   | Type   | Description                                                                |
| :--------- | :----- | :------------------------------------------------------------------------- |
| statusCode         | number | Http status code. See details [here](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status) |
| body       | String | the actual body of the response. This is where you are mostly interested in. JSON responses are automatically parsed and made available. Other content-types are available as strings.                               |
| headers     | array | Key value pairs of http response headers                  |
| reasonPhrase | String | Phrase that describes the statusCode. Http response statusCode is a 3 digit number and reasonPhrase describes that number. For example - reasonPhrase for statusCode between 200 and 299 (inclusive) is Successful. More [here](https://www.ibm.com/docs/en/cics-ts/5.5?topic=concepts-status-codes-reason-phrases)                                         |
| cookies | array | A key-value map of cookies received from the API response when manageCookies is enabled                                         |

## API/invokeAPI properties
| Property   | Type   | Description                                                                |
| :--------- | :----- | :------------------------------------------------------------------------- |
| id         | String | Give the API an ID allows you to bind to its result. e.g. ${apiId.body...} |
| name       | String | Name of the API defined in the API section                                 |
| inputs     | Object | Key value pairs ofinputs to be passed to API definition                    |
| onResponse | Action | The action to handle the response. This action can access the `response` object. For example - `response.body` or event overwrite the body as `response.body = myJsonObject;`                                          |
| onError    | Action | The action to handle errors. Just like onResponse, you have the `response` object available here so you can check `response.statusCode` to see what error was sent by the server and then use `response.body` to access the error response                                                |


invokeAPI can be passed to any event, such as `onLoad`, `onTap`, `onPullToRefresh`, ... using EDL or code.


## invokeAPI from EDL

```yaml
View:
  onLoad:
    invokeAPI:
      name: getUser
  body:
    # screen body
API:
  getUser:
    uri: https://dummyjson.com/users/1
    method: GET
```


## invokeAPI from code (Javascript)

```yaml
View:
  onLoad: |
    ensemble.invokeAPI("getUser");
  body:
    # screen body
API:
  getUser:
    uri: https://dummyjson.com/users/1
    method: GET
```


## Pass inputs to the API (in EDL or in code)

A common interaction is to pass user provided info from a form to an API. To achieve this, set API inputs by binding to form values.

Using EDL, set `inputs` property of the `invokeAPI` action.

```yaml
View:
  body:
    Column:
      styles:
        padding: 24
        gap: 8
      children:
        - TextInput:
            id: productName
            label: Product Name
        - Button:
            label: Submit
            onTap:
              invokeAPI:
                name: addProduct
                inputs:
                  productTitle: ${productName.value}

API:
  addProduct:
    inputs:
      - productTitle
    uri: https://dummyjson.com/products/add
    method: POST
    body: 
      title: ${productTitle}
```


Using code, pass `inputs` as an object. *Note* that you cannot pass `onResponse` and `onError` callbacks to `invokeAPI` in code. You can invoke an API in code and have the `onResponse` and `onError` defined on the API definition itself. 

```yaml
View:
  body:
    Column:
      styles:
        padding: 24
        gap: 8
      children:
        - TextInput:
            id: productName
            label: Product Name
        - Button:
            label: Submit
            onTap: |
              ensemble.invokeAPI("addProduct", {
                "productTitle": productName.value
              });

API:
  addProduct:
    inputs:
      - productTitle
    uri: https://dummyjson.com/products/add
    method: POST
    body: 
      title: ${productTitle}
```

---

# Access API response body and headers

You can access an API response through:

- **API name** set when defining the API
- **API ID** set when invoking the API

When invoking the same API more than once, the API name will point to the last instance of the API request. If this is not the desired effect, use an ID instead.


## Basic GET example

Here, we use the API name to access the response body. In EDL, expressions are wrapped in `${}` so that Ensemble runtime evaluates the expression. In this case, the expression is referencing the API response body.

```yaml
View:
  onLoad:
    invokeAPI:
      name: getUser
  body:
    Column:
      styles:
        padding: 40
      children:
        - Text:
            text: ${getUser.body.firstName}
API:
  getUser:
    uri: https://dummyjson.com/users/1
    method: GET
```


## GET array of data and display using a template

An API response could include an array of objects that the app displays using an `item-template`. Any widget that supports `children` property also supports `item-template`. 

```yaml
View:
  onLoad:
    invokeAPI:
      name: getUser
  body:
    Column:
      styles:
        padding: 40
      item-template:
        data: ${getUser.body.users}
        name: user
        template:
          Text:
            text: ${user.firstName}
API:
  getUser:
    uri: https://dummyjson.com/users/
    method: GET
```


## Using ID to access API response

When invoking an API, optionally you can assign it an ID. Use this ID when you invoke the API multiple times to access each instance. Here are few examples:

### 1. Invoking different APIs based on a condition

The name of the API you invoke could be set based on an input so that you can add conditions on what API to call. In this scenari, you need to use an ID to refer to the API response.

```yaml
View:
  onLoad:
    invokeAPI:
      name: getMatches

  body:
    Column:
     item-template:
      data: ${getMatchess.body}
      name: m
      template:
        MatchInfo:
          inputs:
            id: ${m.id}
            api: '${m.status == "Finished" ? "getPastMatchDetails" : "getUpcomingMatch"}'

MatchInfo:

  # use the widget inputs to invoke relevant API and pass the required inputs to the API
  inputs:
    - id
    - api
  onLoad:
    invokeAPI:
      id: matchDetails # use this ID to bind to this API response
      name: ${api}
      inputs:
        id: ${id}
  body:
    Text:
      text: ${matchDetails.body.title}

API:

  getMatchess:
    uri: https://dummyjson.com/matches
    method: GET

  getPastMatchDetails:
    inputs:
      - id
    uri: https://dummyjson.com/match/histpry/${id}
    method: GET

  getUpcomingMatch:
    inputs:
      - id
    uri: https://dummyjson.com/match/info/${id}
    method: GET

```


### 2. Invoking the same API multiple times

In these scenarios, the API name, e.g. `${apiName.body...}`, will point to the last instance where that API was invoked. In contrast, the ID will ensure you are referring to the correct instance of the API response within your widget tree.

Let's consider this scenario:

1. The app fetches a list of people
2. For each person, the app makes a separate API call to get that person's company info

```yaml
View:
  onLoad:
    invokeAPI:
      name: getPeople

  body:
    Column:
      styles:
        padding: 24
      children:
        - GridView:
            styles:
              expanded: true
              itemHeight: 50
            item-template:
              data: ${getPeople.body.users}
              name: p
              template:
                PersonCard:
                  inputs:
                    name: ${p.firstName} ${p.lasstName}
                    company: ${p.company.name}

PersonCard:
  inputs:
    - name
    - company
  onLoad:
    invokeAPI:
      id: thisCompany # use this ID to refer to bind to this API response
      name: getCompanyDetails
      inputs:
        company: ${company}
  body:
    Column:
      children:
        - Text:
            text: ${name}
        - Text:
            text: ${thisCompany.body.name}

API:

  getPeople:
    uri: https://dummyjson.com/users/
    method: GET

  getCompanyDetails:
    inputs:
      - company
    uri: https://dummyjson.com/companies/
    method: GET
    parameters:
      name: ${company}
```

---

# onError

When making API calls, it's crucial to handle errors gracefully to provide a better user experience. When invoking an API, `onError` event is dispatched when the response is a not a success.

```yaml
View:
  body:
    Column:
      children:
        - Button:
            label: Call API
            onTap:
                invokeAPI:
                name: createToDo
                onResponse: |
                    apiStatus.text = 'Call was successful';
                onError: |
                    apiStatus.text = 'API returned an error';
        - Text:
            id: apiStatus
```

---

# Binding APIs to Item Templates

When developing user interfaces, it's common to display lists of items, and Ensemble simplifies this process by providing the item-template property. This property can be assigned to container widgets like GridView or Carousel and is particularly useful for binding API responses to data-driven UI elements.

`item-template` takes the following properties:

- `data`: This should point to an array of data.
- `name`: Set this to a value to reference in the `template`.
- `template`: This is where we define the widgets to render for each item.

| Property | Type   | Description                                                                     |
| -------- | ------ | ------------------------------------------------------------------------------- |
| data     | string | Bind to an array of data from an API response or a variable                     |
| name     | string | Set the name to reference as you iterate through the array of data              |
| template | widget | The data row widget to render for each item, it can be a custom widget as well. |

```yaml
item-template:
  data: ${getPeople.body.results}
  name: item
  template:
    Text:
      text: ${item.name.first}
```

The `data` property of the item-template is bound to the results of the getPeople2 API call (${getPeople2.body.results}).
The `name` property is set to "item," serving as a reference to each item in the array.
The `template` property defines the structure of each item in the list. In this case, it's a Text widget displaying the first name of each person from the API response (${item.name.first}).

This setup uses the API response from getPeople2 to dynamically generate a list of Text widgets, each displaying the first name of a person from the API response.

---

# Mocking API responses to develop and test your app
A key to developing an app quickly is to build the user interface independently of the back-end. This allows the team building the UI to be unblocked and move fast while also providing actual API payloads to the back-end team to build. Another advantage of this approach is that app could be built quickly with mockdata and be demo'd to customers for feedback. 
Ensemble provides a framework for mockng API responses that allow you to do that. You can mock all APIs or some and test with mockdata by simply setting a property. 

- To get hands-on experience with mock APIs, check the live example on [Ensemble Studio](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/UmaRcuduyIZmvOfk9BJu)
  
## 1. Setting/unsetting `useMockResponse`
Firstly, to use mock data in your app, it's important to update the global script of the screen, making sure that the API calls are directed to the mock data instead of the actual URL.
```javascript
Global: |-
  app.useMockResponse = true;
```
this sets the `useMockResponse` in the persistent storage but namespaces it by the appId i.e. <appid>_useMockResponse. 

For example:
RaRwIu1NasUOUsuJ0OuO_useMockResponse = true;
will be set in storage automatically for an app with id = 'RaRwIu1NasUOUsuJ0OuO'

you can check the value by just doing - 
```javascript
if ( app.useMockResponse ) {...}
```
By namespacing it, we can ensure that in ensemble live (or studio preview), one app's `useMockResponse` setting is not leaked into another app. 

In theory, you can bind to it as well as it is just another value in the storage. Remember to bind to `<appid>_userMockResponse` where <appid> should be replaced by your app's id without the <>. for example - RaRwIu1NasUOUsuJ0OuO_useMockResponse

You can obtain appId for your app anytime by doing - 
```javascript
appInfo.appId
```

## 2. Specify mock data on the API definitions
Mock data can be specified in 2 different ways, each offering flexibility and customization options to meet your development and testing needs.
### Inline on the API
Below is an example of an API definition, where `mockResponse` property is utilized to specify the inline mock data, which includes a `body` object containing mock data elements such as `title` and `list`. Additionally, response `headers` can be defined to simulate various scenarios. This approach is useful for quickly defining and modifying mock data directly within the API definition.
```yaml
  slowAPI:
    inputs:
      - uniqueId    
    mockResponse:
      #inline mock response
      body: 
        title: I am mock data
        list:
          - name: mock first
          - name: mock second
          - name: mock third
          - name: ${uniqueId}
      #can set response headers as well
      headers:
        - authToken: absbsbxssjjs
    url: https://openlibrary.org/search.json?q=the+lord+of+the+rings
    onResponse: |-
      console.log('slowAPI='+uniqueId);
      response.body.list.push({name: 'adding in onResponse - '+uniqueId});
```

### Return mock data from a function
```yaml
  mockDataFromFunction:
    inputs:
      - uniqueId    
    mockResponse: ${getMockResponse()}
    url: https://openlibrary.org/search.json?q=the+lord+of+the+rings
    onResponse: |-
      console.log('mockDataFromFunction='+uniqueId);
      response.body.list.push({name: 'mockDataFromFunction adding in onResponse - '+uniqueId});
```
The above API `mockDataFromFunction` endpoint utilizes a function to generate and return mock data dynamically. The `mockResponse` property references the `getMockResponse()` function, which is responsible for generating the mock data. The function could be defined either in the `Global` script block on the current screen or in a separate script and imported in. This method offers greater flexibility and allows for more complex mock data generation logic.
```javascript
var abc = 'var abc';
function getMockResponse() {
  return {
    body: {
      title: 'hello from mockResponse' + abc,
      list: [
        {name: 'mockResponse1'},
        {name: 'mockResponse2'},
        {name: 'mockResponse3'},
        {name: 'mockResponse4'},
        {name: 'mockResponse5'}
      ]
    }
  };
}
```
- Response from mock API can be used in a similar way as real API. To understand the utilization of API responses, detailed documentation is available [here](access-api-response).
### Mocking an error response
You can simply set `statusCode` property of the error to a specified status code such as "500" and `reasonPhrase` property to provide bit of description related to the error.
```yaml
  mockError:
    inputs:
      - uniqueId    
    mockResponse:
      body:
      statusCode: 500
      reasonPhrase: mock bad request

    url: https://openlibrary.org/search.json?q=the+lord+of+the+rings
    onResponse: |-
      console.log('mockDataFromFunction='+uniqueId);
      response.body.list.push({name: 'mockDataFromFunction adding in onResponse - '+uniqueId});
    onError:
      showToast:
        message: error occurred ${response.statusCode} ${response.reasonPhrase}
        options:
          duration: 5
```

---

# Chaining APIs

Chaining APIs, i.e. making sequential API calls, is a practice in app development when you need to retrieve and use data from multiple APIs in a specific order. Chaining APIs allows you to build more complex workflows and gather the necessary information for your application.

```yaml
onLoad:
  invokeAPI:
    name: getuser
    onResponse:
      invokeAPI:
        name: getcurrentUserContacts
        inputs:
            userId: ${getUser.body.id}
```

**Sequential API Calls:**
The onResponse event for each API call specifies the next API call to be made after the current one is successfully completed.
For example, after the initial API call named "getuser", the onResponse event triggers the "getcurrentUserContacts" API call.

---

# SSL Configuration

SSL (Secure Sockets Layer) configuration in Ensemble allows you to secure your API communications through certificate pinning and verification controls. This guide explains the available SSL configuration options and their proper usage.

## Available Configuration Options

### ssl_pinning_enabled

- **Type:** Environment Variable
- **Purpose:** Controls whether SSL certificate pinning is active
- **Behavior:** When set to 'true', the app will only trust connections with certificates matching the provided certificate
- **Availability:** Only supported in native apps (not available for web apps)
- **Default:** false

### ssl_pinning_certificate

- **Type:** Secret
- **Purpose:** Provides the certificate for SSL pinning verification
- **Format:** Must be Base64 encoded
- **Behavior:** The app will only trust servers presenting this certificate
- **Dependencies:** Requires `ssl_pinning_enabled` to be 'true'

### bypass_ssl_pinning

- **Type:** Environment Variable
- **Purpose:** Allows bypassing SSL certificate verification
- **Warning:** Should only be used in development environments, never in production
- **Behavior:** When 'true', bypasses all SSL certificate verification
- **Default:** false

## Security Considerations

1. Certificate pinning provides protection against man-in-the-middle attacks
2. SSL bypass shouldn't be used in production environments as it will create security concerns.
3. Web applications cannot use SSL pinning and rely on browser-based verification

---

# GraphQL

Use Case (Social Media): GraphQL is particularly beneficial in scenarios like social media, where large-scale data is involved. It allows clients to request only the specific data they need, leading to quicker response times (1-2 seconds).
Efficiency: GraphQL enables clients to specify the exact data they want in a single query, reducing over-fetching and under-fetching.

```yaml
   inputs:
      - GQLInput
   uri: ${env['graphQL_URL_'ensemble.storage]}
   method: POST
   headers:
      Authorization: Bearer ${ensemble.storage.token.exp_token}
      ContentType: "application/json"
   body:
      "query": |-
         mutation UpdatePost($input: CreateUpdatePostInput!) {}
         "variables": ${GQLInput}
```

HTTP Method:
GraphQL APIs typically use the HTTP POST method. In your example, the method is specified as POST.
```yaml
method: POST
```

URI (Uniform Resource Identifier):
The URI is typically a single endpoint for GraphQL APIs. In your example, the URI is parameterized with an environment variable (assuming graphQL_URL_ensemble.storage is provided at runtime).
```yaml
uri: ${env['graphQL_URL_'ensemble.storage]}
```

Headers:
GraphQL API requests often include headers for authentication or specifying the content type. In your example, you have headers for Authorization (Bearer token) and ContentType (set to "application/json").
```yaml
headers:
  Authorization: Bearer ${ensemble.storage.token.exp_token}
  ContentType: "application/json"
```

Request Body:
GraphQL API requests use a structured query language in the request body. The key part here is the "query" field, where you define the GraphQL query or mutation. In your example, you are using a mutation called "UpdatePost," and the query is parameterized with ${GQLInput}.
```yaml
body:
  "query": |-
    mutation UpdatePost($input: CreateUpdatePostInput!) {}
    "variables": ${GQLInput}
```

---

# Using WebSockets

The Websockets feature enables bidirectional communication between client and server, facilitating real-time data exchange.


## Define a WebSocket

The WebSocket configuration includes settings for connecting to the WebSocket server, handling connection events, and managing data exchange.

`spark`: Represents the WebSocket connection to the specified URI (`wss://spark.ensembleui.com/example/ws/`).

```yaml
Socket:
  spark:
    uri: wss://spark.ensembleui.com/example/ws/
    onSuccess: |
      status.text = "connected";
    onDisconnect: |
      status.text = "disconnected";
    onReconnectAttempt: |
      status.text = "reconnecting";
    onReceive: |
      console.log(spark.data);
```

## Interact with WebSockets

Ensemble supports following actions for WebSockets:

1. Connect Socket: Establishes a connection to the specified socket.

```yaml
    - Button:
        label: Connect Action
        onTap:
          connectSocket:
            name: spark
```

2. Disconnect Socket: Terminates the connection to the specified socket.

```yaml
    - Button:
        label: Disconnect Action
        onTap:
         disconnectSocket:
            name: spark
```

3. Message Socket: Sends a message over the specified socket.

```yaml
    - Button:
        label: SendMessage Action
        onTap:
          messageSocket:
            name: spark
            message:
            "content": "Hello there"
```

---

# Theme

From color schemes to typography, widgets, and transition options, our comprehensive range of theme elements allows you to effortlessly personalize your app. Discover how themes can transform your online presence, create a cohesive brand identity, and provide a delightful user experience. Unlock the full potential of your app with our versatile and user-friendly theme customization features.

[Kitchen Sink Example](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/theme)

## Where to find it ?

You can find the theme on Left-Side of the panel in ensemble studio after you have selected your App.

<img width="1440" alt="image" src="https://github.com/user-attachments/assets/ddc65832-3c49-4e2f-8339-bb399fa529f9">

## Defining one theme

You can define one or more themes for our app and switch between them dynamically. If you only need one theme, you can just define the `Styles` without any `Theme` tag, see the following example.

```yaml
Tokens:
  Colors:
    primary:
      '900': '#1A2A4C'
      '800': '#243B6A'
      '700': '#2F4D89'
      '600': '#0077B8'
      '500': '#0092E0'
      '400': '#33B8FF'
      '300': '#70CDFF'
      '200': '#ADE4FF'
      '100': '#D6F1FF'
      '50': '#EBF5FF'
Styles:
  Button:
    backgroundColor: ${Colors.primary['800']}
  .submitButton:
    backgroundColor: green
```

## Defining multiple themes

Use Case: Allow your users to switch between differnt themes to personalize the look and feel of your app to their tastes. Save the theme that the user selected and automatically apply it everytime user opens the app. 

You can define one or more themes for our app and switch between them dynamically. See [Kitchen Sink Example](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/theme) for a detailed example. 

## Defining themes for different languages

Use Case: The primary use case is to define a different `fontFamily` for each language as some font families are more optimized for particular languages . You can go much further and define entirely different themes per language as well and allow users to switch between them.

You can define multiple different themes for each language. This is of course optional. 
- Ensemble platform will automatically pick the default theme for a language based on the language of the user's device.
- If none of the themes are marked as `default`, first theme for the language is selected.
- If a theme is not defined for the language, the default theme from the list of themes (or the first one) is applied. 

Here's how to define themes per language (also called locale) - 

```yaml
Themes:
# this is the list of all available themes
  - Common
  - PrimaryTheme:
      default: true
  - SecondaryTheme
  - RTLTheme:

LocaleThemes:
#this is the list of themes per locale. Note that the following themes must be present in the list of `Themes` above
  en: #language code - https://www.science.co.il/language/Locale-codes.php is used to identify the language for the theme
    - SecondaryTheme:
        default: true
    - PrimaryTheme
  ur:
    - RTLTheme:
        default: true
    - SecondaryTheme
  ar:
    - RTLTheme
```
The [language code](https://www.science.co.il/language/Locale-codes.php) is used to identify the language. 

## Checking and Switching Themes in Javascript

```javascript
var themes = app.themes; //returns a list of all configured themes
var currentTheme = app.theme; //currently applied theme
app.theme = 'newTheme'; //change themes dynamically. The theme name must be in the list of Themes in the theme definition.
```

In the following EDL, a `DropDown` widget is bound to the list of `themes` that have been configured in the app and allows user to swtich from one theme to another. 

**Example:**

Bind the `themes` to a dropdown and let user switch themes from all the available themes. 
```yaml
  - Dropdown:
      label: Pick a Theme
      items: ${app.themes}
      value: ${app.theme}
      onChange:
        executeCode:
          body: |
            app.theme = this.value;
```

## Savings themes in storage so they can be applied across application sessions

A common requirement from theming is to be able to persist a theme that user has selected across multiple application sessions i.e. even when the user kills the app and relaunches, the theme s/he selected should automatically apply. Ensemble provides that capability by storing themes in local storage. 

At application startup time, Ensemble platform checks if there is a saved theme and if that theme exists in the list of theme definitions. If both conditions are true, it automatically applies the saved theme instead of the default theme configured in the app. 

Application developers have the following functions available to them. 
```javascript
//save theme in storage, this will automatically be applied by the platform on startup
//note that saveTheme does NOT apply a theme, it merely saves it. use app.theme = 'myNewTheme'; to change themes dynamically, 
app.saveTheme('myNewTheme');
//retrieve the saved theme
var savedTheme = app.getSavedTheme(); //there can only be one saved theme
//or remove the saved theme from storage
app.removeSavedTheme();
```

## Text Styles are automatically inherited unless overriden
All text styles (for example - `fontSize`, `fontFamily`, `color` etc) can be defined at the `View`, `Column`, `Row` or any of the top widget level and will automatically be inherited by all `Text` widgets. Note that labels for `Button` etc do not inherit these styles. 

**Example:**
```yaml
View:
  className: topView
#rest of your screen definition
```
And over in your Theme
```yaml
  Styles:
    .topView:
      backgroundColor: ${Colors.gray['200']}
      textStyle:
        fontWeight: ${Typography.fontWeight['700']}
        fontSize: ${Typography.fontSize['xl']}
```
All `Text` in the screen will inherit these text styles. You can specify the style at the `View` node and then all Text widgets across your whole app would inherit those text styles

## Parts of a Theme

- Tokens (optional)
- Styles (in precedence order)
  - Inline - specified directly on the widget
  - ID based - specified with `#` before the name in the Theme.Styles
  - Style Classes - specified as `className` attribute on a widget. One or more space delimited classes
  - Widget type - specified for the widget type such as Button in the Theme.Styles
  - Inherited from parent - these are limited to `textStyle` only (see above)
 
Here's an explanation of the different parts of a theme:

**1. Tokens (Optional):**

Tokens are named collections of values typically used for colors, fonts, and spacing. They provide a way to define reusable values across your theme and avoid code duplication. These tokens are then used inside the `Styles` with the expression syntax, for example `${Colors.gray['200']}`

**Example:**

```yaml
Light:
  label: Light Theme
  description: This theme turns everything light as in white background and is default
  inheritsFrom: Common
  Tokens:
    Colors:
      teal:
        '900': '#014451'
        '800': '#05505C'
        '700': '#036672'
        '600': '#047481'
        '500': '#0694A2'
        '400': '#16BDCA'
        '300': '#7EDCE2'
        '200': '#AFECEF'
        '100': '#D5F5F6'
        '50': '#EDFAFA'      
  Styles:
    Button:
      borderRadius: 20
    .submit:
      backgroundColor: ${Colors.teal['800']}
      labelStyle:
        color: white
        fontFamily: ${Typography.fontFamily}
```

**2. Styles (Precedence Order):**

Styles define how different UI elements will appear. Ensemble applies styles based on their **precedence**, with higher precedence styles overriding lower ones. Here's the order of precedence, from highest to lowest:

* **Inline Styles:** Styles defined directly on the widget using the `style` attribute.
* **Style Classes:** Styles defined in the theme and applied to a widget using the `className` attribute (space-separated list of classes). 
* **ID-based Styles:** Styles defined in the theme using an ID selector (preceded by `#`).
* **Widget Type Styles:** Styles defined for a specific widget type (e.g., `Button`).

**Example of Styles defined in a Theme:**

```yaml
Light:
 Styles:
  # ID-based style
  '#heading':
    fontSize: 24
    fontWeight: bold

  # Widget type style
  Button:
    backgroundColor: ${Colors.primary}
    color: white

  # Style class
  .error:
    color: red
```
**Example of Inline styles and specifying classes**
```yaml
Button:
  styles:
    backgroundColor: red
  className: commonButton submitButton #here two classes are applied in order i.e. the styles defines in the list of classes are merged in the order they are specified.
```
**Specificity:**

Similar to CSS, styles in Ensemble with higher specificity will override those with lower specificity. Specificity is determined by the number and type of selectors used in the style definition. Inline styles and styles specified by the ID-based styles have the highest specificity, followed by classes and then widget type styles.

By understanding the different parts of a theme and how inheritance and specificity work, you can create well-structured, maintainable, and reusable themes for your Ensemble applications.

## Theme Inheritance in Ensemble

Ensemble allows you to create reusable and organized themes using inheritance, similar to how CSS works. This lets you define common styles in a base theme and then have other themes inherit and modify those styles as needed.

### Benefits of Theme Inheritance

* **Reduces code duplication:** Define common styles once in a base theme and avoid repeating them in other themes.
* **Improved maintainability:** Makes changes to common styles easier to manage as they are centralized in the base theme.
* **Theming hierarchy:** Build a clear hierarchy of themes, making it easier to understand how styles are applied.

### How Inheritance Works

1. **Base Theme:** Define a theme (e.g., `Common`) containing the styles you want to share with other themes. You can define multiple base themes
2. **Inheriting Theme:** Define another theme (e.g., `Light`) and specify the base theme it inherits from using the `inheritsFrom` property. A base theme may inherit from another theme forming a chain
3. **Overriding Styles:** The inheriting theme can override any styles from the base theme by defining the same styles with different values.

### Example

Here's an example demonstrating theme inheritance:

**Common Theme:**

```yaml
Common:
  label: Common theme
  Tokens:
    Colors:
      primary: '#0077B8'
      gray:
        '200': '#f2f2f2'
        '300': '#e0e0e0'
  Styles:
    .topView:
      backgroundColor: ${Colors.gray['200']}
    Button:
      borderRadius: 20
      backgroundColor: red
```

**Light Theme (inherits from Common):**

```yaml
Light:
  label: Light Theme
  description: Light theme with white background
  inheritsFrom: Common
  Tokens:
    Colors:
      teal:  # New color palette for Light theme
        '500': '#0694A2'
  Styles:
    Button:
      backgroundColor: ${Colors.teal['500']}  # Inherits primary from Common and overrides with teal
      labelStyle:
        color: white
```

**Explanation:**

* `Light` theme inherits styles and tokens from the `Common` theme.
* `Light` theme overrides the `backgroundColor` of the `Button` style with its own `teal` color.
* `Light` theme's `Button` inherits the `borderRadius` from `Common` theme
* Other styles from `Common` (like `.topView`) are still applied to the `Light` theme.

This example demonstrates how you can define a common base theme and then create specific themes like `Light` and `Dark` that inherit and modify styles as needed.



### Properties

Now let us see what properties does it have on larger level

| Property    | Type    | Description                                                                                                                                                     |
| :---------- | :------ | :-------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| material3   | boolean | If set true, material3 will be applied else material2. see [here](https://material.io/blog/migrating-material-3) for more details about Material Design 2 vs 3. |
| Text        | object  | [see properties](#text)                                                                                                                                         |
| Colors      | object  | [see properties](#colors)                                                                                                                                       |
| Widgets     | object  | [see properties](#widgets)                                                                                                                                      |
| Transitions | object  | [see properties](#transitions)                                                                                                                                  |

### Text

| Property       | Type   | Description                                                                                                                                                                                                                                        |
| :------------- | :----- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| fontFamily     | string or object | Set the font family applicable for all widgets inside this container, see the list of all available font families [here](https://github.com/material-foundation/flutter-packages/blob/main/packages/google_fonts/generator/families_supported). You can specify the fontFamily name directly or specify a different fontFamily for each language, see [Here](../translations.mdx#optionally-configure-different-fontfamily-for-each-language-your-app-supports) |
| displayLarge   | object | Largest of display styles . As the largest text on the screen, display styles are reserved for short, important text or numerals. They work best on large screens. [see properties](#textstyle)                                                    |
| displayMedium  | object | Middle size of the display styles. As the largest text on the screen, display styles are reserved for short, important text or numerals. They work best on large screens. [see properties](#textstyle)                                             |
| displaySmall   | object | Smallest of the display styles. As the largest text on the screen, display styles are reserved for short, important text or numerals. They work best on large screens. [see properties](#textstyle)                                                |
| headlineLarge  | object | Largest of the headline styles. Headline styles are smaller than display styles. They're best-suited for short, high-emphasis text on smaller screens. [see properties](#textstyle)                                                                |
| headlineMedium | object | Middle size of the headline styles. Headline styles are smaller than display styles. They're best-suited for short, high-emphasis text on smaller screens.[see properties](#textstyle)                                                             |
| headlineSmall  | object | Smallest of the headline styles. Headline styles are smaller than display styles. They're best-suited for short, high-emphasis text on smaller screens. [see properties](#textstyle)                                                               |
| titleLarge     | object | Largest of the title styles. Titles are smaller than headline styles and should be used for shorter, medium-emphasis text.[see properties](#textstyle)                                                                                             |
| titleMedium    | object | Middle size of the title styles. Titles are smaller than headline styles and should be used for shorter, medium-emphasis text. [see properties](#textstyle)                                                                                        |
| titleSmall     | object | Smallest of the title styles. Titles are smaller than headline styles and should be used for shorter, medium-emphasis text. [see properties](#textstyle)                                                                                           |
| bodyLarge      | object | Largest of the body styles. Body styles are used for longer passages of text. [see properties](#textstyle)                                                                                                                                         |
| bodyMedium     | object | Middle size of the body styles. Body styles are used for longer passages of text. [see properties](#textstyle)                                                                                                                                     |
| bodySmall      | object | Smallest of the body styles. Body styles are used for longer passages of text. [see properties](#textstyle)                                                                                                                                        |
| labelLarge     | object | Largest of the label styles. Label styles are smaller, utilitarian styles, used for areas of the UI such as text inside of components or very small supporting text in the content body, like captions. [see properties](#textstyle)               |
| labelMedium    | object | Middle size of the label styles. Label styles are smaller, utilitarian styles, used for areas of the UI such as text inside of components or very small supporting text in the content body, like captions. [see properties](#textstyle)           |
| labelSmall     | object | Smallest of the label styles. Label styles are smaller, utilitarian styles, used for areas of the UI such as text inside of components or very small supporting text in the content body, like captions. [see properties](#textstyle)              |

#### TextStyle

| Property | Type              | Description                                                                                                                                                                                                                                                                                                                         |
| :------- | :---------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| fontSize | integer           | Sets the size of the text.                                                                                                                                                                                                                                                                                                          |
| color    | integer or string | The color specification for the text, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |

### Colors

| Property                     | Type              | Description                                                                                                                                                                                                                                                                                                                                                                                           |
| :--------------------------- | :---------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| seed                         | string or integer | Generate color schema based on seed color. The color specification for the text, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`. [more here]()         |
| primary                      | string or integer | Primary color of your App (e.g button color, focus color, ...). The color specification for the text, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`   |
| onPrimary                    | string or integer | The color overlay on top of your primary color (e.g button text). The color specification for the text, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| secondary                    | string or integer | The Secondary color of your App. The color specification for the text, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                  |
| onSecondary                  | string or integer | The color overlay on top of your secondary color. The color specification for the text, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                 |
| disabled                     | string or integer | Color when a widget is disabled. The color specification for the text, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                  |
| loadingScreenBackgroundColor | string or integer | The background color while a screen is loading. The color specification for the text, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                   |
| loadingScreenIndicatorColor  | string or integer | The progress indicator color while a screen is loading. The color specification for the text, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`           |

### Widgets

*All the style properties for a widget are available to you to be set as part of the theme. Following is just a sample.*

| Property | Type   | Description               |
| :------- | :----- | :------------------------ |
| Input    | object | [see properties](#input)  Applies to all form input such as DateRange, TextInput etc|
| Button   | object | [see properties](#button) |

#### Input

| Property                | Type              | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| :---------------------- | :---------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| variant                 | string            | Select a pre-defined look and feel for Input widgets [see properties](#options-for-inputvariant)                                                                                                                                                                                                                                                                                                                                                                           |
| fillColor               | string or integer | The fill color for applicable input fields (TextInput, Dropdown, ...). which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                       |
| borderRadius            | integer           | The border radius for applicable Input widgets.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| borderWidth             | integer           | The border width for applicable Input widgets.                                                                                                                                                                                                                                                                                                                                                                                                                             |
| borderColor             | integer or string | The base border color for applicable input fields. This border color determines the look and feel of your inputs, while the other colors are overrides for different states, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| disabledBorderColor     | integer or string | The border color when input fields are disabled, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                             |
| errorBorderColor        | integer or string | The border color when there are errors on the input fields, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                  |
| focusedBorderColor      | integer or string | The border color of the input field when it is receiving focus                                                                                                                                                                                                                                                                                                                                                                                                             |
| focusedErrorBorderColor | integer or string | The border color of the input field when it is receiving focus in its error state, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                           |
| hintStyle               | object            | [see properties](#textstyle)                                                                                                                                                                                                                                                                                                                                                                                                                                               |

#### Button

| Property        | Type              | Description                                                                                                                                                                                                                                                                                                                                             |
| :-------------- | :---------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| borderRadius    | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                                                   |
| borderColor     | integer or string | Sets the border color, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                                                 |
| borderWidth     | integer           | Thickness of the border. Minimum value should be 0.                                                                                                                                                                                                                                                                                                     |
| color           | integer or string | The color specification for the text, icons, divider etc, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| backgroundColor | integer or string | Background color of the box. which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                              |
| padding         | string or integer | Padding with CSS-style value                                                                                                                                                                                                                                                                                                                            |

#### options for Input.variant

| Property  | Description                                                |
| :-------- | :--------------------------------------------------------- |
| underline | Draw an Underline below applicable input widgets (default) |
| box       | Draw a Box border around applicable input widgets          |

### Transitions

| Property | Type   | Description                                                |
| :------- | :----- | :--------------------------------------------------------- |
| page     | object | [see properties](#properties-for-transitionspage)          |
| modal    | object | Same properties as the `page` property except `alignment`. |

#### Properties for Transitions.page

| Property  | Type    | Description                                                                                                                                                                                                                                                                                                     |
| :-------- | :------ | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| type      | string  | Kind of transition types. Can read more about it [here](/theme-and-styling/animations). Possible values are `fade`,`rightToLeft`,`leftToRight`,`topToBottom`,`bottomToTop`,`scale`,`rotate`,`size`,`rightToLeftWithFade`,`leftToRightWithFade`,`leftToRightPop`,`rightToLeftPop`,`topToBottomPop`,`bottomToTopPop` |
| alignment | string  | The alignment of the widget relative to its parent. `topLeft`, `topCenter`, `topRight`, `centerLeft`, `center`, `centerRight`, `bottomLeft`, `bottomCenter`, `bottomRight`                                                                                                                                      |
| duration  | integer | The duration in `ms ( millisecond )` for which the transition animation happens.                                                                                                                                                                                                                                |

---

# Animations in EnsembleUI

Welcome to our Animations page! Here, you'll learn how to bring your website to life with stunning page transition animations. Elevate user experience and captivate your audience with smooth transitions that seamlessly guide them through your content. Get ready to add a touch of magic to your web pages with our animation techniques.

Note: `Currently we only support page transition animations`.

**Example**
Let us take an example of how page transition animations work. We can make it work in teo ways either at the [Screen](#page-level-code) or in the [Theme](#theme).

#### Page Level



```yaml
- Button:
    label: Navigate to Home
    onTap:
      navigateScreen:
        name: Home
        transition:
          type: bottomToTopPop
          duration: 250 # millisecond is default
```




**Explanation**

The `type` property under `transition` property for _NavigateScreen_ action allows you to chose kind of animation you want. There are [list](#list-of-animation-types) of options you can chose from.

#### Theme

We can also define animations in our App theme, here is how you can do it. You can learn more about theme [here]().



```yaml
Transitions:
  page:
    type: size
    alignment: topRight
    duration: 300 # Millisecond
```




**Explanation**

Works similarly to page level transition in the screen but now we are defining it in [Theme]() which makes it applicable to page transitions across the whole App.

#### List of Animation Types

| Type                | Description                                                                                                                                   |
| :------------------ | :-------------------------------------------------------------------------------------------------------------------------------------------- |
| Fade                | Smoothly transition between pages with a gentle fading effect, creating a seamless and elegant user experience.                               |
| RightToLeft         | Slide pages from right to left, providing a visually pleasing flow that guides users through your content.                                    |
| LeftToRight         | Engage users with a left-to-right animation, giving a sense of progression and intuitive navigation.                                          |
| TopToBottom         | Bring a sense of depth to your pages as they transition from top to bottom, creating a visually immersive experience.                         |
| BottomToTop         | Enhance user engagement by animating pages from bottom to top, adding a touch of dynamism to your website.                                    |
| Scale               | Add a dramatic effect as pages smoothly scale in and out, providing a visually striking transition between content.                           |
| Rotate              | Give your pages a unique twist as they rotate into view, creating a captivating and memorable animation.                                      |
| Size                | Play with the size of your pages as they transition, making them expand or contract for a visually engaging effect.                           |
| RightToLeftWithFade | Combine the sliding motion of right-to-left transition with a fading effect, adding an extra layer of elegance to your page transitions.      |
| LeftToRightWithFade | Blend left-to-right motion with a fade effect, delivering a seamless and visually pleasing transition between pages.                          |
| LeftToRightPop      | Grab attention with a pop animation that slides pages from left to right, creating a dynamic and impactful transition.                        |
| RightToLeftPop      | Add an eye-catching pop animation to your page transitions as they slide from right to left, making a lasting impression on your users.       |
| TopToBottomPop      | Infuse excitement into your transitions with a pop animation that brings pages into view from top to bottom, captivating your audience.       |
| BottomToTopPop      | Elevate user experience with a pop animation that animates pages from bottom to top, adding a delightful touch to your website's transitions. |

---

# Using Custom Fonts

Ensemble supports Google Fonts, but you also have the option to use your own custom fonts when deploying your app with [Ensemble Starter](https://docs.ensembleui.com/#/deploy/1-prepare-app).

###
- From the root directory of Ensemble Starter, open `pubspec.yaml`.
- Under `flutter > fonts`, add your font entry in the following format:
```
  - family: <fontName>
    fonts:
      - asset: assets/fonts/...
        weight: <optional - if you have different font weight>
        style:  <optional - if you have an italic font>
```
- Add your fonts under the directory specified above (e.g. assets/fonts/).
- In your definitions, you may now reference the font specified here using `fontFamily`.
```
Text:
  text: Hello world
  styles:
    textStyle:
      fontFamily: <fontName>
```

---

# Splash Feedback (Touchable Opacity)

The **Splash Feedback** is a visual feedback mechanism that creates a ripple or splash animation when a user interacts with a widget. This effect enhances the user experience by providing immediate visual confirmation that an action, such as a tap or click, has been recognized by the interface.

In many user interfaces, buttons come with a default splash effect, providing instant feedback during interaction. Recognizing the value of this visual feedback, Ensemble introduces the ability to extend the splash effect to other widgets, such as rows, columns, and containers, which don't have a splash effect by default.

[Kitchen Sink Example](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/sXFnorqUvN0l9zfSnTcX)



### Widget List
Following are the list of widgets that support Splash Feedback
| Widget       | Documentation  | Kitchen sink example    |
| ------------ | -------------- | ----------------------- |
| Column       | [Link](/widgets/column)        | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/90a8e4df-5eab-4473-ba10-2ecffc9596b0) |
| FittedColumn | [Link](/widgets/fitted-column) | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/hRFxxoaBePQaLfmoBiIb)  |
| Row          | [Link](/widgets/row)           | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/4bd0d453-c243-429d-a562-93cbc9db38e3) |
| FittedRow    | [Link](/widgets/fitted-row)    | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/fvSONumk7npuTDmIWwis) |
| Flex         | [Link](/widgets/flex)          | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/R3KgxV3UPWb4TjoiPI0U) |
| Stack        | [Link](/widgets/stack)         | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/572ecf3b-b9f2-46f4-960f-ff438e5fa1dc) |
<!-- | Flow         | [Link](/widgets/flow)          | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/3e901fb8-a0e8-4f52-979b-7f5f2547e650) | -->
<!-- | ListView     | [Link](/widgets/listview)      | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/w0Wmu9ZMP4csk7IELSx3) |
| GridView     | [Link](/widgets/gridview)      | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/DX5j2WVQFabmxD9FCD5h) |
| StaggeredGrid | [Link](/widgets/staggeredgrid.md) | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/a9iIs4wvgqDOhU4rN6GR) | -->
<!-- | DataGrid     | [Link](/widgets/data-grid)      | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/c5940e18-f2c1-4318-8e68-a678a6ae7247) |
| TabBar       | [Link](/widgets/tabbar)        | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/cebd491d-7d90-43f4-9f17-b8575de441ca) |
| Carousel     | [Link](/widgets/carousel)      | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/2e1d88b1-f281-4c2c-9bb1-bd18016d2b8c) |
| Divider      | [Link](/widgets/divider)       | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/4a893a2e-5bde-400c-b974-b25b497d31a5) |
| Spacer       | [Link](/widgets/spacer)        | [Link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/1d7e42a9-5bbc-4b4b-9a02-8c102234ee05)   | -->




## Enable Splash Feedback

To enable splash feedback on a widget, use the `enableSplashFeedback` property in the widget’s styles. Set this property to true to activate the visual effect. However, keep in mind that the splash feedback will only work if the widget is using `onTap` action.

```yaml
Row:
  styles:
    enableSplashFeedback: true
    padding: 10
    borderWidth: 1
  onTap:
    executeCode:
      body: |
        console.log("Enabled Splash Feedback")
```

## Splash Color

To enable splash feedback on a widget, use the `enableSplashFeedback` property in the widget’s styles. Set this property to true to activate the visual effect. However, keep in mind that the splash feedback will only work if the widget is using `onTap` action.

```yaml
Row:
  styles:
    enableSplashFeedback: true
    padding: 10
    borderWidth: 1
  onTap:
    executeCode:
      body: |
        console.log("Enabled Splash Feedback")
```

## Set max and min text scaling

You can continue supporting text scaling, but set max and min for the scaling factor:

## Disable text scaling

To disable text scaling globally across your app, go to your app's theme, and add the following:

```yaml
App:
  textScale:
    enabled: true  # this is the default behavior
    maxFactor: 1.2
    minFactor: 0.8
```

In the above example, text size will be increase by max 20%. E.g. if user selects a scaling factor of 1.5 in the OS settings, the text will no be increased more than 20%.

---

# Text scaling

iOS and Android users can use the accessibility features to change the weight, size, and darkness of text to make it easier to read on their devices.

Ensemble apps adhere to user selected preference by default. You can either disable text scaling, or set minimum and maximum factors you like to support in your app. 


## Disable text scaling

To disable text scaling globally across your app, go to your app's theme, and add the following:

```yaml
App:
  textScale:
    enabled: false
```

## Set max and min text scaling

You can continue supporting text scaling, but set max and min for the scaling factor:

## Disable text scaling

To disable text scaling globally across your app, go to your app's theme, and add the following:

```yaml
App:
  textScale:
    enabled: true  # this is the default behavior
    maxFactor: 1.2
    minFactor: 0.8
```

In the above example, text size will be increase by max 20%. E.g. if user selects a scaling factor of 1.5 in the OS settings, the text will no be increased more than 20%.

---


# Assets (images, videos, etc.)

You can manage the assets required by your app within Ensemble Studio. These are typically files such as:

- image files (PNGs, JPEGs, SVGs, etc.)
- video files
- audio files
- JSON source for [Lottie widget](/widgets/lottie)

> [!NOTE]
> When you build and deploy your app, these assets are included in your built output. These assets are loaded instantly in iOS and Android apps instead of downloading them over the network. This approach avoides any delay in displaying the assets.


## Upload assets

Navigate to your app inside Ensemble Studio. Select Assets from the left menu. Click on Add assets and upload your file.

![add language](/public/images/app-assets/assets_landing.png)

## Reference an assets

![add language](/public/images/app-assets/assets_example.png)

1. Click on the `...` icon of the asset.
2. Select `Copy path`.
3. Paste the path in the relevant widget. This is typically the `source` property of widgets such as Image.

---

# Persistent Local Storage
You can write to or access the storage using simply `ensemble.storage`. On the browser, this uses the local storage. On the native apps, it uses the secure storage that's provided to each app by iOS and Android. This stoage is persistent i.e. the data you save will stay there until the user explicitly deletes the storage or the app. This means that you can use storage to share data among multiple screens in your app. 

Typically apps store data such as the logged-in user's information, app-level data to cache data from the backend etc. 

### Storing and Retrieving data
You can store data in the persistent storage by just using the following syntax - 

```js
ensemble.storage.myData = {name: {first:'John', last: 'Doe'}};
```
and to retrieve data, simply access the parameter by name. For example - 
```yaml
Text:
  id: nameField
  text: ${ensemble.storage.myData.name.first} ${ensemble.storage.myData.name.last}
```
or in js - 
```js
nameField.text = ensemble.storage.myData.name.first + ' ' + ensemble.storage.myData.name.last;
```
You can also store and retrieve properties using the set and get methods on `ensemble.storage`. This is useful when the parameter name is dynamically calculated instead of being known in advance. 

```js
ensemble.storage.set('my'+'Data',"{name: {first:'John', last: 'Doe'}");
//to retrieve data
var myData = ensemble.storage.get('my'+'Data');
```
If the parameter with the same name already exists in the storage, it's value will be overwritten by the new value being set. 

### Checking if something is in storage
You can check in two ways, either by directly accessing the parameter by name or by using the `get` method and checking for null. 

```js
if ( ensemble.storage.myData != null ) {
  //do something
}
```

### Deleting data in storage
You can set the parameter to null to remove its value. However if you want to entirely delete it from storage, call the `delete` method. 

```js
ensemble.storage.delete('myData'); //this will remove value referenced by myData and the myData as the key.
```

### Binding to the data in storage
One of the most powerful features of the Ensemble platform is the data binding. It allows you to significiantly reduce the amount of code you have to write and the ensuing complexity by just binding your widgets to the APIs or Storage. 

Here we will discuss binding to the `ensemble.storage`. When you `bind` a widget to something, the widget gets updated automatically when the thing it is bound to changes. 

For example, in the following yaml, `nameField.text` is bound to data in the storage.
```yaml
Text:
  id: nameField
  text: ${ensemble.storage.myData.name.first} ${ensemble.storage.myData.name.last}
```
Now somewhere else (mostly in API responses), if you update the `myData` in storage, the `nameField.text` will automatically get the new value without you having to do anything. 

```yaml
API:
  getDataFromServer:
    url: 'https://myapp.com/data'
    onResponse: |-
      ensemble.storage.myData = response.data; //this will update all the fields that are bound to this parameter in storage
```
### Manually triggering binding updates
Updates due to bindings to the storage are triggered only when you set a parameter on the storage directly. 

For example, the following triggers the binding and updates all the fields that are bound to ensemble.storage.myData
```js
ensemble.storage.myData = {name: {first:'John', last: 'Doe'};
```
However, if you are manipulating the data that is not directly stored in the `ensemble.storage`, it won't trigger binding.
```js
ensemble.storage.myData.name.first = 'Jane'; //will NOT trigger binding and the `nameField.text` will NOT be updated.
```
To solve this issue, we set storage parameter back to itself to trigger the update. After doing all the manipulations to myData, set it back to itself
```js
ensemble.storage.myData = ensemble.storage.myData; //this will now update nameField.text and any other fields listening for this change
``` 

---

# App Settings

Navigate to your app in Ensemble Studio to use the following settings:

1. [Environment variables](#environment-variables)
2. [Secrets](#secrets)

## Environment variables

Add variables you intend to use throughout your app here. We recommend to use this for:

- API endpoints
- 3rd-party service variables, such as service configs and URLs

### Using environment variables

Throughout your app, you can reference the environment variable with `${env.key_name}`. For instance, the API definitions can reference a variable:

```yaml
API:
    getUser:
        url: ${env.apiEndpoint}
        method: GET
```

## Secrets

Your app may require using sensitive values for managing access to remote data. Ensemble supports configuring development secrets easily and securely during runtime, and the ability to inject separate production secrets when deploying.

<img src="public/images/secrets_config.png" alt="Add Secret" style="border: solid 1px lightgrey" />

Only application owners and editors can add or change secret values due to their sensitive nature.

### Using secrets

Any screens can reference the variable with `${secrets.key_name}`. Here we are simply displaying the secret value in a text field.

<img src="public/images/secrets_usage.png" alt="Use Secret" style="border: solid 1px lightgrey" />

### Inject production secrets for deployment

You can override your secrets for deployment from the .env file in your Ensemble project by using the same key with a different value.

We do not recommend version controlling your .env file as this will expose your secrets. Consider removing your .env file from version control or injecting secrets at build time.

---


# Configuration of Firebase Project with Ensemble App

Application's performance significantly increases with ⁤Integrating Firebase with our Ensemble project. ⁤⁤Firebase offers some services, such as real-time databases, authentication, analytics, and cloud messaging, which can help streamline backend development, 
improve user engagement, and provide deep insights into user behavior. ⁤⁤Using Firebase with Ensemble allows us to focus more on our application's core features and user experience, while Firebase handles the backend.
⁤Now, let's dive into the configuration steps:


## Prerequisites
Before we start configuration, ensure that we have the following in place:
1. Ensemble project to integrate with Firebase.
2. Head over to the [Firebase console](https://console.firebase.google.com/) and create a new project or use an existing one.

## 1. Registering our App with Firebase

Firebase supports integration with various app platforms. Here's a breakdown for each platform:

![All Apps](/public/images/firebase/addApp.png)
#### Android

- Click the Android icon(looks like a little robot) to start the setup.
- Type the unique "Android Package Name". Make sure it matches our app's exact name, and remember, it's case-sensitive!

> [!NOTE]
> To learn more about how to get our Android package name for ensemble application, click [here](/deploy/4-android-device.md).

- Click "Register app" to complete this step.
- Finally, download a file called "google-services.json". This file holds all the secret handshake information Firebase needs to talk to our app.


#### iOS

- Click the Apple icon to start the setup.
- Enter our app's unique ID (called a "bundle ID"). Make sure it matches our app's exact name, and remember, it's case-sensitive!

> [!NOTE]
> To learn more about how and where we can find our "Bundle ID" for ensemble application, click [here](/deploy/3-ios-appstore.md).

- Click "Register app" to complete this step.
- Download a file called "GoogleService-Info.plist". This file contains the secret details Firebase needs to work with your app.

#### Web

- Click the Web icon(looks like a globe) to start the setup.
- Give our web app a nickname(this is just for us to see in the Firebase console).
- Click "Register app" to complete this step.
- Firebase will provide on-screen instructions where we will find a portion with the name `firebaseConfig` in code given. Copy that portion and save it in a file with the rest configuration files.

![All Apps](/public/images/firebase/allApps.png)

## 2. Configure Ensemble app
Now that we've registered our app with Firebase and downloaded the configuration files, 
it's time to establish the connection within our Ensemble project.
#### Make a Configuration File

The first step involves creating a configuration file that stores Firebase project details specific to our chosen platform (iOS, Android, or Web). This file
acts as a translator between our app and Firebase, providing the necessary information for them to communicate effectively. The file will look like:

```yaml
{
  "web": {
    # Copy and paste all the values of firebaseCongig variable that we copy from web app and paste it here.
  },
  "android": {
    "apiKey": # In google-services.json, take value of client.api_key.current_key,
    "appId": # In google-services.json, take value of client.client_info.mobilesdk_app_id,
    "messagingSenderId": # In google-services.json, take value of project_info.project_number,
    "projectId": # In google-services.json, take value of project_info.project_id,
    "storageBucket": # In google-services.json, take value of project_info.storage_bucket
  },
  "ios": {
    "apiKey": # In GoogleService-Info.plist, take the value of API_KEY,
    "appId": # In GoogleService-Info.plist, take the value of GOOGLE_APP_ID,
    "messagingSenderId": # In GoogleService-Info.plist, take the value of GCM_SENDER_ID,
    "projectId": # In GoogleService-Info.plist, take the value of PROJECT_ID,
    "storageBucket": # In GoogleService-Info.plist, take the value of STORAGE_BUCKET,
    "iosBundleId": # In GoogleService-Info.plist, take the value of BUNDLE_ID
  }
}
```
After we have replaced the placeholder hashtags (#) in our configuration file, it will look like this:

![Configuration File](/public/images/firebase/configfile.png)

#### Update Environmental Variables

Within our Ensemble application, navigate to the settings section and look for the option to manage environmental variables. Here, we'll create two new variables:
- `api_providers`: Set the value of this variable to `firestore`. This tells our app to use Firebase Firestore as a data provider.
- `firestore_config`: This is where you'll paste the complete configuration file we created earlier, including the replaced values from our downloaded configuration files.

![Environment Variables](/public/images/firebase/envVari.png)

By following these steps, we'll successfully establish a connection between your Ensemble app and Firebase.

---


# Calling Cloud Firestore APIs

[Cloud Firestore](https://firebase.google.com/docs/firestore) is a flexible, scalable database for mobile, web, and server development from Firebase and Google Cloud. Ensemble platform provides a deep integration with the Firestore DB and allows you to call operations on your data in Firestore effortlessly. 

Unlike traditional relational databases, Firestore offers a document-based structure well-suited for storing and managing various data types within oour app. Firestore is a great choice for Ensemble applications because it provides simplified data modeling, Offline Persistence, Real-time Updates, and API Convenience to interact with data.⁤

Now, let's dive into performing basic operations on our Firestore database:

> [!NOTE]
> Operations on Firestore won't work unless we have configured our Ensemble application with Firebase. Learn how to configure it [here](pages/firebase/configuration.mdx).

- To get hands-on experience with firestore operations, check the live example on [Ensemble Studio](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/W7b1n4a1LVoQgLyAie4F)

## Firestore Data types

### Timestamp
Following methods are available for Firestore's Timestamp type. 

#### Timestamp.now()
Static method. Returns a Timestamp representing the current time.

Example
```js
var currentTimestamp = Timestamp.now();
console.log(currentTimestamp);
```
#### Timestamp.fromDate(date)
Static method. Creates a Timestamp from a JavaScript [Date](https://docs.ensembleui.com/javascript-reference/Date) object.
Example
```js
var specificDate = new Date('2024-08-05T12:34:56Z');
var specificTimestamp = Timestamp.fromDate(specificDate);
console.log(specificTimestamp);
```

#### Timestamp.fromMillis(milliseconds)
Static method. Creates a Timestamp from a given number of milliseconds since the Unix epoch (January 1, 1970).

Example
```js
var milliseconds = 1691237696123; // Milliseconds since the Unix epoch
var timestampFromMillis = Timestamp.fromMillis(milliseconds);
console.log(timestampFromMillis);
```

#### new Timestamp(seconds, nanoseconds)
Constructor. Creates a Timestamp object from a given number of seconds since the Unix epoch and additional nanoseconds.

Example
```js
var seconds = 1691237696;
var nanoseconds = 123456789;
var customTimestamp = new Timestamp(seconds, nanoseconds);
console.log(customTimestamp);
```
#### toDate()
Converts a Timestamp to the number of milliseconds since the Unix epoch.
Example
```js
var milliseconds = customTimestamp.toMillis();
console.log(milliseconds);
```
#### valueOf()
Returns the number of milliseconds since the Unix epoch, similar to toMillis(). It’s used when Timestamp is compared to other values in arithmetic operations.

Example
```js
var value = customTimestamp.valueOf();
console.log(value);
```

Following properties are also available on each `Timestamp` object

#### seconds
The number of seconds of UTC time since Unix epoch 1970-01-01T00:00:00Z.

Example
```js
var timestamp = new Timestamp(10,0);
console.log(timestamp.seconds); //prints 10
```
#### nanoseconds
The number of nanoseconds of UTC time since Unix epoch 1970-01-01T00:00:00Z.

Example
```js
var timestamp = new Timestamp(10,0);
console.log(timestamp.nanoseconds); //prints 0
```
### FieldValue

Other than `isEqual`, Ensemble platform supports all the methods for [FieldValue](https://firebase.google.com/docs/reference/js/v8/firebase.firestore.FieldValue). 

All the methods are static and are called exactly the same way as you could call in js, see [this](https://firebase.google.com/docs/reference/js/v8/firebase.firestore.FieldValue) for example. 

See the following paragraphs for examples of how to use `FieldValue.serverTimestamp()`

## 1. Creating a Firestore Collection

To store data in Firestore, we need to create a collection. A collection in Firestore is a container for documents, 
which are individual pieces of data. Each document contains a set of key-value pairs. Follow the given steps to create a collection:
- Go to the Firebase Console.
- Select our project.
- Navigate to Firestore Database in the side menu.
- Click on Start collection.
- Enter a collection ID (e.g., sports).
- We can add our first document by entering a document ID or let Firestore auto-generate one for us.
- Add fields and values to our document.
- Click Save.

> [!NOTE]
> By default, firestore rules do not allow anyone to access our database. To get started with it, update the rules by changing it to `allow read, write;` which allow everyone to access our database and then update the rules according to our requirements.

## 2. Types of Firestore Operations
Firestore offers various operations to interact with our data. Here's a breakdown of some core operations along with demo API calls for our Ensemble app

### Get:
This operation retrieves data from our Firestore collections. We can either retrieve entire collections or use queries to filter and sort our data.
1. **Example (Get all users)**:
```yaml
getUsers:
  type: firestore
  path: users
  listenForChanges: true
```
**Explanation**:
- `type: firestore`: Specifies that the operation is for Firestore and it is not a RestAPI.
- `path`: The path to the collection or document from where we wanna retrieve the data.
- `listenForChanges`: The operation will listen for real-time updates if set to true and triggers the UI to update.
> Default vale for `operation` is set to `add` if not mentioned.

> Note: When `listenForChanges` is set to `true`, the first response from the API will be `{"message": "Subscribed to API", "documents": []}`. Be aware of this if your response handling involves checking whether `documents` is empty.
2. **Example (Get user using multiple filters)**:
```yaml
getSpecificUsers:
  inputs:
    - userId
  type: firestore
  path: example/users
  query:
    where:
      - field: _documentId
        operator: ==
        value: ${userId}
    orderBy:
      - age
    limit: 10
```

**Explanation**:
- `inputs`: We can also use dynamic variables in the path or a query.
- `path`: Path can be any based on our collections and documents we are trying to access.
- `query`: Filters the data based on the conditions such as [where](https://cloud.google.com/firestore/docs/query-data/queries). [orderBy, Limit](https://cloud.google.com/firestore/docs/query-data/order-limit-data).

### Add:
The `add` operation creates a new document in a collection with a specified or auto-generated ID.
1. **Example**:
```yaml
createProject:
  inputs:
    - userId
    - proName
    - proDes
    - proFiles
  type: firestore
  path: users/${userId}/Projects
  operation: add
  data:
    proName: ${proName}
    description: ${proDes}
    createdAt: ${FieldValue.serverTimestamp()}
```
**Explanation**:
- `operation: add`: Indicates that a new document will be created.
- `data`: The fields and values for the new document. Note how `FieldValue` is being used to tell Firestore to set the server timestamp

### Set:
The `set` operation can create a new document if it does not exist but if the document already exists, `set` will overwrite 
the entire document with the data provided, unless we use the `merge` option.
1. **Example**:
```yaml
setProject:
  inputs:
    - userId
    - projectID
    - proName
    - proDes
    - proFiles
  type: firestore
  path: users/${userId}/Projects/${projectID}
  operation: set
  data:
    proName: ${proName}
    description: ${proDes}
    setAt: ${FieldValue.serverTimestamp()}
```

### Update:
The `update` operation only updates the fields specified in the provided data. If the document does not exist, `update` 
will fail with an error.
1. **Example**:
```yaml
inputs:
    - userId
    - projectID
  type: firestore
  path: users/${userId}/Projects/${projectID}
  operation: update
  data:
    # Below files will be stored as Array of objects.
    files: [{ name: "index.js" , lines: 78 },{ name: "LMS.js" , lines: 245 }] 
    lastUpdated: ${FieldValue.serverTimestamp()}
```

### Delete:
The `delete` operation removes a document from a collection.
1. **Example**:
```yaml
deleteProject:
  inputs:
    - userId
    - projectID
  type: firestore
  path: users/${userId}/Projects/${projectID}
  operation: delete
```

### Collection Group:
The `isCollectionGroup` feature is used to retrieve specific collections from any collection. For example, if we have 100 documents in the `users` collection and each document has a sub-collection named `projects`, the `isCollectionGroup` feature helps in getting all `projects` directly rather than iterating through each document.
1. **Example**:
```yaml
getAllProjects:
  type: firestore
  path: Projects
  isCollectionGroup: true
```

## 3. Response of Firestore Operations
When performing Firestore operations, we may need to manipulate the responses to fit our application's needs. Below are some common ways demonstrating how to use YAML for API calls, handle states, and display data in our app.
#### 1. Firstly, we will make an API call as follow:
```yaml
invokeAPI:
  name: getProjects
  inputs:
    userId: ${userID}
```
> We can also use `onResponse` & `onError` on firebase API calls and can perform operations on response.

#### 2. Using response in `Column`:
To display data based on the API call's state (loading, success, error), you can use the following structure:
```yaml
Column:
  children:
    - Column:
        styles:
          visible: '${getProjects.isLoading ? true : false}'
        children:
          - Progress:
              display: circular
    - Column:
        styles:
          visible: '${getProjects.isSuccess ? true : false}'
        item-template:
          data: ${getProjects.body.documents}
          name: project
          template:
            projectDisplay: # that is an custom widget.
              inputs:
                name: ${project.proName}
                des: ${project.description}
    - Column:
        styles:
          visible: '${getProjects.isError ? true : false}'
        children:
          - Text:
              text: "An error has occurred"
```
- Explanation:
  - The first child `Column` is visible only when the API call is loading `(visible: '${getProjects.isLoading ? true : false}')`. It shows a circular progress indicator.
  - The second child `Column` is visible only when the API call is successful `(visible: '${getProjects.isSuccess ? true : false}')`. It iterates over the documents in the response body using item-template.
  - The third child `Column` is visible only when there is an error `(visible: '${getProjects.isError ? true : false}')`. It shows an error message.

#### 3. Using response in `Dropdown`:
To display data in a dropdown, we can use the following YAML structure:
```yaml
Dropdown:
  id: selectProject
  label: Select Project
  itemTemplate:
    data: ${getProjects.body.documents}
    name: project
    value: ${project._documentId}
    template:
      Text:
        text: ${"Name:" + " " + project.proName}
```

By using these operations, we can efficiently manage our data in Firestore with an Ensemble project. Firestore's 
real-time capabilities and simple API calls make it a powerful tool for any application.

---


# Translations

Ensemble supports localization of app content so that your app users can view the app in their preferred language.

## How it works

When an app loads, Ensemble checks the defualt language of the device (e.g. languages setting in iOS, Android, or Chrome browser). 

1. If device default langugae is supported by your app, Ensemble uses that language.
2. Else, Ensemble uses the app's default language.

You can override the above behavior using [the setLocale action](#set-the-locale).


## Set up languages

In Ensemble Studio, navigate to your app and select Translations from the left menu. Add new language to start with.

> [!NOTE]
> The first language you add is set as the default. You can update the default language when you add more by clicking the `...` menu on the language.


![add language](/public/images/translations/add-language.png)

## Add language content

Language content is created in YAML. Add key/value pairs for each text.

![add language](/public/images/translations/add-language-content.png)

#### Organize the content

To make it easier to find and update the text, you can create a hierarchy within language files. For instance, you can have common text under `common` and text related to login screen under `login`

```yaml
common:
    submit: Submit
    error: Something went wrong. Try again.

login:
    login_button: Sign in
    login_error: Incorrect username or password. Please try again.

```


## Reference the translation

In any screen or widget, reference the translations. E.g. for a button, assign the reference to the `label` property.

When refrencing translations, prepend `r@` before the key assigned to the text:


```yaml
- Button:
    label: r@login.login_button
```


## Test in Preview

Use the 🌎 icon on top of the preview to select a language. The preview updates and shows the UI in the selected language.

![add language](/public/images/translations/test-language.png)


## Setting language in app code

You can dynamically change the app's language from within your app. This allows users to select a language for the app that is different than OS language.

### Retrieve Supported Languages

To get an array of languages supported by your app (i.e., translations you created in Ensemble Studio), use the following code:

```javascript
// Get array of supported languages
console.log(app.languages);
```

### Get Current Language and Locale
To log the currently set language and locale:

```javascript
// Log currently set language
console.log(app.language);

// Log currently set locale
console.log(app.locale);
```

### Set the Locale
You can set the locale using the ensemble.setLocale method. This method updates the app's language.

```yaml
Button:
  label: Switch to English
  onTap:
    setLocale:
      languageCode: en
```

This action can be triggered in code:

```javascript
// Set the locale to English
ensemble.setLocale({
  "languageCode": "en"
});
```


### Example usage
Here's an example of how you might integrate the language selection dropdown into a screen:

```javascript
Screen:
  - Dropdown:
      itemTemplate:
        data: ${app.languages}
        name: language
        template:
          Text:
            text: ${language.name} (${language.nativeName})
        value: ${language.languageCode}

      onChange: |-
        ensemble.setLocale({ languageCode: event.data.value });

  - Button:
      label: r@common.submit
```
### Defining different themes per language
See [this](https://docs.ensembleui.com/theme-and-styling/theme#defining-themes-for-different-locales) for more details

---

# Authentication
Ensemble supports Sign In with Google, Apple as well as with Auth0.

## Setup
By default Sign in is disabled. To enable it, follow the setup steps below.

### Enable the Auth module
- Go to `/starter/pubspec.yaml` and uncomment the `ensemble_auth`.
- Go to `/starter/lib/generated/EnsembleModules.dart`
  - Set `useAuth` to `true`.
  - Uncomment the `if` section to enable the AuthModuleImpl. You may also need to uncomment the import statement.

### Sign in with Apple
Note that if you are using Sign in with Google on iOS, Apple requires you to also support Sign in with Apple. To enable Sign in with Apple, follow these steps:
- Open XCode from the iOS project under `/starter/ios` in XCode.
- Select your `Runner` target and go to `Signing & Capabilities` tab.
- Click on the `+ Capability` button and select "Sign in with Apple".
- To enable Sign in with Apple only on iOS, you can use the Condition widget to only show if platform is iOS.
```yaml
Column:
  children:
    - SignInWithGoogle:
        
    # only show Sign in with Apple on iOS
    - Conditional:
        conditions:
          - if: ${ensemble.device.isIOS()}
            widget:
              SignInWithApple:
```

## Implementation
- For Sign in with Google locally or with your server, go to [Social Sign In](/authentication/social-signin).
- To use Firebase instead of your server, go to [Firebase](/authentication/firebase).
- For Sign in with Auth0, go to [Auth0](/authentication/auth0).

---

# Social Sign In

Ensemble supports Social Sign in with Google and Apple. This guide will specifically target the **Sign in with Google** flow.
For each service, we support three different mechanism for managing the signed-in users: [Client-side](#client-side), with your [Server](#Server-side), or with [Firebase](/authentication/firebase).

<video width="70%"  controls>
  <source src="/images/signin-client.mov" type="video/mp4">
  <source src="movie.ogg" type="video/ogg">
  Your browser does not support the video tag.
</video>

## Client-side
Ensemble supports Signing In from the client side without any backend server. User information is stored locally on the device.


### Build your screens on Studio
First build a **Login** screen.

```yaml
View:
  styles:
    useSafeArea: true

  body:
    Column:
      styles:
        # centering the content
        mainAxisSize: min
        crossAxis: center
        alignment: center
      children:
        - Text:
            text: Welcome to a SignIn Example
            styles:
              textStyle:
                fontSize: 20
              padding: 0 0 20 0

        - SignInWithGoogle:
            # Once signed in, go to the screen 'Home' 
            # Also clear all previous screens to prevent Back button navigation
            onSignedIn:
              navigateScreen:
                name: Home
                options:
                  clearAllScreens: true
```
Now build the screen **Home** to show the currently logged-in user's information.

```yaml
View:
  header:
    title: Welcome Home
  
  # onLoad check if currently signed in. If not go to the Login screen
  onLoad:
    verifySignIn:
      onNotSignedIn:
        navigateScreen:
          name: Login

  body:
    Column:
      styles:
        padding: 24
        gap: 8
      children:
        - Row:
            styles:
              gap: 7
            children:
              # Current user's info is under ${auth.user.*}
              - Avatar:
                  source: ${auth.user.photo}
              - Text:
                  text: |-
                    ${auth.user.name}
                    ${auth.user.email}
        - Button:
            label: Sign Out
            onTap:
              # sign out will clear the user info
              signOut:
                onComplete:
                  # once signed out, go to the Login screen
                  # Also clear all existing screens so the user can't go back
                  navigateScreen:
                    name: Login
                    options:
                      clearAllScreens: true
```


## Server-side
Currently Social Sign In with your custom Server has to be managed manually. Below is an example flow, and your implementation can varies per your needs.
1. Use the Social Sign in to authenticate the user. This will return the idToken and the user information.
2. Send this idToken to your server, which can validate that this idToken was issued by Google, extract the user information from the idToken, and return server-specific credentials (e.g. bearer token, cookies) for this user back to the client.
3. The client can then save these credentials into storage and use them for subsequent requests.

```yaml
View:
  body:
    SignInWithGoogle:
      # the user successfully authenticated with Google
      onAuthenticated:
        invokeAPI:
          # call your server, pass the idToken and return server-specific credentials
          name: signInToServer
          inputs:
            # idToken can be accessed on event.data.idToken
            token: ${event.data.idToken}

            # user info can be accessed via event.data.user.*
            email: ${event.data.user.email}

          onResponse:
            executeCode:
              # store the bearerToken for latter use
              body: |-
                ensemble.storage.token = response.body.bearerToken;
              onComplete:
                navigateScreen:
                  name: Home
                  options:
                    replaceCurrentScreen: true

API:
  # Your server should validate that the idToken is indeed issued by Google
  # The server can then create/update the user account in your database, and return server-specific credentials about this user
  signInToServer:
    inputs: [token]
    uri: https://myExampleApi.com/auth
    parameters:
      token: ${token}
```
## Add Custom Widget to Google Sign-In Button

**NOTE:**       This property only works for native applications (Android and iOS), on web it will not replace default Google Sign-In Button.

Ensemble allows you to replace the default `SignInWithGoogle` Widget UI with your own custom widget. By using the widget property within the `SignInWithGoogle` Widget, you can specify any widget to display in place of the default button. This feature enables full customization of the UI, while maintaining the same behavior for signing in and handling events.

### How to Use the widget Property: ###
The `widget` property can be used inside the `SignInWithGoogle` Widget to define a custom widget. If this property is set, it will replace the default Google Sign-In button with the provided widget.

### Example: ###
```yaml
SignInWithGoogle:
  onSignedIn:
    showToast:
      message: ${auth.user.email}
  onError:
    showToast:
      message: Something went wrong
  widget:
    IconButton:
      icon:
        name: google
        library: fontAwesome
        color: red
```

---

# Setting up Authentication with Firebase

For convenience, Ensemble's Sign In can connect directly to Firebase, allowing you to manage users via Firebase console without the need for a backend server.

<video width="70%"  controls>
  <source src="/images/firebase/firebase-auth.mov" type="video/mp4">
  <source src="movie.ogg" type="video/ogg">
  Your browser does not support the video tag.
</video>


#### Prerequisites

1. You have created a Firebase project
2. You have created an app on Ensemble Studio
3. You have [Flutter](https://docs.flutter.dev/get-started/install) installed on your machine
4. You have a Simulator for testing

## 1. Configure Firebase project

Login to your Firebase account and navigate to your project in order to complete following steps.

#### Enable Sign in with Google

Go to the Authentication section of your Firebase project, and enable Authentication. After that, enable Google as the sign-in method.

#### Enable Sign in with Phone

If you want to enable phone authentication, you will need to enable Phone as the sign-in method. You can also add phone numbers to the list of test numbers for your project.

#### Add iOS app

Under project settings, add iOS app to your Firebase project. As you go through the steps, you will download a file named `GoogleService-Info.plist` . We will use details from this file later on.
 
#### Add Android app

Under project settings, add Android app to your Firebase project. As you go through the steps, you will download a file named `google-services.json` . We will use details from this file later on.

---

## 2. Configure Ensemble app

#### Get starter app

Clone [Ensemble Starter](https://github.com/EnsembleUI/starter) from GitHub. Using a code or text editor, open `/ensemble/ensemble-config.yaml` .

Set your definition source to be Ensemble:

```yaml
    definitions:
	  # where your page definitions are hosted ('local', 'remote' or 'ensemble')
	  from: ensemble

	  ensemble:
	  appId: <add your Ensemble app id here>
```

You can find you Ensemble app id by navigating to the app on Ensemble Studio, clicking the menu icon, and selecting `Copy App ID` option.

#### Add Firebase app details to Ensemble app

In the same file, `ensemble-config.yaml` , add Firebase account details in the following format.

```yaml
    accounts:
		firebase:
			iOS:
				apiKey: # In GoogleService-Info.plist, take the value of API_KEY
				appId: # In GoogleService-Info.plist, take the value of GOOGLE_APP_ID
				messagingSenderId: # In GoogleService-Info.plist, take the value of GCM_SENDER_ID
				projectId: # In GoogleService-Info.plist, take the value of PROJECT_ID
			android:
				apiKey: # In google-services.json, take value of client.api_key.current_key
				appId: # In google-services.json, take value of client.client_info.mobilesdk_app_id
				messagingSenderId: # In google-services.json, take value of project_info.project_number
				projectId: # In google-services.json, take value of project_info.project_id
```

To get these details, use the `GoogleService-Info.plist` and  `google-services.json` you downloaded during step 1.

Here's an example of the outcome.

<img src="public/images/firebase/firebase-account-details.png" alt="firebase account details" style="max-width: 900px;">


#### Add sign-in providers to Ensemble app

In the same file, `ensemble-config.yaml` , under `services` add the following.

```yaml
    services:
      signIn:
        providers:
          google:
            iOSClientId: # In GoogleService-Info.plist, take the value of CLIENT_ID
            androidClientId: # In google-services.json, take value of client.oauth_client.client_id
```

Here's an example of the outcome.


<img src="public/images/firebase/firebase-provider-details.png" alt="firebase provider details" style="max-width: 900px;">


---

## 3. [iOS only] Update Info.plist file

Inside the directory where you cloned Ensemble Starter, open `/ios/Runner/Info.plist` with a code editor. Add the following to this file.

```
    <array>
        <!-- Google Sign in, replace with your URL scheme -->
        <dict>
            <key>CFBundleTypeRole</key>
            <string>Editor</string>
            <key>CFBundleURLSchemes</key>
            <array>
                <!-- Reversed Client Id, required for when using Google Sign In -->
                <string> URL SCHEME GOES HERE </string>
                <!-- iOS App Id, required when using firebase phone auth -->
                <!-- e.g app-1-702752068720-ios-4634f0f9d0e0748a7b10b5 -->
                <!-- You can get this from firebase console -->
                <string> Firebase iOS APP ID GOES HERE </sting>
            </array>
        </dict>
    </array>
```

Use the `GoogleService-Info.plist` that you downloaded during step 1, and copy the value of REVERESED_CLIENT_ID. Paste this value in inside this string tag: `<string> URL SCHEME GOES HERE </string>`.

---

## 4. [Web Only] Add Authorized domains

Add authorized domains to your Firebase project. This is required for web apps to work with Firebase.

Go to Firebase console, navigate to your project, and under Authentication, go to Settings. Add your domain to the list of authorized domains.

<img src="public/images/firebase/firebase-authorized-domains.png" alt="firebase authorized domains" style="max-width: 900px;">

---

## 5. Enable Auth service in Ensemble code

By default, Ensemble does not include the authentication module to avoid installing unnecessary packages. Here, we uncomment a few lines of code to get the necessary packages.

Inside the directory where you cloned Ensemble Starter, open `/lib/generated/ensemble_modules.dart`.

* Search for this line and uncomment it:
```
// import 'package:ensemble_auth/auth_module.dart';
```

* Search for this line and uncomment it:
```
      // AuthModuleImpl().init();
```

* Search for this line and set it to true
```
  static const useAuth = false;
```

---

## 6. Add a Sign in screen

Now that your app is set up to use Firebase, add a new screen in the studio with following definition.

### Firebase Social Sign In

For Social Sign In, Ensemble currently provides `SignInWithGoogle` and `SignInWithApple`. Set the provider `property` to `firebase`.

```yaml
View:
  body:
    Column:
      styles:
        mainAxis: center
        crossAxis: center
        padding: 40
      children:
        - SignInWithGoogle:
            provider: firebase
```

Depending on your need, assign actions to `onSignedIn` and `onError` properties as well. For demo purpusoes here, we will just show a toast message.


```yaml
        - SignInWithGoogle:
            provider: firebase
            onSignedIn:
              showToast:
                message: ${auth.user.email}
            onError:
              showToast:
                message: Something went wrong
```

### Firebase Phone Auth

If you need firebase phone auth, you can use these actions

`sendVerificationCode` - to send the verification code to the phone number

```yaml
sendVerificationCode:
  provider: firebase
  method: phone
  phoneNumber: "+1-----------" (required if type is phone)
  onSuccess:
      // to go to the next screen for otp, it should provide the verification id and resend token
      // e.g event.data.verificationId, event.data.resendToken
    onError:
      // handle error state
```

`validateVerificationCode` - to validate the code sent to the phone number

```yaml
validateVerificationCode:
   provider: firebase
   method: phone
   code:  // otp from the `ConfirmationInput` widget
   verificationId: // verification id from  `sendVerificationCode` action
   onSuccess:
      // return the authenticated user and idToken
      // e.g event.data.user.id, event.data.idToken 
   onError:
      // handle the error state
   onVerificationFailure:
      // handle the verification failure
```

`resendVerificationCode` - to resend the code if resend token is available

```yaml
resendVerificationCode:
   provider: firebase
   method: phone
   phoneNumber: ${phoneNumber} (required if type is phone)
   resendToken: ${resendToken}
   onSuccess:
      // return the verificationId and resendToken
  onError:
     // handle error state
```

Note: If resend token is not available, you can use `sendVerificationCode` to get the updated token.

[Kitchen Sink - Firebase Phone Auth](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/A7JOo1uZTYoYVwOUA76c)

---

## 7. Build and run the app

* Review `/ensemble/ensemble.properties`. Update the appId as needed - this is your app's bundle ID in the format of . e.g. `com.ensembleui.myfirstapp` (all lowercase, no special characters).
* Run `flutter pub upgrade`. Run this occasionally when the Ensemble framework has been updated.
* Run `flutter create --org com.ensembleui --project-name starter --platform=ios,android .` (note the period at the end). If you modified the appId, make sure the org and project name match the bundle ID.
* Run the App with `flutter run`. If you currently have a running iOS or Android emulator, the command will prompt for a selection, otherwise the App will be opened in the web browser.

---

# Setting up Authentication with Auth0

In this guide, we will authenticate users against an existing Auth0 tenant.

#### Prerequisites

1. You have an existing Auth0 tenant
2. You have created an app on Ensemble Studio
3. You have [Flutter](https://docs.flutter.dev/get-started/install) installed on your machine
4. You have a Simulator for testing

## 1. Provision Auth0 App Credentials

Login to your Auth0 tenant and go the [Applications](https://manage.auth0.com/#/applications) section of your dashboard.

#### Create an Auth0 Application

Click on "Create Application", and enter a name for your application. Select "Native" as the application type and click "Create".

#### Enable Connections

Your application should have at least one enabled Connection. Click on "Connections" and enable any database or identity provider, e.g. Google.

#### Configure Application

Navigate to the "Settings" tab on your application page, and scroll to the "Application URIs" section. This is where we will set your Allowed Callback URLs and Allowed Logout Urls for Android and iOS. The values will follow this template:

- Android: `SCHEME://AUTH0_DOMAIN/android/YOUR_PACKAGE_NAME/callback`
- iOS: `YOUR_BUNDLE_ID://AUTH0_DOMAIN/ios/YOUR_BUNDLE_ID/callback`

`SCHEME` can be a custom protocol key for you to differentiate client schemes. If this is not needed, you can simply use `http`.

---

## 2. Configure Ensemble app

#### Get starter app

Clone [Ensemble Starter](https://github.com/EnsembleUI/starter) from GitHub. Using a code or text editor, open `/ensemble/ensemble-config.yaml` .

Set your definition source to be Ensemble:

```yaml
    definitions:
	  # where your page definitions are hosted ('local', 'remote' or 'ensemble')
	  from: ensemble

	  ensemble:
	  appId: <add your Ensemble app id here>
```

You can find your Ensemble app id by navigating to the app on Ensemble Studio, clicking the menu icon, and selecting `Copy App ID` option.

#### Configure Auth0 details for Ensemble app

In the same file, `ensemble-config.yaml` , add your Auth0 app client ID in the following format.

```yaml
    services:
      signIn:
        serverUri: # the domain of your auth0 tenant
        providers:
          auth0:
            iOSClientId: # the client id of of the Auth0 application your created in step 1
            # you may specify additional client ids if you have different applications, otherwise this will be the same client id for all
            androidClientId: 
            webClientId: 
            serverClientId:
```

---

## 3. [iOS only] Update Info.plist file

Inside the directory where you cloned Ensemble Starter, open `/ios/Runner/Info.plist` with a code editor. Add the following to this file.

```
    <key>CFBundleURLTypes</key>
    <array>
        <dict>
            <key>CFBundleTypeRole</key>
            <string>Editor</string>
            <key>CFBundleURLName</key>
            <!-- Replace <yourappdomain> with the top level domain you created your app with, e.g. ensembleui -->
            <string><yourappdomain></string>
            <key>CFBundleURLSchemes</key>
            <array>
              <string>$(PRODUCT_BUNDLE_IDENTIFIER)</string>
            </array>
        </dict>
    </array>
```

---

## 4. [Android only] Update build.gradle

Inside the directory where you cloned Ensemble starter, open `/android/build.gradle` in your code editor. Add the following to this file.

```groovy
// android/app/build.gradle

android {
    // ...

    defaultConfig {
        // ...
        manifestPlaceholders += [auth0Domain: "<YOUR_AUTH0_DOMAIN>", auth0Scheme: "<YOUR_SCHEME>"]
    }

    // ...
}
```

## 4. Enable Auth service in Ensemble code

By default, Ensemble does not include the authentication module to avoid installing unnecessary packages. Here, we uncomment a few lines of code to get the necessary packages.

Inside the directory where you cloned Ensemble Starter, open `/lib/generated/ensemble_modules.dart`.

* Search for this line and uncomment it:
```
// import 'package:ensemble_auth/auth_module.dart';
```

* Search for this line and uncomment it:
```
      // AuthModuleImpl().init();
```

* Search for this line and set it to true
```
  static const useAuth = false;
```

---

## 5. Add a Sign in screen

Now that your app is set up to use Auth0, add a new screen in the studio with following definition.


```yaml
View:
  body:
    Column:
      styles:
        mainAxis: center
        crossAxis: center
        padding: 40
      children:
        - SignInWithAuth0:
            scheme: flutterdemo
            provider: auth0
            onAuthenticated:
              showToast:
                message: ${auth.user.email}
```

---

## 6. Build and run the app

* Review `/ensemble/ensemble.properties`. Update the appId as needed - this is your app's bundle ID in the format of . e.g. `com.ensembleui.myfirstapp` (all lowercase, no special characters).
* Run `flutter pub upgrade`. Run this occasionally when the Ensemble framework has been updated.
* Run `flutter create --org com.ensembleui --project-name starter --platform=ios,android .` (note the period at the end). If you modified the appId, make sure the org and project name match the bundle ID.
* Run the App with `flutter run`. If you currently have a running iOS or Android emulator, the command will prompt for a selection, otherwise the App will be opened in the web browser.

---


# MoEngage Integration

MoEngage is a powerful customer engagement platform that enables real-time, personalized messaging across multiple channels. Ensemble provides native integration with MoEngage offering:
- Push Notifications (iOS & Android)
- In-App Messaging
- Event Tracking & Analytics
- User Attribute Management


## MoEngage Dashboard Setup

The following setup on MoEngage Dashboard is required regardless of whether you're enabling MoEngage through Ensemble Studio or local development. This establishes the core configuration needed for MoEngage integration.

1. Get MoEngage Workspace ID:
     - Navigate to MoEngage Dashboard → Settings → General Settings → Basic Details
     - Copy your Workspace ID from the displayed information

2. Configure Firebase for Android Push:
     - Follow the complete [FCM Authentication Guide](https://developers.moengage.com/hc/en-us/articles/16909296490644-FCM-Authentication)
     - This guide walks you through:
       a. Creating a Firebase project
       b. Generating FCM Server Key
       c. Adding the key to MoEngage Dashboard
       d. Enabling necessary FCM APIs

3. Configure APNS for iOS Push (Choose one):
     - Option 1: [APNS Authentication Key](https://developers.moengage.com/hc/en-us/articles/8484447635348-APNS-Authentication-Key) (Recommended)
     - Option 2: [APNS Certificate](https://developers.moengage.com/hc/en-us/articles/4403944011028-APNS-Certificate-PEM-file)

4. Create Platform Apps:
     - Create corresponding apps in Firebase Console for Android/iOS
     - Ensure the application ID matches your Ensemble app configuration
     - Download required configuration files:
       - Android: google-services.json
       - iOS: GoogleService-Info.plist
       - Web: Firebase configuration object

## Enable MoEngage in Ensemble Studio

If you're using Ensemble Studio for building your application, follow these steps to enable MoEngage. No additional local configuration will be required.

1. Navigate to Build & Deploy → Build Settings
2. Enable MoEngage toggle in the Modules section
3. Enter Configuration Details:
     - MoEngage Workspace ID obtained from dashboard
     - Add Firebase Web Configuration
4. Upload Platform Configuration Files:
     - Upload google-services.json for Android
     - Upload GoogleService-Info.plist for iOS
5. Click Update to save your configuration


## Handling Notifications

Ensemble provides multiple ways to handle MoEngage notifications to suit your use cases:

1. **Notification Handler**: Define a notification handler in JavaScript to be executed on every notification received. You can run logic then return a payload to navigate to a screen.

2. **Default Behavior**: If notification handler is not specified, the app will simply open up (if not in foreground).

### Creating a Script and Handler Function

1. Navigate to or create a script in the Scripts section, for example Common.js.

2. Create a handler function that will be called when notifications are received:

```javascript
function handle_notification(notification) {
   // Your notification handling logic here
}
```

The notification parameter will contain:

#### For Push Notifications:
```javascript
{
  "payload": {...}, // Original push payload data received from MoEngage
  "clickedAction": Map<String, dynamic>, // Button action details if clicked
  "platform": "android/ios",
  'notificationType': 'push',
  "isDefaultAction": true/false, // For Android only
}
```

For complete push notification payload details, see [Push Callback Payload Documentation](https://developers.moengage.com/hc/en-us/articles/11652033989396-Push-Callback#h_01H1RX45YD2A06V7SM4TYZWF3V)

#### For In-App Messages:
```javascript
{
  "campaignId": "campaign_id",
  "campaignName": "campaign_name", 
  "platform": "android/ios",
  'notificationType': 'inApp',
  "data": {
    "navigationType": "deeplink/screen", // present only if action is `NavigationAction`
    "navigationUrl": "url", // present only if action is `NavigationAction`
    "keyValuePairs": {} // Custom data
  }
}
```

For complete in-app message payload structure, see [In-App Callback Payload Documentation](https://developers.moengage.com/hc/en-us/articles/4404365619092-InApp-NATIV#h_01H96BKP4MZAJTSRZ58FM3Z3XZ)

Inside your handler function, you can:
- Write custom routing logic
- Access ensemble.storage
- Return a navigation payload

Example handler:
```javascript
function handle_notification(notification) {
    console.log("Received notification:", notification);
    
    // Assuming the screen name is in the data section
    var payload = {
        "name": notification['data']['screen'],
        // You can also pass inputs that will be accessible on the destination screen using `notificationPayload.*`
    };
    
    return payload;
}
```

If you don't want to navigate, simply don't return anything.

### Setting up the Handler

1. Go to Settings -> Environment Variables
2. Add new variable: `ensemble_notification_handler` 
3. Set value to `scriptName.handlerName` (e.g. `Common.handle_notification`)

Once configured, your handler function will be called for all received notifications.



## Enable MoEngage in Local Project

If you're developing locally without using Ensemble Studio build system, follow these configuration steps. You can skip the Ensemble Studio setup section above.

#### Ensemble Files (Required)

**1.** Update `ensemble_modules.dart`
Import required modules and initialize Firebase and MoEngage. Add this at the start of file:
```dart
import 'dart:io';
import 'package:flutter/foundation.dart';
import 'package:ensemble_moengage/moengage.dart';
import 'package:firebase_core/firebase_core.dart';
```
Replace default Firebase initialization with platform-specific options

```dart
// Initialize Firebase with platform-specific options
FirebaseOptions? androidPayload = const FirebaseOptions(
  apiKey: "YOUR_ANDROID_API_KEY",
  appId: "YOUR_ANDROID_APP_ID",
  messagingSenderId: "YOUR_MESSAGING_SENDER_ID", 
  projectId: "YOUR_PROJECT_ID",
  storageBucket: "YOUR_PROJECT_STORAGE_BUCKET"
);

// Add similar configurations for iOS and Web platforms
FirebaseOptions? iosPayload = ...
FirebaseOptions? webPayload = ...

FirebaseOptions? selectedPayload;
if (Platform.isAndroid) {
  selectedPayload = androidPayload;
} else if (Platform.isIOS) {
  selectedPayload = iosPayload;
}
if (kIsWeb) {
  selectedPayload = webPayload;
}

await Firebase.initializeApp(options: selectedPayload);
```
Initialize MoEngage with your workspace ID and logging preferences by replace this `GetIt.I.registerSingleton<MoEngageModule>(MoEngageImpl());` with below code:
```dart
// Register MoEngage
GetIt.I.registerSingleton<MoEngageModule>(
  MoEngageImpl(
    workspaceId: 'YOUR_WORKSPACE_ID', // dont forget to replace workspace id.
    enableLogs: true
  )
);
```

**2.** Update `ensemble.properties`:
```yaml
moengageAppId=YOUR_WORKSPACE_ID
```
#### Android Configuration
**1.** Add MoEngage and Firebase dependencies in `android/app/build.gradle` and also Configure Google Services plugin:
```gradle
dependencies {
    // MoEngage Core dependencies
    implementation("androidx.core:core:1.6.0")
    implementation("com.moengage:moe-android-sdk:12.8.01")
    implementation("com.google.firebase:firebase-messaging:23.4.1")
    implementation("androidx.lifecycle:lifecycle-process:2.7.0")
    implementation("androidx.appcompat:appcompat:1.3.1")
    implementation("com.github.bumptech.glide:glide:4.9.0")
}

apply plugin: 'com.google.gms.google-services'
```

**2.** Update `AndroidManifest.xml` to add required permissions, MoEngage services and set up deep linking configurations, also change application level `android:name`:
```xml
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools">

    <!-- Required Permissions -->
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.POST_NOTIFICATIONS"/>

    <application
        android:name=".MyApplication">
        
        <activity>
            <!-- Add MoEngage Deep Linking -->
            <intent-filter android:autoVerify="true">
                <action android:name="android.intent.action.VIEW" />
                <category android:name="android.intent.category.DEFAULT" />
                <category android:name="android.intent.category.BROWSABLE" />
                <data
                    android:host="your.domain.com"
                    android:scheme="moengage" />
            </intent-filter>
        </activity>

        <!-- MoEngage Push Service -->
        <service
            android:name="com.moengage.firebase.MoEFireBaseMessagingService"
            android:exported="false">
            <intent-filter>
                <action android:name="com.google.firebase.MESSAGING_EVENT" />
            </intent-filter>
        </service>

        <!-- Push Tracker Activity -->
        <activity
            android:name="com.moengage.pushbase.activities.PushTracker"
            android:launchMode="singleInstance"
            tools:replace="android:launchMode" />
    </application>
</manifest>
```

**3.** Create `CustomPushListener.kt` to handle push notification interactions:
```kotlin
package your.package.name

import android.app.Activity
import android.os.Bundle
import com.moengage.core.internal.logger.Logger
import com.moengage.core.model.AccountMeta
import com.moengage.plugin.base.push.PluginPushCallback

class CustomPushListener(accountMeta: AccountMeta) : PluginPushCallback(accountMeta) {
    private val tag = "CustomPushListener"

    override fun onNotificationClick(activity: Activity, payload: Bundle): Boolean {
        Logger.print { "$tag onNotificationClick() : " }
        return super.onNotificationClick(activity, payload)
    }
}
```

**4.** Create `MyApplication.kt`:
```kotlin
package your.package.name

import com.moengage.core.DataCenter
import com.moengage.core.MoEngage
import com.moengage.core.config.FcmConfig
import com.moengage.core.config.NotificationConfig
import com.moengage.flutter.MoEInitializer
import android.app.Application

class MyApplication : Application() {
    override fun onCreate() {
        super.onCreate()
    
        val moEngage = MoEngage.Builder(this, BuildConfig.MOENGAGE_WORKSPACE_ID, DataCenter.DATA_CENTER_1)
            .configureFcm(FcmConfig(true))
            .configureNotificationMetaData(
                NotificationConfig(
                    R.drawable.icon,
                    R.drawable.launcher,
                    notificationColor = -1,
                    isMultipleNotificationInDrawerEnabled = false,
                    isBuildingBackStackEnabled = true,
                    isLargeIconDisplayEnabled = true
                )
            )

        MoEInitializer.initialiseDefaultInstance(this, moEngage)
    }
}
```

**5.** Update `MainActivity.kt`:
```kotlin
package your.package.name

import android.content.Intent
import android.content.res.Configuration
import android.os.Bundle
import com.moengage.flutter.MoEFlutterHelper
import io.flutter.embedding.android.FlutterActivity

class MainActivity : FlutterActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        processIntent(intent)
    }

    override fun onConfigurationChanged(newConfig: Configuration) {
        super.onConfigurationChanged(newConfig)
        MoEFlutterHelper.getInstance().onConfigurationChanged()
    }

    override fun onNewIntent(intent: Intent) {
        super.onNewIntent(intent)
        processIntent(intent)
    }

    private fun processIntent(intent: Intent?) {
        if (intent == null) return
    }
}
```

**6.** Add Platform Configuration Files:
   - Place `google-services.json` in `android/app/`
   - Add to `android/build.gradle`:
```gradle
buildscript {
    dependencies {
        classpath 'com.google.gms:google-services:4.3.15'
    }
}
```

#### iOS Configuration


**1.** Update `AppDelegate.swift`:
```swift
import UIKit
import Flutter
// import GoogleMaps
import flutter_local_notifications

// Add below Moenage Dependencies
import moengage_flutter_ios
import MoEngageSDK
import MoEngageInApps
import MoEngageMessaging


@main
@objc class AppDelegate: FlutterAppDelegate {
  static let methodChannelName: String = "com.ensembleui.host.platform"
  var methodChannel: FlutterMethodChannel?
    
  override func application(
    _ application: UIApplication,
    didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?
  ) -> Bool {
    let controller : FlutterViewController = window?.rootViewController as! FlutterViewController
    methodChannel =  FlutterMethodChannel(name: AppDelegate.methodChannelName, binaryMessenger: controller.binaryMessenger)
//     GMSServices.provideAPIKey("AIzaSyD8vwvoaEPEgYemp1EkIETetJMvyS4Ptqk")
    FlutterLocalNotificationsPlugin.setPluginRegistrantCallback { (registry) in
                GeneratedPluginRegistrant.register(with: registry) }

    if #available(iOS 10.0, *) {
      UNUserNotificationCenter.current().delegate = self as UNUserNotificationCenterDelegate
    }

    // Add below 6 lines for moengage implementatino
    let yourWorkspaceID = "1SZEGT6AYEZE0XANA7IKYPL8"
    let sdkConfig = MoEngageSDKConfig(withAppID: yourWorkspaceID)
    sdkConfig.appGroupID = "group.com.alphadevs.MoEngage.NotificationServices"
    sdkConfig.consoleLogConfig = MoEngageConsoleLogConfig(isLoggingEnabled: true, loglevel: .verbose)

    MoEngageSDKCore.sharedInstance.enableAllLogs()
    MoEngageInitializer.sharedInstance.initializeDefaultInstance(sdkConfig, launchOptions: launchOptions)

    
    GeneratedPluginRegistrant.register(with: self)
    return super.application(application, didFinishLaunchingWithOptions: launchOptions)
  }
    
  override func application(_ app: UIApplication, open url: URL, options: [UIApplication.OpenURLOptionsKey : Any] = [:]) -> Bool {
    // Calling flutter method "urlOpened" from iOS
    methodChannel?.invokeMethod("urlOpened", arguments: url.absoluteString)
    return true
  }

    // Add below 4 functions for moenage
    override func application(_ application: UIApplication, didRegisterForRemoteNotificationsWithDeviceToken deviceToken: Data) {
        MoEngageSDKMessaging.sharedInstance.setPushToken(deviceToken)
    }

    override func userNotificationCenter(_ center: UNUserNotificationCenter, willPresent notification: UNNotification, withCompletionHandler completionHandler: @escaping (UNNotificationPresentationOptions) -> Void) {
        completionHandler([.alert, .sound])
    }

    override func userNotificationCenter(_ center: UNUserNotificationCenter, didReceive response: UNNotificationResponse, withCompletionHandler completionHandler: @escaping () -> Void) {
        MoEngageSDKMessaging.sharedInstance.userNotificationCenter(center, didReceive: response)
        completionHandler()
    }

    
    override func application(_ application: UIApplication, willContinueUserActivityWithType userActivityType: String) -> Bool {
        print("Opening Universal link", userActivityType)
        return false
    }
}
```

---

# Setup Deeplink

In this guide, we'll integrate the deep linking for the Android and iOS Apps

## Android Setup
1. Create a file named ```assetlinks.json``` and add namespace, package and sha256
2. Upload the ```assetlinks.json``` file to the website (https://example.com/.wellknown/assetlinks.json)
3. Add ```intent-filter with domain, path, scheme,``` etc in the ```activity``` tag of ```AndroidManifest.xml```
4. meta-data ```flutter_deeplinking_enabled``` to the ```activity``` tag
5. To test deep links, Execute the following command in the terminal 

```
adb shell am start -a android.intent.action.VIEW \
-c android.intent.category.BROWSABLE \
-d [https://example.com](https://example.com/)
```

6. Test it in physical device, Send the url to any of the notes app and click the link.

For more info: [Android App Links](https://developer.android.com/training/app-links)

## iOS Setup
1. Add ```Associated Domain``` capability. Prefix the domain with ```applinks:```
2. Create a new file named ```apple-app-site-association``` with no file extension. Add details like appIds (teamId.BundleID), components (url path), etc
3. It must be uploaded in the (https://ensembleui.com/.wellknown/apple-app-site-association), needs to be served with content type (application/json) but without the file extension
4. Add ```FlutterDeepLinkingEnabled``` to the ```Info.plist``` file
5. To test deep links, Use ```xcrun simctl openurl booted [https://example.com/path]```(https://example.com/path)
6. Test it in physical device, Send the url to any of the notes app and click the link

For more info: [iOS Universal Link](https://developer.apple.com/ios/universal-links/)


## For Deferred Deep Linking
Checkout - https://docs.ensembleui.com/#/build/deep-link/deferred-deeplink

---

# Setup Deferred Deeplink
In this guide, we'll integrate the deferred deep linking for the Android and iOS Apps. There are some service providers like branch, appsflyer, etc for deferred deep linking.

*NOTE: Currently, we support only the BranchIO as of now.*

## BranchIO (http://branch.io)
For Detailed Doc - https://help.branch.io/developers-hub/docs

####  Configure Branch Dashboard
1. Go to Configuration -> General
2. Setup Default URL
3. Android Redirects
    - Android URI Scheme
    - Google Play Search or Custom URL
    - SHA 256 Certificate Fingerprints
    - Additional Settings
4. iOS Redirects
    - iOS URI Scheme
    - Apple Store Search or Custom URL
    - Enable Universal Links (BundleID, Apple App Prefix)
    - Additional Settings

#### Configure Native Platforms
1. Android
    - Add Branch to your AndroidManifest.xml
    - Add Branch App Links (Test and Live)
    - Add Branch Keys (Test and Live)

2. iOS
    - Configure Bundle ID
    - Add associated domains from branch dashboard's Link Domain section of the configuration page to the iOS project "Signing & Capabilities" associated domain
    - Configure Info.plist for adding branch keys (Test and Live) and Links (Test and Live)
    - Add Custom URL Scheme in the URL types of Info.plist

### Module (ensemble_deeplink)
Enable Deeplink service in Ensemble code

By default, Ensemble does not include the deeplink module to avoid installing unnecessary packages. Here, we uncomment a few lines of code to get the necessary packages.

Inside the directory where you cloned Ensemble Starter, open `/lib/generated/ensemble_modules.dart`.

* Search for this line and uncomment it:
```
// import 'package:ensemble_deeplink/deferred_link_manager.dart';
```

* Search for this line and uncomment it:
```
      // GetIt.I.registerSingleton<DeferredLinkManager>(DeferredLinkManagerImpl());
```

* Search for this line and set it to true
```
  static const useDeeplink = false;
```

---

#### Initialize Branch SDK
1. In the ensemble project, Initialize your branch SDK using the ```deeplinkInit``` action

```yaml
deeplinkInit:
    provider: branch
    options:
        useTestKey: true
        enableLog: true
        disableTrack: false
    onSuccess: |
        //@code
        console.log("BranchSDK:: initialized successfully");
    onLinkReceived: |
        //@code
        console.log("BranchSDK:: Branch Link Received: " + event.data.link);
    onError: |
        //@code
        console.log("BranchSDK:: Failed to initialize" + event.error);
```

2. Create branch deep link using the ```createDeeplink``` action

```yaml
Button:
    label: Create Branch Link
    onTap:
        createDeeplink:
        provider: branch
        universalProps:
            id: item/12345
            title: My Content Title
            contentDescription: My Content Description
            imageUrl: https://ensembleui.com/mycontent-123.png
            contentSchema: product
        linkProps:
            channel: ensembleui
            feature: Sharing
            campaign: content launch
            stage: New User
            tags: [data, fsdf, sdd]
            controlParams:
                ref: 1234
                name: Ensemble
        onSuccess: |
            //@code
            console.log("BranchSDK:: Link created successfully: " + event.data.result);
        onError: |
            //@code
            console.log("BranchSDK:: Failed to create a link" + event.error);
```

---


# Embed Flutter screen in an Ensemble app

Ensemble allows you to navigate to a screen built with Flutter. This allows you to reuse any existing Flutter screen.



## How it works.

This is our beloved counter widget. Let's see how you can specify this widget and call it in your Ensemble App. 

```dart
class CounterWidget extends StatefulWidget {
  const CounterWidget({
    super.key,
    this.message,
  });

  final String? message;

  @override
  State<CounterWidget> createState() => _CounterWidgetState();
}

class _CounterWidgetState extends State<CounterWidget> {
  int counter = 0;

  void _incrementCounter() {
    setState(() {
      counter++;
    });
  }

  @override
  void initState() {
    super.initState();
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        backgroundColor: Theme.of(context).colorScheme.inversePrimary,
        title: const Text('Flutter Page'),
      ),
      floatingActionButton: FloatingActionButton(
        onPressed: _incrementCounter,
        tooltip: 'Increment',
        child: const Icon(Icons.add),
      ),
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: <Widget>[
            Text(
              widget.message ?? 'You have pushed the button this many times:',
            ),
            Text(
              '$counter',
              style: Theme.of(context).textTheme.headlineMedium,
            ),
          ],
        ),
      ),
    );
  }
}

```


First we need to specify a map of name and builder widget. The builder has context and args as parameters. 
The args are basically passed using `navigateScreen`'s inputs. 


```dart
void main() async {
  WidgetsFlutterBinding.ensureInitialized();
  Ensemble().setExternalScreenWidgets({
    'counterScreen': (context, args) {
      final message = args?['message'];
      return CounterWidget(message: message);
    },
  });
  runApp(const EnsembleApp());
}
```

Now, the ensemble framework know about external screen named `counterScreen`. We can now navigate to external screen like following.

```yaml
Button:
    label: Navigate external screen
    onTap:
        navigateScreen:
        name: counterScreen
        external: true
        inputs:
            message: Hello world

```

---

# Using local assets

While developing and previewing your app, you may reference images via URLs. While this is great for rapid prototyping, production Native apps may want to minimize rendering time by referencing assets locally. This is where Environment Variables come in.

Environment variables can be used for many purposes. You define them in your App's setting on [Ensemble Studio](https://studio.ensembleui.com/) and referencing them any where in your pages with `${env.my_env_variable_name}`. Ensemble also allow you to override these variables in production. This technique allows Ensemble to serve assets locally.

### Define the environment variables

Navigate to your App's setting and add an environment variable.
<img src="public/images/env_config.png" alt="Add Environment Variable" style="border: solid 1px lightgrey" />

### Using the environment variables

Any screens can reference the variable with `${env.variable_name}`. Here we prefix the image with the `imageBaseUrl`.
<img src="public/images/env_usage.png" alt="Add Environment Variable" style="border: solid 1px lightgrey" />

### Override environment variables to load images locally

When building Production app (see [Preparing your App](/deploy/1-prepare-app), you can load this image locally instead of via URL.

- Add the assets under folder `<Ensemble Starter>/ensemble/assets/`.
- Open `<Ensemble Starter>/ensemble/ensemble-config.yaml` and add a matching environment variable that you defined on Ensemble Studio. Leave the value empty (if all your assets are directly under /ensemble/assets).
- Note: define the variable name but with empty value will attempt to load assets from `/ensemble/assets/`.

---

# Understanding Widget Sizing
Widget sizing is a crucial aspect of building responsive UIs in Ensemble. In this guide, we'll explore the challenges of widget sizing, common solutions, and best practices to help you create layouts that look great on any screen.

## Core Concepts
#### Parent Constraints
In Ensemble, widget sizing is governed by a system of constraints passed down from parent widgets to their children. These constraints define the minimum and maximum sizes a widget can take on the screen.

Starting from the root (the screen dimension), constraints are passed down the layout tree to determine the size of each widget. Most widgets, if themselves receive constraints from their parent, will recalculate the constraints (e.g. subtract padding from the available space) and pass them down to their children. A widget may come up with its own size, but it will always be bounded by the constraints provided by its parent.

**Note**: *Any widget that does not receive constraints from its parent will not be able to pass the constraints down to its children.*

**Parent widgets that do not provide constraints to their children:**
- *Row does not provided the **width constraint** to its children. Any children of Row must be able to determine their own width, or an error may occur.*
- *Similarly Column does not provide the **height constraint** to its children*
- *Stack does not provide **width nor height constraint** to its children.*
- *Scrollable widgets (e.g ListView, Screen with scrollableView = true) do not provide constraints to their children in the **scrollable direction**.*

#### Widget with Intrinsic Sizes
Some widgets can automatically determine their own dimensions based on their content or specific properties. These widgets are straightforward to use because they require minimal configuration to look right.

**Examples:** Text, Image, Icon, ..
```yaml
# Text sizes itself based on the text and the applied styles
Text:
  text: Hello Ensemble !
  styles:
    fontSize: 16
```
**Note**: *just because a widget can determine its own size doesn't mean it will get the size it needs. The final sizing will be bounded by the constraints (minimum/maximum width and minimum/maximum height) provided by the parent widget.*

#### Widgets without Intrinsic Sizes
Conversely, some widgets cannot determine their sizes (or it may not make sense to). These widgets rely on their parent to provide the sizing constraints. Without the constraint an error will occur, and the system will attempt to give you warnings. If the warning system misses this, the screen may be rendered as a blank screen.

**Examples:** Divider, Map, TextInput (width), ..
```yaml
# Column does not provide height constraint to its children,
# so Map will not have a height and cannot be rendered
Column:
  children:
    - Map:
```

## Sizing Challenges and Solutions
**Challenge 1**: Managing Unbounded Sizes<br>
When a widget does not have an intrinsic size nor receives explicit constraints from its parent, it faces an "unbounded size" problem.

<u>Example</u>: When a TextInput is inside a Row.<br>
TextInput does not have a width and rely on the parent to provide a width constraint, which the Row does not provide.<br>
<u>Solution</u>: Set the width on the TextInput, or use FlexRow as the parent. FlexRow will stretch itself to fill its parent's width constraint, and in turn provide a constraint to the TextInput.

<u>Example</u>: When a FlexColumn is inside a 'Screen with scrollableView=true'.<br>
A FlexColumn doesn't calculate its height from the children so it does not have a height. Instead it will attempt to stretch to fill the available height constraint provided by the parent. This will produce an error since the scrollable Screen cannot provide a height constraint.<br>
<u>Solution</u>: Ensure every widget in a scrollable direction has a size. In this case simply use a Column instead of a FlexColumn. A Column will calculate its height from the children, forgo the need for a height constraint.

---

# Item Template

When developing UI, it is common to display lists of items, and Ensemble simplifies this process by providing the `item-template` property. When used within certain containers (e.g. Column, Carousel, Grid, ..), you can iterate through a data set and render a set of child widgets.

`item-template` takes the following properties:

| Property | Type               | Description                                                                                                                                                    |
| -------- |--------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------|
| data     | array              | Bind to an array of data from an API response or a variable                                                                                                    |
| name     | string             | Variable name referencing each item in the array. Name it as per your use case (e.g. 'person', 'item' ..)                                                      |
| template | [Widget](/widgets) | Define the child widget to render for each item in the array. Within this widget you can bind to the item using the `name` syntax (e.g. `${person.firstName}`) |
| indexId  | string              | (optional) Default: index. The property that will be assigned the current index of the data array while looping through it |

Different containers may expose additional properties to further customize the rendering of the children, but they will always have the `data` and `name`.

### Basic Usage
To demonstrate the basic usage of `item-template`, Below we hardcode a list of names and render each as a Text widget. These text widgets will be displayed vertically one after another because they are inside a Column parent, with a gap of 10 in between.
```yaml
Column:
  styles:
    gap: 10 # gap between each child
  item-template:
    data: ["John", "Mary", "Peter"]
    name: name
    template:
      Text:
        text: Hello ${name}
```
The output will look something like this:
<img src="public/images/screenshots/item-template-1.png" alt="Screenshot" width="450">

### Binding to API data
In a real-world scenario, you would bind to data from an API response. Below is the shorten JSON payload from hitting "https://randomuser.me/api/?results=5". We'll be using this to render our UI.
```json
{
  "results": [
    {
      "name": {
        "title": "Mrs",
        "first": "Lya",
        "last": "Brun"
      },
      "picture": {
        "large": "https://randomuser.me/api/portraits/women/9.jpg",
        "medium": "https://randomuser.me/api/portraits/med/women/9.jpg",
        "thumbnail": "https://randomuser.me/api/portraits/thumb/women/9.jpg"
      },
    },
    ... (more entries) ...
  ],
}
```
Let's update our definition to fetch the API on page load, then show each person's photo and name in a Carousel.

```yaml
View:
  styles:
    useSafeArea: true
  # call the API upon loading the screen
  onLoad:
    invokeAPI:
      name: getRandomUsers
  body:
    Carousel:
      styles:
        layout: multiple
        height: 150
        multipleItemWidthRatio: .3
        indicatorType: circle
      item-template:
        # bind to API's response body, then access the 'results' array within it
        data: ${getRandomUsers.body.results}
        # name each item in the array as 'person'
        name: person
        template:
          Column:
            styles:
              crossAxis: center
              gap: 10
            children:
              - Image:
                  styles:
                    width: 60
                    height: 60
                    borderRadius: 1000
                    borderColor: grey
                  # the JSON response
                  source: ${person.picture.medium}
              - Text:
                  styles:
                    textAlign: center
                  text: ${person.name.first} ${person.name.last}
  
API:
  getRandomUsers:
    url: https://randomuser.me/api/?results=5
```
The output will look something like this:
<img src="public/images/screenshots/item-template-2.png" alt="Screenshot" width="450">

Here's an [example](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/yWM8nLePITT8IpCZLMNe) of how to use `indexId` property to access the current index of the data array.

---

# Data Binding
Data binding allows you to bind data from various sources to your UI components. Any changes to applicable data sources will automatically update the UI components. Data Binding is also used when passing variables to API, Widgets, and Actions (among others).

The syntax for binding is `${bindingSource}`, and can be used anywhere a text or an expression is accepted. 

### Binding to an editable widget
Ensemble makes it easy to listen for changes to any widget's properties. In the example below, we defined a TextInput and give it an id "myInput". We then created a readonly Text and bind its text property to the TextInput, prefixed with "You entered". As you are making changes to the TextInput and the focus leaves, TextInput will dispatch its changes to all listeners, causing the readonly Text to re-render its content.
<img src="public/images/screenshots/binding-1.png" alt="Screenshot">

(to be updated ...)

---

# Screen Lifecycle
An Ensemble app consists of a series of screens, each with its own lifecycle that defines how it renders, pauses, resumes, and disposes of resources. You can provide actions to be triggered at each of these lifecycle stages.

### onLoad
This stage is triggered when the screen is first loaded and the body widget has been rendered. At this point, you will have access to all widget IDs (if specified). This is an ideal place to initialize your screen's states and invoke APIs.

### onPause
This stage is triggered when the screen is no longer active. This could be due to the user navigating to another screen or, in native applications, the app moving to the background. In the latter case, the OS may terminate the app if the Action takes too long to process or uses excessive resources, so it is recommended to execute actions that will complete promptly.

`onPause` includes the following payload (accessible via `event.data.*`):
| Property     | Type    | Description                                                                                                                                                                                              |
| :----------- | :------ | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| isAppPause | boolean  | This will be true if the app (Native only) is causing onPause to be called because it is going to the background (or the user is switching to another App). Use this to differentiate from the user navigating to another screen. |


### onResume
This stage is triggered when the screen becomes active again after having previously been inactive. This could be due to the user navigating back to the screen or the app (native only) coming to the foreground.

Note that this will not be triggered if you navigate to another instance of the same screen. In other words, only navigating back (or switching screens using the bottom navigation bar) will trigger this.

`onResume` has the following payload (accessible via `event.data.*`):
| Property     | Type    | Description                                                                                                                                                                                              |
| :----------- | :------ | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| inactiveDuration | number (ms) | Specifying how long the screen has been in inactive state (in milliseconds). This is useful for tracking how long the screen has been inactive and re-fetching the data. Note that we may not always able to determine this, so it may be null. |
| isAppResume | boolean  | This will be true if the app is causing onResume to be called because it is going to the foreground (the user is opening your app). Use this to differentiate with the user navigating back to your screen. |

---

# Custom Widgets
In addition to Ensemble-provided widgets and containers, you can create custom widgets to extend the functionality of your app. Custom widgets can be used to encapsulate complex logic, create reusable components, or integrate with third-party libraries.

Custom Widgets can be created and used within a Screen or globally across multiple screens.

(to be continued ...)

### Screen-level Custom Widgets


### App-level Custom Widgets

---

# Preview your app

Your apps are available for preview on web, and iOS and Android devices. Share it with your QA, Product Managers, customers, ... for early feedbacks. 

## Preview on iOS and Android

First, download Ensemble Preview app by scanning this QR Code:

<div style="width:150px; height:150px">

![QR code for Ensemble Preview](/public/images/app-qr.png)

</div>


or select your platform here:


<a href="https://testflight.apple.com/join/yFKnLQ1S" ><img src="https://tools.applemediaservices.com/api/badges/download-on-the-app-store/black/en-us?size=250x83&amp;releaseDate=1672185600?h=3167c6c62f888e2ac4e0aa67026d4b48" alt="Download on the App Store" style="border-radius: 13px; height: 60px;"></a>

<a href='https://play.google.com/store/apps/details?id=com.ensembleui.preview&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1'><img alt='Get it on Google Play' src='https://play.google.com/intl/en_us/badges/static/images/badges/en_badge_web_generic.png' style="height: 88px"/></a>

Now follow these steps to preview your app:

1. Log in to Ensemble Studio.
2. Click on the app you want to preview.
3. Click Settings on the left sidebar. Here you find the app ID and a QR code.
4. Open Ensemble Preview app and select the option to scan the QR code on the settings page.


## Preview on web

1. Log in to Ensemble Studio.
2. Locate the app you want to share, and click the `...` menu.
3. Select Get Preview Link.
4. The preview link is now copied to your clipboard. Paste it in the browser or share with others to run your app on web.

---

# Preparing your App for deployment

Once you have built your UI with Ensemble and used it to build your app and are ready to take it to production, follow these instructions to deploy it to any iOS or Android devices, or to submit it to the Apple AppStore or Google Play Store.

### Prerequisites
* Your Ensemble App ID. From [Ensemble Studio](https://studio.ensembleui.com), go to your App's Settings screen to retrieve the App ID. 

### Download Ensemble Starter
Ensemble Starter is our packaging solution, enabling you to connect to your Ensemble UI and package it. 
* Clone the Starter App `git clone https://github.com/EnsembleUI/starter my_first_app` into the folder *my_first_app*. You may change the name, but don't use camelCase (e.g. myFirstApp) or dash (-) as the separators.
* Follow the README in this repo.

### Requesting permissions from your end-users
If your app requires capabilities like location, camera, ..., you will need to enter a reason per capability. These reasons will be prompted to the end users, who can decide whether to grant or deny your requests.
* For iOS, edit `<my_first_app>/ios/Runner/Info.plist` and add the below permissions as the direct children of the `<dict>` tag.
* For Android, edit `<my_first_app>/android/app/src/main/AndroidManifest.xml` and add the below permissions as the direct children of the `<manifest>` tag.

Below are the snippet per capability to insert for iOS and Android respectively.

**Location**
```xml
<key>NSLocationWhenInUseUsageDescription</key>
<string>e.g. This app needs access to your location to ....</string>
```

**Camera**
```xml
<key>NSCameraUsageDescription</key>
<string>e.g. your reason for requesting camera access</string>

<key>NSMicrophoneUsageDescription</key>
<string>e.g. your reason for requesting microphone access</string>
```


---

## Configure Social Sign In for Deployment
Before deployment, you need to configure your own OAuth credentials plus specific setups for each platforms.

### Setting up Sign In credentials
On Google's API Console, create your OAuth client ID for each platform (i.e. iOS, Android, Web).

For `iOS`, enter the bundle ID of your App.

<img src="public/images/signin-google-ios.png" alt="Google iOS client ID" style="border: solid 1px lightgrey; max-width: 900px" />

For `Android`, use Web Application type (don't use Android type). You can leave Authorized Origins and Redirect URIs blank.

<img src="public/images/signin-google-android.png" alt="Google Android client ID" style="border: solid 1px lightgrey; max-width: 900px" />

For `Web`, use Web Application type. 
- Authorized Origins should be your domain (e.g. https://mycompany.com). You can also use localhost while in development (e.g. http://localhost:3000).
- Redirect URIs can be empty.

<img src="public/images/signin-google-web.png" alt="webclient ID" style="border: solid 1px lightgrey; max-width: 900px" />

Using a code or text editor, open `/ensemble/ensemble-config.yaml` and enter these credentials.

```yaml
...
services:
  signIn:
    providers:
      google:
        iOSClientId: <iOS client ID here>
        androidClientId: <Android client ID here>
        webClientId: <Web client ID here>
```

#### Setting up iOS
On Google's API Console, open the OAuth client ID for iOS and look for the `iOS URL Scheme` under Additional Information.

Open `/ios/Runner/Info.plist` with a code editor, look for the block below and replace the value with your iOS URL Scheme.

```yaml
    <!-- UPDATE for your Starter. Custom Scheme for OAuth -->
	<key>CFBundleURLTypes</key>
    <array>
        <!-- Google Sign in, replace with your URL scheme -->
        <dict>
            <key>CFBundleTypeRole</key>
            <string>Editor</string>
            <key>CFBundleURLSchemes</key>
            <array>
                <string>your_iOS_URL_scheme_here</string>
            </array>
        </dict>
    </array>
```

#### Setting up Android
There is no additional setup required for Android.

#### Setting up Web
In the `web/index.html` file, look for the block below and replace the value with your Web client ID.
```html
<meta name="google-signin-client_id" content="YOUR_GOOGLE_SIGN_IN_OAUTH_CLIENT_ID.apps.googleusercontent.com">
```





### Enable Auth service in Ensemble code

By default, Ensemble does not include the authentication module to avoid installing unnecessary packages. Here, we uncomment a few lines of code to get the necessary packages.

* Under pubspec.yaml. Uncomment the Auth module block, then run `flutter pub get`.
```yaml
  # Uncomment to enable Auth service
  ensemble_auth:
    git:
      url: https://github.com/EnsembleUI/ensemble_module_auth.git
      ref: main
```

* Uncomment and update the following lines in `/lib/generated/ensemble_modules.dart`.  Try running it with `flutter run`
```
...
import 'package:ensemble_auth/auth_module.dart';
...
static const useAuth = true;    # set to true
...
if (useAuth) {
  // Uncomment to enable Auth service
  AuthModuleImpl().init();
} else {
  AuthModuleStub().init();
}
...
```

---

# Deploy to iOS TestFlight
Note: we are showing here how to deploy your app to Apple TestFlight. Please follow Apple's [documentation](https://developer.apple.com/app-store/submitting/) on how to deploy to the App Store. 
#### Register app
If this is a brand-new app, you first need to register a unique Bundle ID and a unique App Name with Apple.
1. [Register the Bundle ID](https://developer.apple.com/account/resources/identifiers/bundleId/add/bundle) `e.g. com.mycompany.appname`. This is important and cannot be changed later on. You'll also need this ID later in this document.

<img src="public/images/deploy/deploy_ios_0.png" alt="Add Bundle ID" style="border: solid 1px lightgrey" />

2. [Create a New App](https://appstoreconnect.apple.com/apps) using a unique App Name and this Bundle ID. The App Name is how your app will eventually be searchable and appear in the App Store. 

<img src="public/images/deploy/deploy_ios_1.png" alt="Add App" style="border: solid 1px lightgrey" />

#### Preparing Ensemble for uploading
* Make sure you completed the [Preparing your App](/deploy/1-prepare-app.md) step, including following the starter repo's README instruction to configure and run your App.
* Navigate to the app folder (e.g. my_first_app).
* Under `ios` folder, open `Runner.xcworkspace` with [XCode](https://developer.apple.com/xcode/).
  * Select the Team (Apple Account) used to create the App and Bundle ID. You may need to log in to your Apple Developer Account under XCode > Preferences > Accounts.
  * Under `Signing & Capabilities`, ensure the `Bundle Identifier` matches exactly your Bundle ID above.
  <img src="public/images/deploy/deploy_ios_2.png" alt="Update App configs" style="border: solid 1px lightgrey" />

  * Under `Info`, find the `Bundle display name` key and update its value to your desire name (e.g. My First App). This is the name that shows up once your App has been installed. This doesn't have to exactly match your App Name, and can be shorter so its name is not cut off under the App icon.
  <img src="public/images/deploy/deploy_ios_3.png" alt="Add App" style="border: solid 1px lightgrey" />

* Run `flutter build ipa --no-tree-shake-icons`. This will create the ipa file at /build/ios/ipa/my_first_app.ipa.
* Download Apple’s [Transporter](https://apps.apple.com/us/app/transporter/id1450874784?mt=12) and login with the same Apple account. Drop the ipa file into the Transporter App then click Deliver.
  * This may take 5-10 minutes AFTER upload completes before the build shows up under `Your App Name > TestFlight` tab, plus another 10-15 minutes to complete processing.
* Click to manage Apple's app compliance by answering the questions.
  <img src="public/images/deploy/deploy_ios_4.png" alt="Update App configs" style="border: solid 1px lightgrey" />
* You can now invite your team members to install your App under `Internal Testing`. Each person can download the app via TestFlight. 

---

# Connecting to OAuth services (Optional)

Ensemble supports authorizing and fetching data from OAuth2 services like Google and Microsoft. The entire flow is handled automatically if you are using Ensemble Go to preview your app. 

When deploying your Production App and you'd like to use OAuth Services, please follow these instructions to configure your back-end server to work with Ensemble's UI.

## App Redirect
When an OAuth flow is initiated within the UI, Ensemble will redirect the users to the appropriate OAuth service's login page. Once the users enter their username/password and authorize your app, the OAuth service will invoke a callback URL (known as Redirect URL) that your app defines. This Redirect URL will re-open your app and continue the OAuth flow.

The Redirect URL to open your App can be a Http App Link or a Custom Scheme (non-http).

### Custom Scheme
#### iOS
- Look for `CFBundleURLTypes` inside the ios/Runner/Info.plist and update accordingly.
  - `CFBundleURLName` - By convention match this with your bundleID
  - `CFBundleURLSchemes` - When registering with the OAuth services, they may give you a unique string or enable you to enter your own. The scheme follows this format `some.globally.unique.scheme://<string>`. This has to be unique so it doesn't clash with any other apps out there.
    - Enter only the portion before the `://`.
```
<key>CFBundleURLTypes</key>
<array>
    <dict>
        <key>CFBundleURLName</key>
        <string>com.mycompany.myapp</string>
        <key>CFBundleURLSchemes</key>
        <array>
            <string>some.globally.unique.scheme</string>
        </array>
    </dict>
</array>
```

#### Android
- Open `android/app/src/main/AndroidManifest.xml`. Look for the callback Activity and add an `intent-filter` for your callback.
- e.g. if your callback URL looks like this `some.globally.unique.scheme://authorize`, the android:scheme should be `some.globally.unique.scheme`, and android:host should be `authorize`.
```
<activity
    android:name="com.linusu.flutter_web_auth_2.CallbackActivity"
    android:exported="true">

  <intent-filter android:label="flutter_web_auth_2">
    <action android:name="android.intent.action.VIEW" />
    <category android:name="android.intent.category.DEFAULT" />
    <category android:name="android.intent.category.BROWSABLE" />

    <!-- enter your callback scheme and host here -->
    <data
        android:scheme="some.globally.unique.scheme"
        android:host="authorize" />
  </intent-filter>
  
  <!-- other callbacks -->
  <intent-filter ....>
```


### Http App Link
Using a URL to redirect and open your App requires two steps for each platform: 1. adding a configuration similar to the custom schemes above, and 2. prove that you own the redirect URL's domain.  
#### iOS
- Open `ios/Runner/Runner.entitlements` and add an entry for the URL you want to redirect to your App. Note the required prefix `applinks:`.
- For example, if your want the URL `https://auth.mycompany.com/callback` to open your app. Enter only the domain to the URL below. 
```
<dict>
	<key>com.apple.developer.associated-domains</key>
	<array>
        <!-- other URLs -->
	    <string>applinks: .... </string>
	
	    <!-- add your URL, either root or subdomain is OK -->
		<string>applinks:auth.mycompany.com</string>
	</array>
</dict>
```

- Prove that you own the domain URL above by uploading the json file below to your domain (or subdomain - depending what you used).
  - The file should be called `apple-app-site-association` and served with Content-Type of `application/json`.
  - The file can be at the root of your server or under a folder called `.well-known`.
  - Using the example URL above, add `/callback` to the paths.
```
{
  "applinks": {
    "apps": [],
    "details": [
      {
        "appID": "<your_app_team_ID>.<your_app_bundle_id>",     // e.g. 3GHDU3434.com.mycompany.myapp
        "paths": ["/<path after the domain>"]                   // e.g. /callback
      },
      {
        .. other Apps and paths here ...
      }
    ]
  }
}
```

#### Android
- Open `android/app/src/main/AndroidManifest.xml`. Look for the callback Activity and add an `intent-filter` for your callback.
  - android:host is the URL domain or subdomain that will open the app, while android:pathPrefix is the path after the domain.
  - For example, use the below if your want the URL `https://auth.mycompany.com/callback` to open your app. 
```
<intent-filter android:label="flutter_web_auth_2">
    <action android:name="android.intent.action.VIEW" />
    <category android:name="android.intent.category.DEFAULT" />
    <category android:name="android.intent.category.BROWSABLE" />

    <data
        android:scheme="https"
        android:host="auth.mycompany.com"
        android:pathPrefix="/callback" />
</intent-filter>
```
- Prove that you own the domain URL above by uploading the json file below to your domain (or subdomain - depending what you used).
    - The file should be called `assetlinks.json` and served with Content-Type of `application/json`.
    - The file can be at the root of your server or under a folder called `.well-known`.
    - Get your app's SHA256 by going to Google Play's developer console. 
```
[
  {
    "relation": ["delegate_permission/common.handle_all_urls"],
    "target": {
      "namespace": "android_app",
      "package_name": "com.mycompany.myapp",
      "sha256_cert_fingerprints": [
        "<your_app_sha256>",
      ]
    }
  }
]
```

## Server component
Once the OAuth service successfully authenticates the user and redirect back to our App, we will be making a call to your server and pass the OAuth code. Your service will be exchanging this code for the access/refresh token.
- We provide the sample server code in Node (deployable with Firebase).
- Open `ensemble/ensemble-config.yaml` and go to `services -> apiAuthorization`.
  - Replace the `tokenExchangeServer` 

---

# Deploy to Android devices

* Make sure you completed the [Preparing your App](/deploy/1-prepare-app.md) step, then navigate to the folder created (e.g. my_first_app).
* Run `flutter create --platforms=android .` (note the period at the end)
* Run `flutter build apk --no-tree-shake-icons` to build the APKs (destination is /build/app/outputs/flutter-apk/).
* Connect your Android device to your computer, then run `adb install build/app/outputs/flutter-apk/app-release.apk`.


### Customizing your App
* Play Store requires each app to have a unique app ID, which cannot be changed after your submit your App.
  * To update the app ID, open `/android/app/build.gradle`. Go to `android > defaultConfig > applicationId` and update the value.
  * Remove `/android/app/src/main/AndroidManifest.xml`.
  * Run `flutter create --platforms=android .`.
* To update the app's name. Open `/android/app/src/main/AndroidManifest.xml` and change the `android:label=` to the app name.

---

# Deploy to Android Play Store

## Pre-requisites
* Make sure you completed the [Preparing your App](/deploy/1-prepare-app.md) step, then navigate to the folder created (e.g. my_first_app).
* Sign your Android app's release version. The below is a demonstration and maybe out-of-date. Please follow Android's latest documentation for up-to-date information.
  * Generate a release key using Java's keytool 
    * Run `keytool -genkey -v -keystore ~/<file_name>.jks -keyalg RSA -keysize 2048 -validity 10000 -alias <key>`
    * Replace <file_name> and <key> to your liking. The tool will also ask you to choose the passwords.
  * Under the /android folder, create a file called `key.properties`(DO NOT check this in) and populate these required values:
```
storePassword=<store password created above>
keyPassword=<key password created above>
keyAlias=<the key alias you used>
storeFile=<location to the .jks file created above>
```
  * Open `/android/app/build.gradle`. Under `android > buildTypes > release`, enter `signingConfig signingConfigs.release`.

## Uploading your build
* Navigate to the folder for your project (e.g. my_first_app).
* Open the file `pubspec.yaml` and look for `version` e.g. version: 1.0.0+1. The last number is the build number which has to be unique on every upload. Simply increment it for each production build.
* Run `flutter build appbundle --no-tree-shake-icons`. This will create the bundle file under `build/app/outputs/bundle/release/app-release.aab`.
* Log into your [Play Store console](https://play.google.com/console) and go to your App. Select your release and upload the `.aab` file.

## Updating your Play Store app.
* Once your app has been approved and live on the Play Store, follow these instructions for subsequent updates:
  * Run `flutter pub upgrade` to upgrade Ensemble dependencies. This may include framework's bug fixes as well as new widget additions.
  * If you are using Ensemble-hosted definitions, you already have the latest page definitions.
* Increment the version (the one after the + sign) in `pubspec.yaml`.
* Run `flutter build appbundle --no-tree-shake-icons`. This will create the bundle file under `build/app/outputs/bundle/release/app-release.aab`.
* Log into your [Play Store console](https://play.google.com/console) and go to your App. Select your release and upload the `.aab` file.

---

# Prepare for Production

Now, that you have built and tested an ensemble app, you would like to publish. Before publishing your app, it is recommended to make it production-ready. 

This guide covers covers the following topics.

- **Adding a launcher icons**
- **Adding native splash screen** 

## Adding a launcher icons

Launcher icons are required as the visual representation of the app on the device's home screen and app drawer, helping users quickly identify and launch the app. 

Currently, the Flutter logo serves as the default icon. Let's see how to replace it with your product's logo.

We'll be using a package called fluter launcher icons from [pub.dev](https://pub.dev/packages/flutter_launcher_icons).

- First add the package as dev dependency in `pubspec.yaml`.
```yaml
dev_dependencies:
    flutter_launcher_icons: any
```

- Add launcher icon configuration inside `pubspec.yaml`
```yaml
flutter_icons:
    android: "launcher_icon"
    ios: true
    # Add path to your icon image.
    image_path: "assets/icon/icon.png"
    web:
      generate: true
      image_path: "path/to/image.png"
      background_color: "#hexcode"
      theme_color: "#hexcode"
```

- Run the following command in terminal, to update native launcher icons with above configuration
```bash
flutter pub get
flutter pub run flutter_launcher_icons
```

For more nitty-gritty detail check [flutter_launcher_icons#book-guide](https://pub.dev/packages/flutter_launcher_icons#book-guide)


## Adding Native Splash screen

When launching an app, a splash screen is the initial display that a user sees. By default, a native app shows a white screen, but with a splash screen, you can showcase your brand or product logo, and provide the user with a visual cue that the app is in the process of loading. 

We'll be using a package called fluter native screen from [pub.dev](https://pub.dev/packages/flutter_native_splash).

To add a splash screen to your app, these steps should be followed:

- First add the package as dev dependency in `pubspec.yaml`.
```yaml
dev_dependencies:
    flutter_native_splash: any
```

- Add splash screen configuration inside `pubspec.yaml`
```yaml
flutter_native_splash:

    # color or background_image is the only required parameter. 
    # Only one parameter can be used, color and background_image cannot both be set.
    color: "#hexcode"
    #background_image: "assets/background.png"

    # The image parameter allows you to specify an image used in the splash screen.  It must be a
    # png file and should be sized for 4x pixel density.
    #image: assets/splash.png

    # The branding property allows you to specify an image used as branding in the splash screen.
    # It must be a png file. It is supported for Android, iOS and the Web.  For Android 12,
    # see the Android 12 section below.
    #branding: assets/dart.png

    # To position the branding image at the bottom of the screen you can use bottom, bottomRight,
    # and bottomLeft. The default values is bottom if not specified or specified something else.
    #branding_mode: bottom

    # Dark theme parameters, if not set above params will be used.
    #color_dark: "#042a49"
    #background_image_dark: "assets/dark-background.png"
    #image_dark: assets/splash-invert.png
    #branding_dark: assets/dart_dark.png
```

- Run the following command in terminal, to update native slash screen setting with above configuration
```bash
flutter pub get
flutter pub run flutter_native_splash:create
```

Re-run your app and you'll see newly added splash screen. 

For more nitty-gritty detail check [flutter_native_splash#usage](https://pub.dev/packages/flutter_native_splash#usage)

---

# Making your app work when offline

You can embed your app definition in your build output so that your app works without network connectivity. Note that once you make this change, you will not have the ability to change the app from Ensemble Studio.

## Prerequisites

* You have completed the [Prepare your app for deployment step](/deploy/1-prepare-app).
* You have a text or code editor on your machine. We recommend [VS Code](https://code.visualstudio.com/).

## Step 1. Create a folder for your app

In your local directory where you cloned Ensemble Starter, navigate to `/ensemble/apps` folder. Create a new folder with your desired name, and no spaces.

This name will not be customer-facing.

<img src="public/images/local_app_folder.png" alt="Local app folder" height="500"/>

## Step 2. Copy your app artifacts  

To work in local mode, you can obtain your app artifacts from either **Ensemble Studio** or the **Desktop app**. 
#### Option 1: Downloading Artifacts from Ensemble Studio  

1. Open **Ensemble Studio**.  
2. Click the `...` menu button for your app.  
3. Select **Download Beta** to download all the app artifacts.  
4. Once downloaded, locate the app folder.  
5. Copy the entire folder (with the above structure).  
6. Paste the folder into the `/ensemble/apps` directory you created.  

#### Option 2: Obtaining Artifacts from the Desktop App  

To obtain local artifacts from the Desktop app, pull the app directly into the `/ensemble/apps` folder in your local directory where you cloned the Ensemble Starter.

Follow this [guide](/desktop-app/installation#pulling-from-cloud-to-local) to pull the app from the Desktop app.
Once obtained, copy and paste the downloaded folders into the `/ensemble/apps` folder you created.  

The downloaded app will already have the following structure:  

```
<project-path>/
├── assets/
├── fonts/
├── scripts/
├── widgets/
├── screens/
├── translations/
├── config/
│   ├── appConfig.json
│   ├── secrets.json
├── theme.yaml
├── .manifest.json
```


## Step 4. Update your app to read the definitions locally

In your local directory where you cloned Ensemble Starter, open `/ensemble/ensemble-config.yaml` file with your desired code or text editor and make the following updates:

- At the top, set `from: local` under `definitions`:

```yaml
definitions:
  # where your page definitions are hosted ('local', 'remote' or 'ensemble')
  from: local
```

- Then set the `appId` and `appHome` properties under `local`

```yaml
  local:
    path: ensemble/apps/<your-app-name>
    appId: myApp   # this is the name of the folder you created in step 1
    appHome: MyHomeScreen # this is the name of the screens that should be rendered first when your app id launched
```
- Under `i18n` update the `path` to match your app’s name `ensemble/apps/yourAppName/translations`.
```yaml
    i18n:
      # Directory where all the translation files (e.g. en.yaml, es.yaml) reside.
      # Translation will be disabled without the path.
      path: ensemble/apps/helloApp/translations/
```
## Step 5. Update starter `pubspec.yaml`
Add the necessary paths under `flutter -> assets` to ensure your app loads all required files and folders correctly:  

```yaml
flutter:
  assets:
    # list all your Apps directories here. It's a Flutter requirement
    - ensemble/apps/`<your-app-name>`/
    - ensemble/apps/`<your-app-name>`/screens/
    - ensemble/apps/`<your-app-name>`/widgets/
    - ensemble/apps/`<your-app-name>`/scripts/
    - ensemble/apps/`<your-app-name>`/assets/
    - ensemble/apps/`<your-app-name>`/translations/

    # # config folder contains appConfig.json and secrets.json
    - ensemble/apps/`<your-app-name>`/config/
  ```
  NOTE: Only add the existing paths under assets and replace `<your-app-name>` with the name of you app folder. 

## 5. Rebuild your app

Now you can follow the steps for iOS or Android to run the app locally or build and upload your app to the respective app stores.

---

# Guide: Generating Google Play Console API Key

## Overview

This guide outlines the steps to generate a Google Play Console API Key, enabling seamless deployment of APKs or App Bundles directly to the Google Play Store. Make sure to follow these steps sequentially for a smooth process.

**Note:** Before using the Google API for direct app uploads, you must manually upload at least one build to Google Play Console. However, the build system can still be used to obtain the APK/App Bundle for subsequent uploads.

## Steps for Creating Google Play API Key

1. **Log in to Google Cloud Console:**
    - Open [Google Cloud Console](https://console.cloud.google.com/).
    - Ensure you are logged in with the same account as your Google Play Console.
    - If needed, switch accounts by clicking on the avatar.

2. **Select Google Play Console Developer:**
    - Confirm that your account is set to `Google Play Console Developer` in the dropdown menu (located right of the Google Cloud Console logo).

3. **Access APIs & Services:**
    - Select `APIs & Services` from Quick Access. If not visible, use the search bar in the top center.

![Google Cloud Console Home screen](/public/images/deploy/b88f2d9e-8959-4c03-aa3d-b30b3aac56da.png)

4. **Navigate to Credentials:**
    - In the left panel, click on `Credentials`.

5. **Create Service Account:**
    - Click on `+ Create Credentials` at the top, then select `Service Account`.
    - Provide a name for the service account (memorable for identification).
    - Click `Create and Continue`.

![Add Credentials](/public/images/deploy/2f64dff5-5657-40dd-9461-e79eb5ccb6aa.png)

6. **Define Role:**
    - Choose the role as `Service Account User`.
    - Click `Done` to create the API Key.

![Select adequate role](/public/images/deploy/81cb60a6-acac-41d4-b18b-53faceaa2bd6.png)

7. **Copy Email Address:**
    - Copy the email address of the created key (will be needed later).

8. **Manage Key:**
    - Click on the edit icon in the Action row, select `Manage Key`.

![Manage Key](/public/images/deploy/da4986fe-311c-4080-87cc-240b119fbce2.png)

9. **Generate JSON Key File:**
    - In the `Keys` tab, click on `Add Key`, then `Create new key`.
    - Choose `JSON` and click `Create`.
    - Save the downloaded `.json` file securely.

![Download json key](/public/images/deploy/0cede178-01ac-4fe8-841d-25e59067f9ec.png)

**Note:** This key needs to be linked to Google Play Console before use.

10. **Link Key to Google Play Console:**
    - Open [Google Play Console](https://play.google.com/console/) and go to `Users and Permissions` in the sidebar.

11. **Invite New Users:**
    - Click on `Invite New Users` and paste the email address saved in step 7.

![Invite new user](/public/images/deploy/bd4df269-e351-4dad-a82d-acb45bc99801.png)

12. **Set App Permissions:**
    - In the App Permissions tab, select the apps for direct upload using the build system.

![App Permissions](/public/images/deploy/e2294e7f-01e2-4223-a378-9851fc34b1fe.png)

13. **Configure Account Permissions:**
    - In the `Account Permissions` tab, check relevant options under `App Access` and `Releases`.

![Account permissions 1](/public/images/deploy/41ae9244-7dd3-4ba5-b7bf-26068bd85ac7.png)
![Account permissions 2](/public/images/deploy/5fd3b828-cfd9-4be8-9b21-54125c38a09e.png)

14. **Send Invite:**
    - Click on `Invite User`, then `Send Invite` to link the generated key with the apps successfully.

Follow these steps diligently to ensure a hassle-free setup of your Google Play Console API Key.

---

# Guide: Generating API Key for App Store Connect

## Overview

This guide provides step-by-step instructions on generating an API key for App Store Connect. This key allows you to interact programmatically with App Store Connect which would be required for deploying apps directly to App Store Connect using Build System.

**Note:** Ensure you have the necessary App Store Connect account permissions to generate API keys.

## Steps for Creating API Key

1. **Navigate to App Store Connect:**
   - Visit [App Store Connect](https://appstoreconnect.apple.com/).

2. **Log in to Your Account:**
   - Log in with your App Store Connect credentials.

3. **Access API Keys Section:**
   - From the homepage, navigate to the `Users and Access` section.

4. **Select API Keys:**
   - Click on the `Keys` option from the top.

5. **Generate a New API Key:**
   - Click on the `+` button.
  
![Keys section](/public/images/deploy/a1622af9-6bc4-44e8-9d40-01ecaa802e38.png)

6. **Fill in the Details:**
   - Provide a name for your API key. It will be useful to identify your key later on.
   - Choose `App Manager` in the access part of the dialog.

![API Key form](/public/images/deploy/63059213-709b-4686-84ab-7293398951e1.png)

7. **Generate the Key:**
   - Click on the `Generate` button to create the API key.

8. **Download and Store the Key:**
   - There will be a `Download` button for the newly generated key. Download the `.p8` file which is the API key.
   - Safely store the key file, as it cannot be downloaded again.

![Download the generated API Key](/public/images/deploy/4998013e-c189-4289-97b9-e4a6fb61038a.png)

9. **Copy Key ID and Issuer ID:**
   - Copy the `Key ID` for the generated key. Also, copy the `Issuer Id` at the top.
   - They both will be required later on in the build system.

Follow these steps to successfully generate an API key for App Store Connect, allowing seamless integration with the Build System.

---


# Guide: Generating a Firebase Service Account for App Distribution

## Overview

This guide outlines the steps to generate a Firebase Service Account with the necessary permissions to use the Firebase App Distribution API for seamless app distribution.

---

## Steps for Creating a Firebase Service Account

### 1. Log in to Firebase Console

- Open the [Firebase Console](https://console.firebase.google.com/).
- Ensure you are logged in with the account associated with your Firebase project.

### 2. Navigate to Project Settings

- Select your project by clicking on its name in the top-left corner.
- From the dropdown menu, select **Project Settings**.
- Select the **Service accounts** tab
- Click the **X service accounts** button to open the Google Cloud Platform interface.

![Firebase Service Accounts Button](/public/images/deploy/firebase_service_accounts_button.png)

---

### 3. Create a New Service Account

#### a. Access Service Accounts

- In the Google Cloud Platform, navigate to the **Service Accounts** section.
- Click the **Create Service Account** button.

![Create Service Account Button](/public/images/deploy/service-account.png)

#### b. Fill in Service Account Details

- **Step 1**: Enter the Service Account name and description. This helps you identify the account later and click **Create**.
- **Step 2**: Click the **Select a role** dropdown and choose **Firebase App Distribution Admin** and Click **Continue**.
- **Step 3**: Leave additional fields blank and click **Done**.

---

### 4. Manage Service Account Keys

#### a. Locate Your Service Account

- In the list of service accounts, find the one you just created.
- Click the menu in the **Actions** column and select **Manage keys**.

![Manage Keys Button](/public/images/deploy/google_cloud_three.png)

#### b. Create a New Key

- In the **Keys** section, click **Add Key > Create new key**.
- Select **JSON** as the key type and click **Create**.
- Download the JSON key file and save it in a secure location.

![Download JSON Button](/public/images/deploy/google_cloud_four.png)

---

### 5. Upload the JSON Key to Ensemble Studio

- Return to Ensemble Studio.
- Upload the JSON key file to the **Firebase App Distribution** configuration in the **Build & Deploy** page.

---


# Host and serve your app definition on your own server

Ensemble automatically serves your application definition (EDL). It also allows you to take the EDL from Ensemble studio and serve it from your own server.

> [!NOTE]
> You must have owner or editor permission to download the app.

> [!NOTE]
> Do not change any filename, extension or location of file.


### Serve the files
 
> [!NOTE]
> The server code present here is just for demo purpose.


```python
from flask import Flask, abort, Response
import os

app = Flask(__name__)

BASE_DIR = '<here-put-the-path-of-downloaded-app>'

@app.route('<path:filepath>')

@app.route('/<app>/<path:filepath>')
def serve_file(app, filepath):
    safe_app = os.path.normpath(app)
    safe_filepath = os.path.normpath(filepath)

    full_path = os.path.join(BASE_DIR, safe_app, safe_filepath)

    if not full_path.startswith(os.path.join(BASE_DIR, safe_app)):
        abort(403, "Access denied")

    if os.path.isfile(full_path):
        with open(full_path, 'rb') as f:
            content = f.read()
        return Response(content, mimetype='text/plain; charset=utf-8')
    else:
        abort(404, description="Resource not found")

if __name__ == '__main__':
    app.run(debug=True, host='0.0.0.0', port=5001)

```
fyi: This server code is used to serve static files of your application and you can run this by simply `python filename.py`

`BASE_DIR` is where all the downloaded from from download app button are available.
Here just make sure, the file serving route of your server can take filepath as parameter. 
`filepath` can be `Home.yaml` or `i18n/en.yaml`.


### Configure the client app
> [!NOTE]
> Make sure your file serving server is live.

Go to your `ensemble-config.yaml` under your `ensemble` directory in your client application.

```yaml
definitions:
  from: remote # here change local or ensemble to remote
  
  remote:
    path: https://your-domain.com
    appId: <name-of-your-app-folder> 
    appHome: <name-of-your-home-page>
    i18nPath: https://your-domain.com/appId/i18n
```

</Steps>

---


# Accordion Widget

The `Accordion` widget allows you to display a list of items in an accordion-style UI, where individual sections can be expanded or collapsed. This widget is highly customizable, offering options for styling the headers and bodies, controlling the behavior of sections (whether multiple sections can be open at once), and customizing animations and icons.

## Key Properties and Features

- **Accordion Mode**: The `limitExpandedToOne` property determines whether only one section can be open at a time (accordion mode) or multiple sections can be open simultaneously. Defaults to `true`.
- **Initial Opening Sequence Delay**: The `initialOpeningSequenceDelay` property allows you to add a delay (in milliseconds) before the initial opening of the sections.
- **Section Styling**: The `headerStyle` and `bodyStyle` properties allow you to customize the appearance of the header and body sections, respectively.
- **Icons**: You can add icons to the left and right of each section using `leftIcon` and `rightIcon`, and choose whether they flip when the section is opened or closed.
- **Padding and Spacing**: Control padding inside sections and spacing between sections using properties like `paddingListTop`, `paddingListBottom`, `paddingListHorizontal`, `paddingBetweenOpenSections`, and `paddingBetweenClosedSections`. Default values for padding are `0.0`.
- **Animations**: Customize the opening and closing animations of the sections with `openAndCloseAnimation` and `scaleWhenAnimating`. Both default to `true`.
- **Scrolling**: Disable scrolling for the accordion using the `disableScrolling` property. Defaults to `false`.

---


# Avatar widget

The Avatar Widget provides a visual representation of a user or entity, typically used in user interfaces to personalize user experience.

---


# Button widget

A control that can execute an action on tap or click.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/09c1087b-f9ee-4a8c-9286-e0e881184c07)

## Properties

| Property     | Type    | Description                                                                                                         |
| :----------- | :------ | :------------------------------------------------------------------------------------------------------------------ |
| label        | string  | The button label                                                                                                    |
| enabled      | boolean | Enables or disables the interactivity and input functionality of the widget                                         |
| submitForm   | boolean | If the button is inside a Form and upon on tap, it will execute the form's onSubmit action if this property is TRUE |
| onTap        | [action](/actions/directory.md)  | Call Ensemble's built-in functions or execute code                                         |
| onTapHaptic | enum | The type of haptic to perform when button is pressed. It should be one of heavyImpact, mediumImpact, lightImpact, selectionClick, and vibrate     |
| endingIcon   | object  | Icon placed behind the label, according to device text alignment                                                    |
| startingIcon | object  | Icon placed in front of the label, according to device text alignment                                               |
| gap          | integer | The gap between the starting icon and ending icon                                                                   |

### Styles

| Property     | Type    | Description                                                                                                         |
| :----------- | :------ | :------------------------------------------------------------------------------------------------------------------ |
| outline      | boolean | Whether the button should have an outline border instead of filled background |
| color        | [integer or string](/widgets/types#Color) | Set the color for the button label starting with '0xFF' for full opacity. `transparent`, `black`, `blue`, `white`, `red`, `grey`, `teal`, `amber`, `pink`, `purple`, `yellow`, `green`, `brown`, `cyan`, `indigo`, `lime`, `orange` |
| labelStyle   | object | An object that determines the size, color, and decoration of text |

### Box Styles (Inherited)
This widget also inherits these styles

---

# Calendar widget

[Kitchen Sink Example](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/4aAgiwyVyucOAilPNy0s)

| Attribute          | Description                                                                                   |
|--------------------|-----------------------------------------------------------------------------------------------|
| rowHeight          | Sets the height of each row in the calendar to a specified value (120 in this case).          |
| tooltip            | Displays a tooltip with information about the focused date, providing guidance on interaction.|
| headerTextStyle    | Defines the text style for the calendar header, controlling its font size.                    |
| firstDay           | Sets the first day of the calendar based on the current date.                                  |
| range              | Manages the selection of date ranges, allowing actions to be performed when a range is completed.|
| cell               | Configures the style and alignment of individual calendar cells.                               |
| selectCell         | Specifies the appearance of the selected cell in the calendar.                                 |
| markCell           | Determines the style of marked cells in the calendar.                                          |
| todayCell          | Customizes the appearance of cells representing the current date.                              |
| disableCell        | Defines the style of disabled cells in the calendar, typically with a line-through decoration.|
| rowSpans           | Configures the display of events spanning across multiple days, providing a clickable button.  |


### Row Span in detail

Row spans are widget, this widget span across multiple cell (Date). 
| Property | Type   | Description                                                        |
| :------- | :----- | :----------------------------------------------------------------- |
| data | string | Bind to an array of data from an API response or storgae |
| name | string | Set the name to reference as you iterate through the array of data |
| span | | [Span detail](#Span) |

#### Span
| Property | Type   | Description                                                        |
| :------- | :----- | :----------------------------------------------------------------- |
| start | string, DateTime | Starting date of span |
| end | string, DateTime | Ending date of span |
| widget | | The widget to render for each item |


### Methods 
| Function | Args |  Description | 
| ---| ---| --- |
|update() | | Refresh the calendar if required. Note calendar will automatically on calling any below functions |
| clearRange() |  | Clear range entire range selection with this function. |
|selectCell(dates) | Single Date (string, DateTime), List of Dates (string, DateTime) | Mark given date as selected |
|selectStartEndCell(startDate, endDate) | Start Date (string, DateTime), End Date (string, DateTime) | Mark start, end and every date in between as selected|
|unSelectCell(dates) | Single Date (string, DateTime), List of Dates (string, DateTime) | Mark given date as un-selected |
|unSelectStartEndCell(startDate, endDate) | Start Date (string, DateTime), End Date (string, DateTime) | Mark start, end and every date in between as un-selected|
|toggleSelectCell(dates)| Single Date (string, DateTime), List of Dates (string, DateTime)  | Toggle between selected and unselected with given dates
|markCell(dates) | Single Date (string, DateTime), List of Dates (string, DateTime) | Mark given date as marked |
|markStartEndCell(startDate, endDate) | Start Date (string, DateTime), End Date (string, DateTime) | Mark start, end and every date in between as marked|
|unMarkCell(dates) | Single Date (string, DateTime), List of Dates (string, DateTime) | Mark given date as un-mark |
|unMarkStartEndCell(startDate, endDate) | Start Date (string, DateTime), End Date (string, DateTime) | Mark start, end and every date in between as un-marked|
|toggleMarkCell(dates)| Single Date (string, DateTime), List of Dates (string, DateTime)  | Toggle between mark and unMark with given dates
|disableCell(dates) | Single Date (string, DateTime), List of Dates (string, DateTime) | Mark given date as disable |
|disableCell(dates) | Single Date (string, DateTime), List of Dates (string, DateTime) | Mark given date as disable |
|enableCell(dates) | Single Date (string, DateTime), List of Dates (string, DateTime) | Mark given date as enabled |
|toggleDisableCell(dates) | Single Date (string, DateTime), List of Dates (string, DateTime) | Toggle between enable and disabled cells with given dates |

#### Exploring the [Kitchen Sink example](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/4aAgiwyVyucOAilPNy0s), let's delve into the process that repeats as users interact with the app, triggering events and updating the UI based on the defined logic and configurations.

Upon the View's loading, we initiate the following code block:
```yaml
executeCode:
      body: |-
        ensemble.storage.events = generateEvents();
```
This loads in all hardcoded objects  within the `generateEvents()` function, as outlined in the `Global: |-` block.

A notable quirk is encountered when dealing with bindings – setting storage to something (even itself) triggers them. The Calendar example illustrates this perfectly:
```yaml
executeCode:
    body: |-
        var newEvent = {'start_date': calendar.rangeStart, 'end_date': calendar.rangeEnd, 'title': nameInput.value, 'detail': descInput.value}; 
        ensemble.storage.events.push(newEvent);
        ensemble.storage.events = ensemble.storage.events;
        console.log(ensemble.storage.events);
    onComplete:
        navigateBack:
```
Here, we start by appending/pushing our new event into our `ensemble.storage.events` array. However, to activate the binding for the updated array, we set it equal to itself, completing the cycle.

---


# Carousel widget

The Carousel Widget allows you to create and render carousels, enabling the presentation of multiple items in a visually engaging and interactive slideshow format within your application.

---


# ChartJS widget

The ChartJS widget renders a chart by leveraging the open-source library [chartjs.org](https://www.chartjs.org/).

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/5d7b84de-3bbd-456e-aeea-98e2c9f4c3c7)


## Basic example

The primary property required for ChartJs widget requires is `config`.

```yaml filename="source"
View:
  body:
    Column:
      children:
        - ChartJs:
            onTap:
              eexecuteCode:
                body: |
                  console.log(event.data);
            config: |
              {
                "type": "pie",
                "data": {
                  "labels": ["Red", "Blue", "Yellow"],
                  "datasets": [{
                    "data": [300, 50, 100],
                    "backgroundColor": [
                        "rgb(255, 99, 132)",
                        "rgb(54, 162, 235)",
                        "rgb(255, 205, 86)"
                    ]
                  }]
                }
              }
```


## Replace chart's data with new data

You can change the entire data of a chart using `setData` method:

1. Add an id to your chart widget.
2. Use `setData` replace data.
3. Use `update` to redraw the chart.


```yaml filename="source"
View:

  body:
    Column:
      styles:
        padding: 100 0
        gap: 16
        crossAxis: center
      children:
        - Text:
            text: Energy Sources
            styles:
              textStyle:
                fontSize: 20
        - ToggleButton:
            styles:
              spacing: 10
              runSpacing: 10
              color: black
              selectedColor: white
              backgroundColor: white
              selectedBackgroundColor: green
              selectedBorderColor: blue
              borderColor: green
            items:
              - Your home
              - Others
            value: "Your home"
            onChange: |
              if (this.value == "Your home") {
                energySourceChart.setData(0, [60,10,20,10]);
                energySourceChart.update();
                centerText.text = "60%";
              } else {
                energySourceChart.setData(0, [20,40,50,20]);
                energySourceChart.update();
                centerText.text = "10%";
              }

        - Stack:
            styles: 
              alignChildren: center
            children:
              - ChartJs:
                  styles: 
                    width: ${ device.width }
                    height: ${ device.width }
                  id: energySourceChart
                  config: ${ setEnergyChartConfig([60,10,20,10])}
              - Column:
                  styles: { crossAxis: center, mainAxis: center }
                  children:
                    - Text:
                        text: Green energy
                        styles:
                          textStyle:
                            color: 0xff969BA1
                            fontSize: 12
                    - Text:
                        id: centerText
                        text: 60%
                        styles:
                          textStyle:
                            fontSize: 32
                          textAlign: end
            

Global: |-

  function setEnergyChartConfig (data) {
    return ({
      "type": 'doughnut',
      "data": {
        "labels": ["Green", "Coal", "Gas", "Oil"],
        "datasets": [{
          "data": data,
          "backgroundColor": ['#4BC22F','#474747','#FFBE0A', '#6933FF'],
          "hoverOffset": 30,
          "borderWidth": 0
        }]
      },
      "options": {
        "responsive" : true,
        "aspectRatio": 1,
        "cutout": 80 ,
        "plugins": {
          "legend": {
            "display": false
          },
          "tooltip": {
            "enabled": true,
            "position": "nearest"
          },
          "labelInsideCircumference": {
            "font": {
              "size": '11',
              "weight": 'normal'
            },
            "color": '#000',
            "space": 40, // Space between label and circumference
            "labelPadding": 10, // Padding on the left and right of the label inside the box
            "boxHeight": 30, // Height of the label box
            "borderRadius": 4, // Border radius for the label box
            "iconOffset": 15 // Horizontal offset for the icon inside the box,
          }
        },
        "layout": {
          "padding": 80
        }
      },
      "plugins": [{
      "id": 'labelInsideCircumference',
      "beforeDraw": function (chart) {
        var labels = chart.data.datasets[0].data;
        var colors = chart.data.datasets[0].backgroundColor;
        var ctx = chart.ctx;
        var width = chart.width;
        var height = chart.height;
        var labelConfig = chart.options.plugins.labelInsideCircumference;

        ctx.restore();
        ctx.font = labelConfig.font.size + 'px ' + labelConfig.font.weight;
        ctx.fillStyle = labelConfig.color;
        ctx.textBaseline = 'middle';

        var total = chart.config.data.datasets[0].data.reduce(function (acc, val) {
          return acc + val;
        }, 0);
        var startAngle = -0.54 * Math.PI;
        var endAngle = startAngle;

        // unicodes for the icons
        var iconUnicodes = ['🍃', '🪨', '🔥', '🛢️'];
        var text = ["Green", "Coal", "Gas", "Oil"];

        for (var i = 0; i < labels.length; i++) {
          var angle = (chart.data.datasets[0].data[i] / total) * (2 * Math.PI);
          endAngle += angle;
          
          var x = width / 2 + Math.cos((startAngle + endAngle) / 2) * (width / 2 - labelConfig.space);
          var y = height / 2 + Math.sin((startAngle + endAngle) / 2) * (height / 2 - labelConfig.space);

          var label = text[i] + "  " + labels[i].toString() +"%";
          var labelWidth = ctx.measureText(label).width;
          var icon = iconUnicodes[i];
          var iconWidth = ctx.measureText(icon).width;
          
          var contentWidth = labelWidth + iconWidth + labelConfig.labelPadding * 2; // Icon width + label width + padding
          var boxWidth = Math.max(contentWidth, 70); // Ensure a minimum box width

          var boxHeight = labelConfig.boxHeight;
          var borderRadius = labelConfig.borderRadius;

          // Set label color to match area color
          ctx.fillStyle = colors[i];

          // Calculate box position
          var boxX = x - boxWidth / 2;
          var boxY = y - boxHeight / 2;

          // Draw label box
          ctx.beginPath();
          ctx.moveTo(boxX + borderRadius, boxY);
          ctx.lineTo(boxX + boxWidth - borderRadius, boxY);
          ctx.quadraticCurveTo(boxX + boxWidth, boxY, boxX + boxWidth, boxY + borderRadius);
          ctx.lineTo(boxX + boxWidth, boxY + boxHeight - borderRadius);
          ctx.quadraticCurveTo(boxX + boxWidth, boxY + boxHeight, boxX + boxWidth - borderRadius, boxY + boxHeight);
          ctx.lineTo(boxX + borderRadius, boxY + boxHeight);
          ctx.quadraticCurveTo(boxX, boxY + boxHeight, boxX, boxY + boxHeight - borderRadius);
          ctx.lineTo(boxX, boxY + borderRadius);
          ctx.quadraticCurveTo(boxX, boxY, boxX + borderRadius, boxY);
          ctx.closePath();
          ctx.fillStyle = '#fff';
          ctx.strokeStyle = "#fff";
          ctx.lineWidth = 1;
          ctx.fill();
          ctx.stroke();

          // Draw icon
          ctx.font = '13px';
          ctx.fillStyle = '#9DAEC1';
          ctx.textAlign = 'center';
          ctx.textBaseline = 'middle';
          ctx.fillText(icon, x - (labelWidth + labelConfig.labelPadding) / 3, y);

          // Draw label text
          ctx.font = '15px';
          ctx.fillStyle = "black";
          ctx.fillText(label, x + (iconWidth + labelConfig.labelPadding) / 2, y);
          
          ctx.canvas.style.zIndex = 100;
          startAngle = endAngle;
        }

        ctx.save();
      }
    }]
    });
  }

```
```yaml filename="source"
View:
  body:
    Column:
      styles:
        gap: 16
        padding: 24
      children:
        - Button:
            label: Add Data
            onTap:
              executeCode:
                body: |
                  testLineChart.addLabels(['July','August','September']);
                  testLineChart.addData(0,[20,30,40]);
                  testLineChart.addData(1,[5,45,25]);
                  testLineChart.update();
        - ChartJs:
            id: testLineChart
            styles:
              width: ${device.width}
            config: |
              {
                type: 'line',
                data: {
                  labels: [
                    'January',
                    'February',
                    'March',
                    'April',
                    'May',
                    'June'
                  ],
                  datasets: [
                    {
                      label: 'My First dataset',
                      backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(255, 206, 86, 0.2)',
                        'rgba(75, 192, 192, 0.2)',
                        'rgba(153, 102, 255, 0.2)',
                        'rgba(255, 159, 64, 0.2)'
                      ],
                      borderColor: [
                        'rgba(255,99,132,1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)',
                        'rgba(255, 159, 64, 1)'
                      ],
                      borderWidth: 1,
                      data: [0, 10, 5, 2, 20, 45],
                      fill: 'start'
                    },{
                      label: 'My Second dataset',
                      backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(255, 206, 86, 0.2)',
                        'rgba(75, 192, 192, 0.2)',
                        'rgba(153, 102, 255, 0.2)',
                        'rgba(255, 159, 64, 0.2)'
                      ],
                      borderColor: [
                        'rgba(255,99,132,1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)',
                        'rgba(255, 159, 64, 1)'
                      ],
                      borderWidth: 1,
                      data: [5, 12, 7, 0, 18, 25],
                      fill: 'start'
                    }
                  ]
                },
                options: {
                  scales: {
                    x: {
                      ticks: {
                        maxRotation: 0,
                        minRotation: 0
                      }
                    }
                  },
                  plugins: {
                    filler: {
                      propagate: false,
                    }
                  },
                  interaction: {
                    intersect: false,
                  },
                  tension: 0.4
                }
              }

```
```javascript
myChart.setData(0, [60, 10, 20, 10]);
```
```javascript
myChart.addLabels(["January", "February", "March"]);
```
```javascript
myChart.addData(0, [10, 20, 30]);
```
```javascript
myChart.update();
```

---


# Checkbox widget

The Checkbox widget allows the rendering of checkbox input elements, enabling users to select or deselect options within your application for convenient and interactive data manipulation.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/21f43d9b-db21-40fe-9c2f-806267e6c412)

## Properties

| Property     | Type    | Description                                                                                                                                                                                              |
| :----------- | :------ | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id           | string  | ID to be referenced later                                                                                                                                                                                |
| maxWidth     | integer | The max width of this Input widget (default 700). while min vlaue can be `0` and maximum can be `5000`                                                                                                   |
| label        | string  | Label for your widget                                                                                                                                                                                    |
| labelHint    | string  | Hint text on your label                                                                                                                                                                                  |
| hintText     | string  | Hint text explaining your widget                                                                                                                                                                         |
| required     | boolean | Whether the field is required                                                                                                                                                                            |
| enabled      | boolean | Enables or disables the interactivity and input functionality of the widget                                                                                                                              |
| icon         | object  | [See properties](#icon)                                                                                                                                                                                  |
| onChange     | [action](/actions/directory.md)  | Call Ensemble's built-in functions or execute code when the input changes. Note for free-form text input, this event only dispatches if the text changes AND the focus is lost (e.g. clicking on button) |
| value        | boolean  | true if checkbox is checked else otherwise                                                                                                                                                                |
| autoComplete | boolean | Enable the Input search suggestion option                                                                                                                                                                |
| items        | array   | List of values, or Objects with value/label pairs                                                                                                                                                        |
| leadingText  | string  | Sets the text displayed before the checkbox                                                                                                                                                              |
| trailingText | string  | Sets the text displayed after the checkbox                                                                                                                                                               |

### Styles

#### Common Properties

| Property                  | Type              | Description                                                                                                                                                                                                                                                                                                                                   |
| :------------------------ | :---------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| variant                   | string            | Select a pre-defined look and feel for this Input widget. This property can be defined in the theme to apply to all Input widgets. [see properties](#options-for-stylesvariant)                                                                                                                                                               |

#### Stack Position Properties

| Property                  | Type              | Description                                                                                                                                                                                                                                                                                                                                   |
| :------------------------ | :---------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| stackPositionTop          | integer           | The distance of the child's top edge from the top of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                                 |
| stackPositionBottom       | integer           | The distance that the child's bottom edge from the bottom of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                         |
| stackPositionLeft         | integer           | The distance that the child's left edge from the left of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                             |
| stackPositionRight        | integer           | The distance that the child's right edge from the right of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                           |

#### Border Properties

| Property                  | Type              | Description                                                                                                                                                                                                                                                                                                                                   |
| :------------------------ | :---------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| errorBorderColor          | integer or string | The border color when there are errors on this input field. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. Possible values: transparent, black, blue, white, red, grey, teal, amber, pink, purple, yellow, green, brown, cyan, indigo, lime, orange                         |
| focusedBorderColor        | integer or string | The border color when this input field is receiving focus. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. Possible values: transparent, black, blue, white, red, grey, teal, amber, pink, purple, yellow, green, brown, cyan, indigo, lime, orange                          |
| focusedErrorBorderColor   | integer or string | The border color of this input field when it is receiving focus in its error state. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. Possible values: transparent, black, blue, white, red, grey, teal, amber, pink, purple, yellow, green, brown, cyan, indigo, lime, orange |
| disabledBorderColor       | integer or string | The border color when this input field is disabled. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. Possible values: transparent, black, blue, white, red, grey, teal, amber, pink, purple, yellow, green, brown, cyan, indigo, lime, orange                                 |
| fillColor                 | integer or string | The fill color for this input fields. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. Possible values: transparent, black, blue, white, red, grey, teal, amber, pink, purple, yellow, green, brown, cyan, indigo, lime, orange                                               |

#### Padding Properties

| Property                  | Type              | Description                                                                                                                                                                                                                                                                                                                                   |
| :------------------------ | :---------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| contentPadding            | integer or string | Padding around your input content with CSS-style notation, e.g., margin: 5 20 5.                                                                                                                                                                                                                                          |



### Box Styles (Inherited)
This widget also inherits these styles

---

# Column widget

Column is designed to arrange child widgets vertically, where the intrinsic sizes of child widgets dictate the layout's appearance.

## Best Practices

- If a single vertical scrollbar is needed for the entire screen, consider using `scrollableView: true` at the `View` level.
- If the entire screen's vertical space is used without a need for scrolling (or if the scrolling is inside some nested section), considered using FlexColumn](/widgets/flex-column.md) to fill the entire vertical space.
- Use Column to lay out the children vertically from top to bottom. Enable scrollable if the children might exceed the available space.
- **Avoid** using child widgets with no height constraint or sized itself to the parent inside the Column.
- **Avoid** using nested scrollable Column for better UX.

## Key Concepts
- **mainAxisSize**: By default the height of a Column is determined by its parent's height constraint (if available), otherwise it will be the combined height of its children. You may force the Column to do the later (size itself to the children's combined height) with `mainAxisSize=min`. Note that a Column does not pass a height constraint to its children, so a Column inside another Column will always size itself to its children. 
- **mainAxis**: This property controls the vertical alignment of the children within the Column. This property is useful only when the mainAxisSize is set to max (default) as there are available spaces to align the children.
- **crossAxis**: This property controls the horizontal alignment of the children within the Column.
- **scrollable**: Enable vertical scrolling when the child widgets grow wider than the available space.

## Caveats
- **Column width**: Note that setting a width for a Column acts more like a maximum width constraint. The Column determines its actual width based on the widest child, aligning the other children along the horizontal cross-axis according to this width. This means if this actual width is less than the specified width, the `crossAxis` only affects the alignment of the children within the determined (lesser) width.
If you wish to stretch all the children to the same specified width, add `crossAxis: stretch` in addition to the fixed width.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/90a8e4df-5eab-4473-ba10-2ecffc9596b0)

## Reference
#### Properties

| Property      | Type                                   | Description                                             |
| :------------ |:---------------------------------------|:--------------------------------------------------------|
| children      | [Widget[]](widgets/directory) | List of child widgets                                   |
| item-template | [ItemTemplate](#item-template)         | List of templated widgets, appearing after the children |
| styles        | object                                 | [See properties](#styles)                               |

#### item-template

| Property | Type   | Description                                                        |
| :------- | :----- | :----------------------------------------------------------------- |
| data     | string | Bind to an array of data from an API response or a variable        |
| name     | string | Set the name to reference as you iterate through the array of data |
| template | widget | The widget to render for each item                                 |

#### styles

| Property                     | Type                                                       | Description                                                                                                                                                                                                                                                                                                                       |
| :--------------------------- |:-----------------------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| mainAxisSize                 | integer                                                    | If 'max', stretch the Column to fill its parent's height. Otherwise (min) the column's height will be its children's combined. `min` `max`                                                                                                                                                                                        |
| mainAxis                     | string                                                     | Control our children's layout vertically. `start` `center` `end` `spaceBetween` `spaceAround` `spaceEvenly`                                                                                                                                                                                                                       |
| crossAxis                    | string                                                     | Control the horizontal alignment of the children. `start` `center` `end` `stretch` `baseline`                                                                                                                                                                                                                                     |
| fontSize                     | integer                                                    | Sets the size of the text.                                                                                                                                                                                                                                                                                                        |
| fontFamily                   | string                                                     | Set the font family applicable for all widgets inside this container, see the list of all available font families [here](https://github.com/material-foundation/flutter-packages/blob/main/packages/google_fonts/generator/families_supported).                                                                                   |
| gap                          | integer                                                    | The gap between the children in the main direction                                                                                                                                                                                                                                                                                |
| scrollable                   | boolean                                                    | Set to true so content can scroll vertically as needed                                                                                                                                                                                                                                                                            |
| autoFit                      | boolean                                                    | Explicitly make the column's width as wide as the largest child, but only if our column's parent does not already assign a width. This attribute is useful for sizing children who don't have a width (e.g Divider)                                                                                                               |
| borderRadius                 | string or integer                                          | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                             |
| borderColor                  | [Color](/widgets/types#Color)                     | Sets the border color, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                           |
| borderWidth                  | integer                                                    | Thickness of the border. Minimum value should be 0.                                                                                                                                                                                                                                                                               |
| shadowColor                  | integer or string                                          | Sets the box shadow color starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                        |
| shadowOffset                 | array                                                      | The values in array define the horizontal and vertical offset of the shadow. Example: if the shadowOffset is set to [2, 4], the shadow will be offset by 2 pixels horizontally and 4 pixels vertically from its original position.                                                                                                |
| shadowRadius                 | string or integer                                          | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                             |
| shadowStyle                  | string                                                     | The blur style to apply on the shadow `normal`, `solid`, `outer`, `inner`                                                                                                                                                                                                                                                         |
| stackPositionTop             | integer                                                    | The distance of the child's top edge from the top of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                     |
| stackPositionBottom          | integer                                                    | The distance that the child's bottom edge from the bottom of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                             |
| stackPositionLeft            | integer                                                    | The distance that the child's left edge from the left of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                 |
| stackPositionRight           | integer                                                    | The distance that the child's right edge from the right of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                               |
| captureWebPointer            | boolean                                                    | Applicable for Web only. When overlaying widgets on top of certain HTML container (e.g. Maps), the mouse click is captured by the HTML container, causing issue interacting with the widget. Use this to capture and maintain the mouse pointer on your widget.                                                                   |
| margin                       | string or integer                                          | Margin with CSS-style notation                                                                                                                                                                                                                                                                                                    |
| padding                      | string or integer                                          | Padding with CSS-style value                                                                                                                                                                                                                                                                                                      |
| width                        | integer                                                    | The width property determines the horizontal size of an element, allowing control over its width dimension within the layout.                                                                                                                                                                                                     |
| height                       | integer                                                    | The height property determines the vertical size of an element, allowing control over its height dimension within the layout.                                                                                                                                                                                                     |
| backgroundImage              | [BackgroundImage](/widgets/types#BackgroundImage) | Background image of the box.                                                                                                                                                                                                                                                                                                      |
| backgroundGradient           | [Gradient](/widgets/types#Gradient)                                                      | Background gradient of the box                                                                                                                                                                                                                                                                                                    |
| backgroundColor              | [Color](/widgets/types#Color)                     | Background color of the box. which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`        |
| expanded                     | boolean                                                    | If the parent is a Row or Column, this flag will stretch this widget in the appropriate direction. (e.g. stretch horizontally for parent of type Row)                                                                                                                                                                             |
| visibilityTransitionDuration | number                                                     | Specify the duration in seconds when a widget animates between visible and not visible state. Note that setting this value will cause the widget to still occupy the UI space even when it is not visible.                                                                                                                        |
| elevation                    | integer                                                    | The z-coordinate at which to place this material relative to its parent. A non-zero value will show a shadow, with its size relative to the elevation value. Minimum value: 0, Maximum value: 24                                                                                                                                  |
| elevationShadowColor         | [Color](/widgets/types#Color)                     | The shadow color for the elevation, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| elevationBorderRadius        | string or integer                                          | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                             |
| alignment                    | string                                                     | The alignment of the widget relative to its parent. `topLeft`, `topCenter`, `topRight`, `centerLeft`, `center`, `centerRight`, `bottomLeft`, `bottomCenter`, `bottomRight`                                                                                                                                                        |
| visible                      | boolean                                                    | Toggle a widget visibility on/off. Note that an invisible widget will not occupy UI space, unless the visibilityTransitionDuration is specified.                                                                                                                                                                                  |
| opacity                      | double                                        | Adjusts the opacity of the widget. Values range from 0 (fully transparent) to 1 (opaque). Default is `1`.                                                                                                                 |
| enableSplashFeedback                      | boolean                                                    | Toggles splash effect feedback for the widget when        `true`.                                                                                                            |
| splashColor                      | string                                                    | Defines the color of the splash effect when `enableSplashFeedback` is true.                                                                                                                                                         |
| splashDuration                      | integer                                                    | This is the duration it takes to fill the widget surface with the splashColor.The duration in ms when tap and release on the widget.                                                                                                                                                         |
| splashFadeDuration                      | integer                                                    | The duration it takes to fade out once tapped. Since a typical tap starts and ends immdiately, this splashFadeDuration executes almost at the same time as the splashDuration, so ideally it should be equal or longer than splashDuration to see the entire effect.                                                                                                                                                         |
| unconfirmedSplashDuration                      | integer                                                    | This happens when the user tap and hold (not yet released). It is called unconfirmed since the tap will be cancelled if the user moves out of the tap area and release. Usually this should be longer (around 1 secs) to signify that the user has not confirmed the tap.                                                                                                                                                         |

---

# Conditional widget

Conditional widget allows developers to conditionally render UI elements based on specified conditions, enhancing dynamic content display and personalized user experiences within the app.

### Properties

| Property   | Type  | Description                                                                                  |
| ---------- | ----- | -------------------------------------------------------------------------------------------- |
| conditions | array | Allow users to conditionally render their widgets using `if`, `elseif` and `else` statements |

**Example**
Conditional widget is very useful specially when making a custom widget where users might want to have a default value and an optional value. Let us take an example for its use case

Consider that you are trying to make a custom widget or Button for dealing with social logins, since there are more than on platforms like Meta, Google, Apple etc so choosing an image based on `provider` variable is a viable choice. But how can we check if `provider` is apple or google etc ?

#### Steps

- First of all declare the base custom widget yaml code. Then use `Conditional` to render `Image` widget accordingly.

**Code**

```yaml
Widget:
  inputs:
    - provider
    - label
  onLoad: |
    //@code

    console.log(provider);
    console.log(label);

    function capitalizeString(str) {
      return str.charAt(0).toUpperCase() + str.substring(1) ;
    }

    if (label.length > 0 )
      providerText.text = label;
    else
      providerText.text = "Sign In With " + capitalizeString(provider);

  body:
    Stack:
      styles:
        alignChildren: centerLeft
      children:
        - Conditional:
            conditions:
              - if: ${provider === 'apple' || provider === 'Apple' }
                Image:
                  source: https://firebasestorage.googleapis.com/v0/b/ensemble-web-studio.appspot.com/o/custom_widgets_assets%2Fsocial_login%2Fapple.png?alt=media&token=893491f0-5300-4b29-8fce-30fe98eaec76
                  styles:
                    height: 24
                    width: 24
                    padding: 0 24
              - elseif: ${provider === 'google' || provider === 'Google' }
                Image:
                  source: https://firebasestorage.googleapis.com/v0/b/ensemble-web-studio.appspot.com/o/custom_widgets_assets%2Fsocial_login%2Fgoogle.png?alt=media&token=c91b1a27-a0bd-40c2-b82d-0f250762bc0b
                  styles:
                    height: 24
                    width: 24
                    padding: 0 24

        - Row:
            id: rowId
            styles:
              borderColor: 0xFFDEDED4
              crossAxis: center
              mainAxis: center
              borderRadius: 8
              height: 50
            children:
              - Text:
                  id: providerText
                  styles:
                    textStyle:
                      fontSize: 12
```

---

# ConfirmationInput widget

The ConfirmationInput Widget enables the seamless rendering of a verification view. The usecases are entering OTP, Confirmation Code, PIN Number, Reset Password, Coupon and more.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/iCOvav6CcioH46LR6wYF)

## Properties

| Property                      | Type    | Description                                                                                     |
| :---------------              | :------ | :---------------------------------------------------------------------------------------------- |
| length                        | integer | The number of the text fields item.                                                             |
| enableCursor                  | boolean | If the button is inside a Form and upon on tap, it will execute the form's onSubmit action if this property is TRUE.                                                           |
| autoComplete                  | boolean | If it is True, then it will trigger onComplete when the user specified length and has typed the full length, False will trigger onComplete when the user hit Enter. Defaults (True).                                                                                                   |
| fieldType                     | string  | How the input field should be displayed.                                                        |
| inputType                     | string  | Pick a predefined input type.                                                                   |
| obscureText                   | boolean  | To display the pin as obscure. Default is `false`                             |
| obscureSymbol                 | string/Icon  | To display in place of pin as obscure if `obscureText` is `true`, it can be a character of length `1` or a `icon` widget. Default is `*`                                                              |
| defaultFieldBorderColor       | string  | Set the border color for inactive/unfocused state of text field.                                |
| activeFieldBorderColor        | string  | Set the border color for active/focused state of text field.                                    |
| filledFieldBorderColor        | string  | Set the border color for filled state of text field.                                            |
| defaultFieldBackgroundColor   | string  | Set the background Color for inactive/unfocused state of text field.                            |
| activeFieldBackgroundColor    | string  | Set the ackground Color for active/focused state of text field.                                 |
| filledFieldBackgroundColor    | string  | Set the ackground Color for filled field state of text field.                                   |
| cursorColor                   | string  | Set the color for the cursor.                                                                   |
| styles                        | object  | [See properties](#styles)                                                                       |
| onChange                      | action  | Execute an action when a change is detected to the text field                                   |
| onComplete                    | action  | Execute an action when the text field fully entered or when keyboard submitted button tapped    |
| autofillEnabled         | boolean                                        | Enables or disables the autofill functionality for the input field. Default is `false`.                                                                                                                                                                                                                           |

---

# DataGrid widget

The DataGrid Widget enables the seamless rendering of data grids, facilitating the organized display and manipulation of tabular data within your application for effective data representation and interaction.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/c5940e18-f2c1-4318-8e68-a678a6ae7247)

## Properties

| Property         | Type    | Description                                                                          |
| :--------------- | :------ | :----------------------------------------------------------------------------------- |
| item-template    | object  | [See properties](#item-template)                                                     |
| children         | array   | List of Data Row widgets.                                                            |
| styles           | object  | [See properties](#styles)                                                            |
| horizontalMargin | integer | The leading and trailing gap for the DataGrid view.                                  |
| dataRowHeight    | integer | Set the height of the data row item.                                                 |
| headingRowHeight | integer | Set the height of the heading row item.                                              |
| columnSpacing    | number  | Set the padding for the column.                                                      |
| dividerThickness | integer | Determines the thickness or width of dividers in the DataGrid widget.                |
| DataColumns      | array   | List of data columns                                                                 |
| sorting          | object  | Sort the data columns in ascending or descending order. [See properties](#styles)    | 
| thumbThickness   | double  | Set thickness of scrollbar. Default value is `10.0`.                                  |
| scrollbarBehaviour| enum   | Scrollbar behaviour `static` or `fade` when grid is not intereacted with. Default is `fade`. |

### sorting

| Property         | Type   | Description                                                                                                                                          |
| :--------------- | :----- | :--------------------------------------------------------------------------------------------------------------------------------------------------- |
| columnIndex      | String | The index of the data column to be sorted                                                                                                                    |
| order            | String | Set the data column sorting either in `ascending` or `descending` order    

### item-template

| Property | Type   | Description                                                        |
| :------- | :----- | :----------------------------------------------------------------- |
| data     | string | Bind to an array of data from an API response or a variable        |
| name     | string | Set the name to reference as you iterate through the array of data |
| template | array  | The data row widget to render for each item                        |

### styles

| Property                     | Type              | Description                                                                                                                                                                                                                                                                                                                       |
| :--------------------------- | :---------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| expanded                     | boolean           | If the parent is a Row or Column, this flag will stretch this widget in the appropriate direction. (e.g stretch horizontally for parent of type Row)                                                                                                                                                                              |
| borderRadius                 | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                             |
| borderColor                  | integer or string | Sets the border color, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                           |
| borderWidth                  | integer           | Thickness of the border. Minimum value should be 0.                                                                                                                                                                                                                                                                               |
| shadowColor                  | integer or string | Sets the box shadow color starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                        |
| shadowOffset                 | array             | The values in array define the horizontal and vertical offset of the shadow. Example: if the shadowOffset is set to [2, 4], the shadow will be offset by 2 pixels horizontally and 4 pixels vertically from its original position.                                                                                                |
| shadowStyle                  | string            | The blur style to apply on the shadow `normal`, `solid`, `outer`, `inner`                                                                                                                                                                                                                                                         |
| stackPositionTop             | integer           | The distance of the child's top edge from the top of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                     |
| stackPositionBottom          | integer           | The distance that the child's bottom edge from the bottom of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                             |
| stackPositionLeft            | integer           | The distance that the child's left edge from the left of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                 |
| stackPositionRight           | integer           | The distance that the child's right edge from the right of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                               |
| backgroundImage              | object            | Background image of the box. [see properties](#stylesbackgroundImage)                                                                                                                                                                                                                                                             |
| backgroundGradient           | object            | Background gradient of the box [see properties ](#stylesbackgroundGradient)                                                                                                                                                                                                                                                       |
| backgroundColor              | integer or string | Background color of the box. which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`        |
| alignment                    | string            | The alignment of the widget relative to its parent. `topLeft`, `topCenter`, `topRight`, `centerLeft`, `center`, `centerRight`, `bottomLeft`, `bottomCenter`, `bottomRight`                                                                                                                                                        |
| visible                      | boolean           | Toggle a widget visibility on/off. Note that an invisible widget will not occupy UI space, unless the visibilityTransitionDuration is specified.                                                                                                                                                                                  |
| visibilityTransitionDuration | number            | Specify the duration in seconds when a widget animates between visible and not visible state. Note that setting this value will cause the widget to still occupy the UI space even when it is not visible.                                                                                                                        |
| opacity                      | double                                        | Adjusts the opacity of the widget. Values range from 0 (fully transparent) to 1 (opaque). Default is `1`.                                                                                                                 |
| elevation                    | integer           | The z-coordinate at which to place this material relative to its parent. A non-zero value will show a shadow, with its size relative to the elevation value. Minimum value: 0, Maximum value: 24                                                                                                                                  |
| elevationShadowColor         | integer or string | The shadow color for the elevation, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| elevationBorderRadius        | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                             |
| margin                       | string or integer | Margin with CSS-style notation                                                                                                                                                                                                                                                                                                    |
| padding                      | string or integer | Padding with CSS-style value                                                                                                                                                                                                                                                                                                      |
| width                        | integer           | The width property determines the horizontal size of an element, allowing control over its width dimension within the layout.                                                                                                                                                                                                     |
| height                       | integer           | The height property determines the vertical size of an element, allowing control over its height dimension within the layout.                                                                                                                                                                                                     |
| captureWebPointer            | boolean           | Applicable for Web only. When overlaying widgets on top of certain HTML container (e.g. Maps), the mouse click is captured by the HTML container, causing issue interacting with the widget. Use this to capture and maintain the mouse pointer on your widget.                                                                   |
| headingText                  | object            | Set the text style for the heading text.[see properties](#headingtext)                                                                                                                                                                                                                                                            |
| dataText                     | object            | Set the text style for the data item text. [see properties](#headingtext)                                                                                                                                                                                                                                                         |

### styles.backgroundGradient

| Property | Type   | Description                                                                                                                                                                                    |
| :------- | :----- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| colors   | array  | The list of colors used for the gradient. Colors can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. |
| start    | string | The starting position of the gradient                                                                                                                                                          |
| end      | string | The ending position of the gradient                                                                                                                                                            |

### styles.backgroundImage

| Property  | Type   | Description                                                                                                                                        |
| :-------- | :----- | :------------------------------------------------------------------------------------------------------------------------------------------------- |
| source    | string | The Image URL to fill the background                                                                                                               |
| fit       | string | How to fit the image within our width/height or our parent (if dimension is not specified) . [see options](#fit-options-for-stylesbackgroundimage) |
| alignment | string | Alignment of the background image                                                                                                                  |

#### Fit options for styles.backgroundImage

| Option    | Description                                                                                         |
| :-------- | :-------------------------------------------------------------------------------------------------- |
| fill      | Stretch our image to fill the dimension, and distorting the aspect ratio if needed                  |
| contain   | Scale the image such that the entire image is contained within our dimension                        |
| cover     | Scale the image to fill our dimension, clipping the image as needed                                 |
| fitWidth  | Scale the image to fit the width, and clipping the height if needed                                 |
| fitHeight | Scale the image to fit the height, and clipping the width if needed                                 |
| none      | Center-Align the original image size, clipping the content if needed                                |
| scaleDown | Center-Align the image and only scale down to fit. Image will not be scaled up to bigger dimension. |

#### styles.headingText

| Property   | Type              | Description                                                                                                                                                                                                                                                                                                                         |
| :--------- | :---------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| fontSize   | integer           | Sets the size of the text.                                                                                                                                                                                                                                                                                                          |
| color      | integer or string | The color specification for the text, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| decoration | string            | A linear decoration to draw near the text. `none` `lineThrough` `underline` `overline`                                                                                                                                                                                                                                              |
| font       | string            | Default built-in style for this text. `heading` `title` `subtitle`                                                                                                                                                                                                                                                                  |
| fontWeight | string            | The thickness of the glyphs used to draw the text. `light` `normal` `bold` `w100` `w200` `w300` `w400` `w500` `w600` `w700` ` w800``w900 `                                                                                                                                                                                          |
| lineHeight | string or integer | The line height of the text, which determines the vertical spacing between lines. It can be specified as, a number, or a string chosen from a set of predefined values: `default` `1.0` `1.15` `1.25` `1.5` `2.0` `2.5`                                                                                                             |
| textStyle  | string            | A linear decoration to draw near the text or whether to slant the glyphs in font. `normal` `italic` `underline` `strikethrough` `italic_underline` `italic_strikethrough`                                                                                                                                                           |                                                                                                                       |

---

# Date widget

The Date Widget facilitates the rendering of date input fields, providing a user-friendly interface for selecting and displaying dates within your application for date-related functionality.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/e7zOy8oX5dxQU7kD5IO4)

## Properties

| Property         | Type    | Description                                                                                                                                                                                              |
| :--------------- | :------ | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id               | string  | ID to be referenced later                                                                                                                                                                                |
| maxWidth         | integer | The max width of this Input widget (default 700)                                                                                                                                                         |
| label            | string  | Label for your widget                                                                                                                                                                                    |
| labelHint        | string  | Hint text on your label                                                                                                                                                                                  |
| hintText         | string  | Hint text explaining your widget                                                                                                                                                                         |
| required         | boolean | Whether the field is required                                                                                                                                                                            |
| enabled          | boolean | Enables or disables the interactivity and input functionality of the widget                                                                                                                              |
| icon             | object  | [See properties](#icon)                                                                                                                                                                                  |
| onChange         | action  | Call Ensemble's built-in functions or execute code when the input changes. Note for free-form text input, this event only dispatches if the text changes AND the focus is lost (e.g. clicking on button) |
| styles           | object  | [See properties](#styles)                                                                                                                                                                                |
| initialValue     | string  | The highlighted initial date in the calendar picker (default is Today). Use format YYYY-MM-DD.                                                                                                           |
| firstDate        | string  | The first selectable date in the calendar. Use format YYYY-MM-DD                                                                                                                                         |
| lastDate         | string  | The last selectable date in the calendar. Use format YYYY-MM-DD                                                                                                                                          |
| showCalendarIcon | boolean | Whether we should show (default) or hide the calendar icon. Selecting the text will still open the calendar picker                                                                                       |

### icon

| Property | Type              | Description                                                                                                                                                                                                                                                                                                                         |
| :------- | :---------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| name     | string            | The name of the icon                                                                                                                                                                                                                                                                                                                |
| library  | string            | Which icon library to use.                                                                                                                                                                                                                                                                                                          |
| color    | integer or string | The color specification for the text, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| size     | integer           | Defines the dimensions or magnitude of an element, allowing control over its overall size within the layout.                                                                                                                                                                                                                        |

### styles

| Property                     | Type              | Description                                                                                                                                                                                                                                                                                                                                   |
| :--------------------------- | :---------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| expanded                     | boolean           | If the parent is a Row or Column, this flag will stretch this widget in the appropriate direction. (e.g stretch horizontally for parent of type Row)                                                                                                                                                                                          |
| variant                      | string            | Select a pre-defined look and feel for this Input widget. This property can be defined in the theme to apply to all Input widgets.                                                                                                                                                                                                            |
| contentPadding               | integer or string | Padding around your input content with CSS-style notation e.g. margin: 5 20 5                                                                                                                                                                                                                                                                 |
| fillColor                    | integer or string | The fill color for this input fields. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                               |
| borderRadius                 | integer           | The border radius for this Input widget. This property can be defined in the theme to apply to all Input widgets.                                                                                                                                                                                                                             |
| borderWidth                  | integer           | The border width for this Input widget. This property can be defined in the theme to apply to all Input widgets.                                                                                                                                                                                                                              |
| borderColor                  | integer or string | Sets the border color, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                                       |
| errorBorderColor             | integer or string | The border color when there are errors on this input field. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                         |
| focusedBorderColor           | integer or string | The border color when this input field is receiving focus. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                          |
| focusedErrorBorderColor      | integer or string | The border color of this input field when it is receiving focus in its error state. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| disabledBorderColor          | integer or string | The border color when this input field is disabled. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                 |
| variant                      | string            | Select a pre-defined look and feel for this Input widget. This property can be defined in the theme to apply to all Input widgets. [see properties](#options-for-stylesvariant)                                                                                                                                                               |
| visible                      | boolean           | Toggle a widget visibility on/off. Note that an invisible widget will not occupy UI space, unless the visibilityTransitionDuration is specified.                                                                                                                                                                                              |
| visibilityTransitionDuration | number            | Specify the duration in seconds when a widget animates between visible and not visible state. Note that setting this value will cause the widget to still occupy the UI space even when it is not visible.                                                                                                                                    |
| opacity                      | double                                        | Adjusts the opacity of the widget. Values range from 0 (fully transparent) to 1 (opaque). Default is `1`.                                                                                                                 |
| stackPositionTop             | integer           | The distance of the child's top edge from the top of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                                 |
| stackPositionBottom          | integer           | The distance that the child's bottom edge from the bottom of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                         |
| stackPositionLeft            | integer           | The distance that the child's left edge from the left of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                             |
| stackPositionRight           | integer           | The distance that the child's right edge from the right of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                           |
| alignment                    | string            | The alignment of the widget relative to its parent. `topLeft`, `topCenter`, `topRight`, `centerLeft`, `center`, `centerRight`, `bottomLeft`, `bottomCenter`, `bottomRight`                                                                                                                                                                    |
| elevation                    | integer           | The z-coordinate at which to place this material relative to its parent. A non-zero value will show a shadow, with its size relative to the elevation value. Minimum value: 0, Maximum value: 24                                                                                                                                              |
| elevationShadowColor         | integer or string | The shadow color for the elevation, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`             |
| elevationBorderRadius        | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                                         |
| captureWebPointer            | boolean           | Applicable for Web only. When overlaying widgets on top of certain HTML container (e.g. Maps), the mouse click is captured by the HTML container, causing issue interacting with the widget. Use this to capture and maintain the mouse pointer on your widget.                                                                               |

#### options for styles.variant

| Option    | Description                                                                                                          |
| :-------- | :------------------------------------------------------------------------------------------------------------------- |
| box       | draw a Box border around this input widget. This property can be defined in the theme to apply to all Input widgets. |
| underline | draw an Underline below this input widget. This property can be defined in the theme to apply to all Input widgets.  |

---


# Divider

The Divider Widget is a simple, horizontal or vertical line that separates content visually within your application's layout. It is primarily used to create a clear distinction between different sections or components, improving the overall readability and organization of the interface. Common use cases include separating items in lists, forms, or between groups of content in both web and mobile applications.

Below is a preview of the Divider in action:

---

# DropDown widget

The DropDown Widget enables the rendering of dropdown menus, providing users with a selectable list of options within your application for intuitive and efficient data selection.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/fb8d28a2-834e-40a9-8419-155272fb0191)

## Properties

| Property     | Type                                           | Description                                                                                                                                                                                              |
|:-------------|:-----------------------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| id           | string                                         | ID to be referenced later                                                                                                                                                                                |
| maxWidth     | integer                                        | The max width of this Input widget (default 700). while min vlaue can be `0` and maximum can be `5000`                                                                                                   |
| label        | string                                         | Label for your widget                                                                                                                                                                                    |
| labelHint    | string                                         | Hint text on your label                                                                                                                                                                                  |
| labelStyle   | [TextStyle](/widgets/types#TextStyle) | Styling for the label                                                                                                                                                                                    |
| hintText     | string                                         | Hint text explaining your widget                                                                                                                                                                         |
| required     | boolean                                        | Whether the field is required                                                                                                                                                                            |
| enabled      | boolean                                        | Enables or disables the interactivity and input functionality of the widget                                                                                                                              |
| icon         | object                                         | [See properties](#icon)                                                                                                                                                                                  |
| onChange     | action                                         | Call Ensemble's built-in functions or execute code when the input changes. Note for free-form text input, this event only dispatches if the text changes AND the focus is lost (e.g. clicking on button) |
| value        | string                                         | Specifying the value of your Text Input                                                                                                                                                                  |
| autoComplete | boolean                                        | Enable the Input search suggestion option                                                                                                                                                                |
| items        | array                                          | List of values, or Objects with value/label pairs                                                                                                                                                        |
| itemTemplate | [ItemTemplate](#ItemTemplate)                  | Use this to iterate through a data array and render each dropdown item, as well as specify the selected item's value                                                                                     |

### ItemTemplate
| Property | Type    | Description                                                                                                                           |
|:---------|:--------|:--------------------------------------------------------------------------------------------------------------------------------------|
| data     | array   | Specify an array of data (or an expression that resolves to an array).<br/>The system will iterate through each item in this array    |
| name     | string  | As the system iterate through the data, you can reference each item's data using this name                                            |
| template | Widget  | The widget to be rendered for each dropdown item in the data array. The widget can reference the data using the name specified above. |
| value    | string  | Specify the expression to evaluate as each item's value. This will be the value when a dropdown item is selected.                     |

## Styles

| Property                     | Type              | Description                                                                                                                                                                                                                                                                                                                                   |
| :--------------------------- | :---------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| variant                      | string            | Select a pre-defined look and feel for this Input widget. This property can be defined in the theme to apply to all Input widgets. [see properties](#options-for-stylesvariant)                                                                                                                                                               |
| visible                      | boolean           | Toggle a widget visibility on/off. Note that an invisible widget will not occupy UI space, unless the visibilityTransitionDuration is specified.                                                                                                                                                                                              |
| visibilityTransitionDuration | number            | Specify the duration in seconds when a widget animates between visible and not visible state. Note that setting this value will cause the widget to still occupy the UI space even when it is not visible.                                                                                                                                    |
| opacity                      | double                                        | Adjusts the opacity of the widget. Values range from 0 (fully transparent) to 1 (opaque). Default is `1`.                                                                                                                 |
| stackPositionTop             | integer           | The distance of the child's top edge from the top of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                                 |
| stackPositionBottom          | integer           | The distance that the child's bottom edge from the bottom of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                         |
| stackPositionLeft            | integer           | The distance that the child's left edge from the left of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                             |
| stackPositionRight           | integer           | The distance that the child's right edge from the right of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                           |
| errorBorderColor             | integer or string | The border color when there are errors on this input field. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                         |
| focusedBorderColor           | integer or string | The border color when this input field is receiving focus. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                          |
| focusedErrorBorderColor      | integer or string | The border color of this input field when it is receiving focus in its error state. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| disabledBorderColor          | integer or string | The border color when this input field is disabled. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                 |
| fillColor                    | integer or string | The fill color for this input fields. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                               |
| elevation                    | integer           | The z-coordinate at which to place this material relative to its parent. A non-zero value will show a shadow, with its size relative to the elevation value. Minimum value: 0, Maximum value: 24                                                                                                                                              |
| elevationShadowColor         | integer or string | The shadow color for the elevation, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`             |
| elevationBorderRadius        | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                                         |
| expanded                     | boolean           | If the parent is a Row or Column, this flag will stretch this widget in the appropriate direction. (e.g stretch horizontally for parent of type Row)                                                                                                                                                                                          |
| contentPadding               | integer or string | Padding around your input content with CSS-style notation e.g. margin: 5 20 5                                                                                                                                                                                                                                                                 |
| captureWebPointer            | boolean           | Applicable for Web only. When overlaying widgets on top of certain HTML container (e.g. Maps), the mouse click is captured by the HTML container, causing issue interacting with the widget. Use this to capture and maintain the mouse pointer on your widget.                                                                               |
| alignment                    | string            | The alignment of the widget relative to its parent. `topLeft`, `topCenter`, `topRight`, `centerLeft`, `center`, `centerRight`, `bottomLeft`, `bottomCenter`, `bottomRight`                                                                                                                                                                    |
| borderRadius                 | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                                         |
| borderColor                  | integer or string | Sets the border color, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                                       |
| borderWidth                  | integer           | Thickness of the border. Minimum value should be 0.                                                                                                                                                                                                                                                                                           |
| expanded                     | boolean           | If the parent is a Row or Column, this flag will stretch this widget in the appropriate direction. (e.g stretch horizontally for parent of type Row)                                                                                                                                                                                          |
| textStyle   | [TextStyle](/widgets/types#TextStyle) | Styling for the selected text |
| dropdownBackgroundColor | integer or string | Sets the background color of the panel with the list of options that appears when the dropdown is open, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| dropdownOffsetX | integer | X-axis offset from the dropdown field of the panel with the list of options that appears when the dropdown or autocomplete is open |
| dropdownOffsetY | integer | Y-axis offset from the dropdown field of the panel with the list of options that appears when the dropdown or autocomplete is open |
| dropdownBorderRadius | integer | Border radius of the panel with the list of options that appears when the dropdown or autocomplete is open |
| dropdownBorderColor | integer or string | Border color of the panel with the list of options that appears when the dropdown or autocomplete is open |
| dropdownBorderWidth | integer | Border width of the panel with the list of options that appears when the dropdown or autocomplete is open |
| dropdownMaxHeight | integer | Maximum height of the panel with the list of options that appears when the dropdown or autocomplete is open |

### icon

| Property | Type              | Description                                                                                                                                                                                                                                                                                                                         |
| :------- | :---------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| name     | string            | The name of the icon                                                                                                                                                                                                                                                                                                                |
| library  | string            | Which icon library to use.                                                                                                                                                                                                                                                                                                          |
| color    | integer or string | The color specification for the text, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| size     | integer           | Defines the dimensions or magnitude of an element, allowing control over its overall size within the layout.                                                                                                                                                                                                                        |

---

# FittedColumn (deprecated)
This widget is deprecated. Please use [FlexColumn](/widgets/flex-column.md) instead.

Stretch to fit the parent (the parent is required to have a predetermined height), then distribute the vertical spaces evenly among its children. You can override the space distribution via 'childrenFits' attribute.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/hRFxxoaBePQaLfmoBiIb)

## Properties

| Property | Type   | Description                                        |
| :------- | :----- | :------------------------------------------------- |
| children | array  | List of widgets                                    |
| onTap    | action | Call Ensemble's built-in functions or execute code |
| styles   | object | [See properties](#styles)                          |

### styles

| Property                     | Type              | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| :--------------------------- | :---------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| childrenFits                 | array             | Specify array of numbers to set how space is distributed among the children. Use `auto` instead of a number in order to have the child widget determin its own width.                                                                                                                                                                                                                                                                                                                                                               |
| mainAxis                     | string            | Control our children's layout vertically. `start` `center` `end` `spaceBetween` `spaceAround` `spaceEvenly`                                                                                                                                                                                                                                                                                                                                                                                                                         |
| fontSize                     | integer           | Sets the size of the text.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| fontFamily                   | string or object       | Set the font family applicable for all widgets inside this container, see the list of all available font families [here](https://github.com/material-foundation/flutter-packages/blob/main/packages/google_fonts/generator/families_supported). You can specify the fontFamily name directly or specify a different fontFamily for each language, see [Here](../translations.mdx#optionally-configure-different-fontfamily-for-each-language-your-app-supports)                                                                                                                                                                                                                                                                                  |
| gap                          | integer           | The gap between the children in the main direction                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| crossAxis                    | string            | Control the horizontal alignment of the children. `start` `center` `end` `stretch` `baseline`                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| borderRadius                 | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                                                                                                                                                                                                                               |
| borderColor                  | integer or string | Sets the border color, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                                                                                                                                                                                                                             |
| borderWidth                  | integer           | Thickness of the border. Minimum value should be 0.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| shadowColor                  | integer or string | Sets the box shadow color starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                                                                                                                                                                                                                          |
| shadowOffset                 | array             | The values in array define the horizontal and vertical offset of the shadow. Example: if the shadowOffset is set to [2, 4], the shadow will be offset by 2 pixels horizontally and 4 pixels vertically from its original position.                                                                                                                                                                                                                                                                                                  |
| shadowRadius                 | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                                                                                                                                                                                                                               |
| shadowStyle                  | string            | The blur style to apply on the shadow `normal`, `solid`, `outer`, `inner`                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| stackPositionTop             | integer           | The distance of the child's top edge from the top of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                                                                                                                                                                                                                       |
| stackPositionBottom          | integer           | The distance that the child's bottom edge from the bottom of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                                                                                                                                                                                                               |
| stackPositionLeft            | integer           | The distance that the child's left edge from the left of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                                                                                                                                                                                                                   |
| stackPositionRight           | integer           | The distance that the child's right edge from the right of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                                                                                                                                                                                                                 |
| captureWebPointer            | boolean           | Applicable for Web only. When overlaying widgets on top of certain HTML container (e.g. Maps), the mouse click is captured by the HTML container, causing issue interacting with the widget. Use this to capture and maintain the mouse pointer on your widget.                                                                                                                                                                                                                                                                     |
| margin                       | string or integer | Margin with CSS-style notation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| padding                      | string or integer | Padding with CSS-style value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| width                        | integer           | The width property determines the horizontal size of an element, allowing control over its width dimension within the layout.                                                                                                                                                                                                                                                                                                                                                                                                       |
| height                       | integer           | The height property determines the vertical size of an element, allowing control over its height dimension within the layout.                                                                                                                                                                                                                                                                                                                                                                                                       |
| backgroundImage              | object            | Background image of the box. [see properties](#stylesbackgroundImage)                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| backgroundGradient           | object            | Background gradient of the box [see properties ](#stylesbackgroundGradient)                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| backgroundColor              | integer or string | Background color of the box. which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                                                                                                          |
| expanded                     | boolean           | If the parent is a Row or Column, this flag will stretch this widget in the appropriate direction. (e.g. stretch horizontally for parent of type Row)                                                                                                                                                                                                                                                                                                                                                                               |
| visibilityTransitionDuration | number            | Specify the duration in seconds when a widget animates between visible and not visible state. Note that setting this value will cause the widget to still occupy the UI space even when it is not visible.                                                                                                                                                                                                                                                                                                                          |
| opacity                      | double                                        | Adjusts the opacity of the widget. Values range from 0 (fully transparent) to 1 (opaque). Default is `1`.                                                                                                                 |
| elevation                    | integer           | The z-coordinate at which to place this material relative to its parent. A non-zero value will show a shadow, with its size relative to the elevation value. Minimum value: 0, Maximum value: 24                                                                                                                                                                                                                                                                                                                                    |
| elevationShadowColor         | integer or string | The shadow color for the elevation, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                                                                                                   |
| elevationBorderRadius        | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                                                                                                                                                                                                                               |
| alignment                    | string            | The alignment of the widget relative to its parent. `topLeft`, `topCenter`, `topRight`, `centerLeft`, `center`, `centerRight`, `bottomLeft`, `bottomCenter`, `bottomRight`                                                                                                                                                                                                                                                                                                                                                          |
| visible                      | boolean           | Toggle a widget visibility on/off. Note that an invisible widget will not occupy UI space, unless the visibilityTransitionDuration is specified.                                                                                                                                                                                                                                                                                                                                                                                    |
| enableSplashFeedback                      | boolean                                                    | Toggles splash effect feedback for the widget when        `true`.                                                                                                            |
| splashColor                      | string                                                    | Defines the color of the splash effect when `enableSplashFeedback` is true.                                                                                                                                                         |
| splashDuration                      | integer                                                    | This is the duration it takes to fill the widget surface with the splashColor.The duration in ms when tap and release on the widget.                                                                                                                                                         |
| splashFadeDuration                      | integer                                                    | The duration it takes to fade out once tapped. Since a typical tap starts and ends immdiately, this splashFadeDuration executes almost at the same time as the splashDuration, so ideally it should be equal or longer than splashDuration to see the entire effect.                                                                                                                                                         |
| unconfirmedSplashDuration                      | integer                                                    | This happens when the user tap and hold (not yet released). It is called unconfirmed since the tap will be cancelled if the user moves out of the tap area and release. Usually this should be longer (around 1 secs) to signify that the user has not confirmed the tap.                                                                                                                                                         |
| childrenFits                 | array             | Specify an array of non-zero integers or `auto`, each corresponding to a child. Setting `auto` will let the child determines its own size, while setting a non-zero integer will determine the child's size multiple. The `auto` children will be laid out first and get as much space as they need, then the left-over space will be distributed to the other children based on their size multiples. Otherwise default is 1, After laying out the `auto` children, the left-over space will be divided up based on this multiple. |

### styles.backgroundGradient

| Property | Type   | Description                                                                                                                                                                                    |
| :------- | :----- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| colors   | array  | The list of colors used for the gradient. Colors can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. |
| start    | string | The starting position of the gradient                                                                                                                                                          |
| end      | string | The ending position of the gradient                                                                                                                                                            |

### styles.backgroundImage

| Property  | Type   | Description                                                                                                                                        |
| :-------- | :----- | :------------------------------------------------------------------------------------------------------------------------------------------------- |
| source    | string | The Image URL to fill the background                                                                                                               |
| fit       | string | How to fit the image within our width/height or our parent (if dimension is not specified) . [see options](#fit-options-for-stylesbackgroundimage) |
| alignment | string | Alignment of the background image                                                                                                                  |

#### Fit options for styles.backgroundImage

| Option    | Description                                                                                         |
| :-------- | :-------------------------------------------------------------------------------------------------- |
| fill      | Stretch our image to fill the dimension, and distorting the aspect ratio if needed                  |
| contain   | Scale the image such that the entire image is contained within our dimension                        |
| cover     | Scale the image to fill our dimension, clipping the image as needed                                 |
| fitWidth  | Scale the image to fit the width, and clipping the height if needed                                 |
| fitHeight | Scale the image to fit the height, and clipping the width if needed                                 |
| none      | Center-Align the original image size, clipping the content if needed                                |
| scaleDown | Center-Align the image and only scale down to fit. Image will not be scaled up to bigger dimension. |

---

# FittedRow (deprecated)
This widget is deprecated. Please use [FlexRow](/widgets/flex-row.md) instead.

Stretch to fit the parent (the parent is required to have a predetermined width), then distribute the horizontal spaces evenly among its children. You can override the space distribution via 'childrenFits' attribute.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/fvSONumk7npuTDmIWwis)

## Properties

| Property | Type   | Description                                        |
| :------- | :----- | :------------------------------------------------- |
| children | array  | List of widgets                                    |
| onTap    | action | Call Ensemble's built-in functions or execute code |
| styles   | object | [See properties](#styles)                          |

### styles

| Property                     | Type              | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| :--------------------------- | :---------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| childrenFits                 | array             | Specify array of numbers to set how space is distributed among the children. Use `auto` instead of a number in order to have the child widget determin its own width.                                                                                                                                                                                                                                                                                                                                                               |
| mainAxis                     | string            | Control our children's layout vertically. `start` `center` `end` `spaceBetween` `spaceAround` `spaceEvenly`                                                                                                                                                                                                                                                                                                                                                                                                                         |
| fontSize                     | integer           | Sets the size of the text.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| fontFamily                   | string or Object    | Set the font family applicable for all widgets inside this container, see the list of all available font families [here](https://github.com/material-foundation/flutter-packages/blob/main/packages/google_fonts/generator/families_supported). You can specify the fontFamily name directly or specify a different fontFamily for each language, see [Here](../translations.mdx#optionally-configure-different-fontfamily-for-each-language-your-app-supports).                                                                                                                                                                                                                                                                                     |
| gap                          | integer           | The gap between the children in the main direction                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| crossAxis                    | string            | Control the horizontal alignment of the children. `start` `center` `end` `stretch` `baseline`                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| borderRadius                 | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                                                                                                                                                                                                                               |
| borderColor                  | integer or string | Sets the border color, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                                                                                                                                                                                                                             |
| borderWidth                  | integer           | Thickness of the border. Minimum value should be 0.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| shadowColor                  | integer or string | Sets the box shadow color starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                                                                                                                                                                                                                          |
| shadowOffset                 | array             | The values in array define the horizontal and vertical offset of the shadow. Example: if the shadowOffset is set to [2, 4], the shadow will be offset by 2 pixels horizontally and 4 pixels vertically from its original position.                                                                                                                                                                                                                                                                                                  |
| shadowRadius                 | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                                                                                                                                                                                                                               |
| shadowStyle                  | string            | The blur style to apply on the shadow `normal`, `solid`, `outer`, `inner`                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| stackPositionTop             | integer           | The distance of the child's top edge from the top of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                                                                                                                                                                                                                       |
| stackPositionBottom          | integer           | The distance that the child's bottom edge from the bottom of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                                                                                                                                                                                                               |
| stackPositionLeft            | integer           | The distance that the child's left edge from the left of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                                                                                                                                                                                                                   |
| stackPositionRight           | integer           | The distance that the child's right edge from the right of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                                                                                                                                                                                                                 |
| captureWebPointer            | boolean           | Applicable for Web only. When overlaying widgets on top of certain HTML container (e.g. Maps), the mouse click is captured by the HTML container, causing issue interacting with the widget. Use this to capture and maintain the mouse pointer on your widget.                                                                                                                                                                                                                                                                     |
| margin                       | string or integer | Margin with CSS-style notation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| padding                      | string or integer | Padding with CSS-style value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| width                        | integer           | The width property determines the horizontal size of an element, allowing control over its width dimension within the layout.                                                                                                                                                                                                                                                                                                                                                                                                       |
| height                       | integer           | The height property determines the vertical size of an element, allowing control over its height dimension within the layout.                                                                                                                                                                                                                                                                                                                                                                                                       |
| backgroundImage              | object            | Background image of the box. [see properties](#stylesbackgroundImage)                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| backgroundGradient           | object            | Background gradient of the box [see properties ](#stylesbackgroundGradient)                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| backgroundColor              | integer or string | Background color of the box. which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                                                                                                          |
| expanded                     | boolean           | If the parent is a Row or Column, this flag will stretch this widget in the appropriate direction. (e.g. stretch horizontally for parent of type Row)                                                                                                                                                                                                                                                                                                                                                                               |
| visibilityTransitionDuration | number            | Specify the duration in seconds when a widget animates between visible and not visible state. Note that setting this value will cause the widget to still occupy the UI space even when it is not visible.                                                                                                                                                                                                                                                                                                                          |
| elevation                    | integer           | The z-coordinate at which to place this material relative to its parent. A non-zero value will show a shadow, with its size relative to the elevation value. Minimum value: 0, Maximum value: 24                                                                                                                                                                                                                                                                                                                                    |
| elevationShadowColor         | integer or string | The shadow color for the elevation, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                                                                                                   |
| elevationBorderRadius        | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                                                                                                                                                                                                                               |
| alignment                    | string            | The alignment of the widget relative to its parent. `topLeft`, `topCenter`, `topRight`, `centerLeft`, `center`, `centerRight`, `bottomLeft`, `bottomCenter`, `bottomRight`                                                                                                                                                                                                                                                                                                                                                          |
| visible                      | boolean           | Toggle a widget visibility on/off. Note that an invisible widget will not occupy UI space, unless the visibilityTransitionDuration is specified.                                                                                                                                                                                                                                                                                                                                                                                    |
| opacity                      | double                                        | Adjusts the opacity of the widget. Values range from 0 (fully transparent) to 1 (opaque). Default is `1`.                                                                                                                 |
| enableSplashFeedback                      | boolean                                                    | Toggles splash effect feedback for the widget when        `true`.                                                                                                            |
| splashColor                      | string                                                    | Defines the color of the splash effect when `enableSplashFeedback` is true.                                                                                                                                                         |
| splashDuration                      | integer                                                    | This is the duration it takes to fill the widget surface with the splashColor.The duration in ms when tap and release on the widget.                                                                                                                                                         |
| splashFadeDuration                      | integer                                                    | The duration it takes to fade out once tapped. Since a typical tap starts and ends immdiately, this splashFadeDuration executes almost at the same time as the splashDuration, so ideally it should be equal or longer than splashDuration to see the entire effect.                                                                                                                                                         |
| unconfirmedSplashDuration                      | integer                                                    | This happens when the user tap and hold (not yet released). It is called unconfirmed since the tap will be cancelled if the user moves out of the tap area and release. Usually this should be longer (around 1 secs) to signify that the user has not confirmed the tap.                                                                                                                                                         |
| childrenFits                 | array             | Specify an array of non-zero integers or `auto`, each corresponding to a child. Setting `auto` will let the child determines its own size, while setting a non-zero integer will determine the child's size multiple. The `auto` children will be laid out first and get as much space as they need, then the left-over space will be distributed to the other children based on their size multiples. Otherwise default is 1, After laying out the `auto` children, the left-over space will be divided up based on this multiple. |

### styles.backgroundGradient

| Property | Type   | Description                                                                                                                                                                                    |
| :------- | :----- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| colors   | array  | The list of colors used for the gradient. Colors can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. |
| start    | string | The starting position of the gradient                                                                                                                                                          |
| end      | string | The ending position of the gradient                                                                                                                                                            |

### styles.backgroundImage

| Property  | Type   | Description                                                                                                                                        |
| :-------- | :----- | :------------------------------------------------------------------------------------------------------------------------------------------------- |
| source    | string | The Image URL to fill the background                                                                                                               |
| fit       | string | How to fit the image within our width/height or our parent (if dimension is not specified) . [see options](#fit-options-for-stylesbackgroundimage) |
| alignment | string | Alignment of the background image                                                                                                                  |

#### Fit options for styles.backgroundImage

| Option    | Description                                                                                         |
| :-------- | :-------------------------------------------------------------------------------------------------- |
| fill      | Stretch our image to fill the dimension, and distorting the aspect ratio if needed                  |
| contain   | Scale the image such that the entire image is contained within our dimension                        |
| cover     | Scale the image to fill our dimension, clipping the image as needed                                 |
| fitWidth  | Scale the image to fit the width, and clipping the height if needed                                 |
| fitHeight | Scale the image to fit the height, and clipping the width if needed                                 |
| none      | Center-Align the original image size, clipping the content if needed                                |
| scaleDown | Center-Align the image and only scale down to fit. Image will not be scaled up to bigger dimension. |

---

# FlexColumn

FlexColumn is designed to lay out child widgets vertically and proportionally from the available space given by its parent. By default, FlexColumn assigns equal space to each child (`flex=1`), but this can be customized to accommodate various design requirements.

## Best Practices
- Use FlexColumn when you need a vertical layout with proportional space distribution among the children.
- **Avoid** using FlexColumn in a scrollable parent, such as a ListView or a scrollable Column, without a fixed height, as it will lead to layout issues. FlexColumn and its children need to be constrained to a definite size to properly calculate the flex distribution.
- **Avoid** using FlexColumn in another Column. Column does not constrain its children's dimensions, which FlexColumn requires to calculate the flex distribution. Instead consider giving the FlexColumn a height or use all FlexColumn(s) up the parent chain. 

## Key Concepts

- **flex**: Determines the space a child widget occupies relative to its siblings. By default, all children in a FlexColumn have a flex value of 1 unless specified.
- **flexMode**: Dictates how a child widget uses its allocated space. It can be set to the below:.
    - `expanded`: The child will attempt to fill its allocated space based on the flex factor (this is the default).
    - `flexible`: The child occupies only the space it needs, up to its flex factor.
    - `none`: The child occupies the space it needs (flex factor is ignored).
- When laying out its children, `FlexColumn` follows this specific order:
    - 1. Widgets with flexMode marked as `none` will be laid out first and receive all the space they need. Use caution as this can overflow the parent's available spaces (use 'flexible' is probably sufficient most of the time). 
    - 2. Widgets marked as `flexible` are laid out next. They're allowed to occupy space up to their flex factor but can be smaller if they don't require all the space. This is useful for widgets that can size themselves according to their content but should be limited to a specific portion of the available space.
    - 3. The remaining space is then divided among `expanded` widgets according to their flex factors. These widgets are stretched to fill the allocated space, ensuring that all available space is used.

## Caveats
- **FlexColumn width**: Note that setting a width for a FlexColumn acts more like a maximum width constraint. The FlexColumn determines its actual width based on the widest child, aligning the other children along the horizontal cross-axis according to this width. This means if this actual width is less than the specified width, the `crossAxis` only affects the alignment of the children within the determined (lesser) width.
  If you wish to stretch all the children to the same specified width, add `crossAxis: stretch` in addition to the fixed width.


## Usage

A simple FlexColumn with three child widgets, each taking up equal space (all have flex=1 by default):

```yaml
FlexColumn:
  children:
    - Text:
        text: Child 1
    - Text: 
        text: Child 2
    - Text: 
        text: Child 3
```

Assigning different flex values to children to control their space distribution. In the example below, "Child 2" will occupy twice the space of "Child 1" and "Child 3":

```yaml
FlexColumn:
  children:
    - Text: 
        text: Child 1   # default flex=1 since not specified
    - Text: 
        text: Child 2
        styles:
          flex: 2
    - Text: 
        text: Child 3
        styles:
          flex: 1
```

Adjusting FlexMode to control how children occupy their allocated space. In the example below, "Flexible Child" will be laid out with the size it needs, up to a 1/3 of the available space. "Expanded Child" will be laid out next, occupy the rest of the available space, but not smaller than 2/3 of the available space (since Flexible can only grow to 1/3 max, and all available spaces will be used):

```yaml
FlexColumn:
  children:
    - Text:
        text: Flexible Child
        styles:
          flexMode: flexible
    - Text: 
        text: Expanded Child
        styles:
          flex: 2
          flexMode: expanded

```

## Related
- See [FlexRow](/widgets/flex-row) for a similar layout in the horizontal direction.
- See [Column](/widgets/column) for a more generic and scrollable container for laying out children vertically.

## Reference
#### Properties

| Property                         | Type                                   | Description                                              |
|----------------------------------|----------------------------------------|----------------------------------------------------------|
| children                       | [Widget[]](widgets/directory) | An array of child widgets to be laid out in the column.  |
| onTap                          | Action                                 | An action that is triggered when the widget is tapped.   |
| onTapHaptic                    | TapHaptic                              | The type of haptic feedback to be triggered on tap.      |
| styles                         | object                                 | [See properties](#styles)                                |

#### Styles

| Style Property                    | Type                                                       | Description                                                                                                                            |
|-----------------------------------|------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------|
| mainAxis                        | string                                                     | Alignment of children along the main axis (vertical). Options: `start`, `end`, `center`, `spaceBetween`, `spaceAround`, `spaceEvenly`. |
| crossAxis                       | string                                                     | Alignment of children along the cross axis (horizontal). Options: `start`, `end`, `center`, `stretch`, `baseline`.                     |
| mainAxisSize                    | MainAxisSize                                               | How to size the container along the main axis.                                                                                         |
| gap                             | integer                                                    | The gap between child widgets, in logical pixels.                                                                                      |
| fontFamily                      | string                                                     | The font family to use for text within the widget.                                                                                     |
| fontSize                        | integer                                                    | The size of the font to use for text within the widget.                                                                                |
| width                           | integer                                                    | The width of the widget, in logical pixels.                                                                                            |
| height                          | integer                                                    | The height of the widget, in logical pixels.                                                                                           |
| clipContent                     | boolean                                                    | Whether to clip the widget's content. Useful for preventing overflow.                                                                  |
| boxShadow                       | BoxShadow                                                  | Shadow properties for the widget.                                                                                                      |
| borderRadius                    | BorderRadius                                               | The radius of the widget's corners.                                                                                                    |
| borderColor                     | [Color](/widgets/types#Color)                     | The color of the widget's border.                                                                                                      |
| borderWidth                     | integer                                                    | The width of the widget's border, in logical pixels.                                                                                   |
| backgroundColor                 | [Color](/widgets/types#Color)                     | The widget's background color.                                                                                                         |
| backgroundImage                 | [BackgroundImage](/widgets/types#BackgroundImage) | Overlay an image on the background of this widget                                                                                      |
| backgroundGradient              | [Gradient](/widgets/types#Gradient)               | Background gradient of the box                                                                                                         |
| padding                         | Padding                                                    | Padding inside the widget, affecting its child widgets.                                                                                |
| margin                          | Margin                                                     | Margin outside the widget, affecting its position relative to others.                                                                  |
| flex                            | integer                                                    | Applicable only inside FlexRow or FlexColumn. Determines the space allocated to this widget relative to its siblings.                  |
| flexMode                        | FlexMode                                                   | Determines how the widget should occupy the space allocated to it by the `flex` property.                                              |
| visible                         | boolean                                                    | Toggles the widget's visibility. An invisible widget will not occupy UI space unless `visibilityTransitionDuration` is specified.      |
| visibilityTransitionDuration    | number                                                     | The duration in seconds for a widget to animate between visible and invisible states.                                                  |
| opacity                      | double                                        | Adjusts the opacity of the widget. Values range from 0 (fully transparent) to 1 (opaque). Default is `1`.                                                                                                                 |
| elevation                       | integer                                                    | The z-coordinate at which to place this widget relative to its parent. This affects the size of the shadow displayed.                  |
| elevationShadowColor            | [Color](/widgets/types#Color)                     | The shadow color for the elevation.                                                                                                    |
| elevationBorderRadius           | BorderRadius                                               | Should match the widget's `borderRadius` if set, to ensure the shadow properly matches the widget's border radius.                     |
| alignment                       | Alignment                                                  | Aligns this widget relative to its parent.                                                                                             |
| enableSplashFeedback                      | boolean                                                    | Toggles splash effect feedback for the widget when        `true`.                                                                                                            |
| splashColor                      | string                                                    | Defines the color of the splash effect when `enableSplashFeedback` is true.                                                                                                                                                         |
| splashDuration                      | integer                                                    | This is the duration it takes to fill the widget surface with the splashColor.The duration in ms when tap and release on the widget.                                                                                                                                                         |
| splashFadeDuration                      | integer                                                    | The duration it takes to fade out once tapped. Since a typical tap starts and ends immdiately, this splashFadeDuration executes almost at the same time as the splashDuration, so ideally it should be equal or longer than splashDuration to see the entire effect.                                                                                                                                                         |
| unconfirmedSplashDuration                      | integer                                                    | This happens when the user tap and hold (not yet released). It is called unconfirmed since the tap will be cancelled if the user moves out of the tap area and release. Usually this should be longer (around 1 secs) to signify that the user has not confirmed the tap.                                                                                                                                                         |
| stackPositionTop                | integer                                                    | The distance of the child's top edge from the top of the parent Stack. Only applicable for Stack's children.                           |
| stackPositionBottom             | integer                                                    | The distance of the child's bottom edge from the bottom of the parent Stack. Only applicable for Stack's children.                     |
| stackPositionLeft               | integer                                                    | The distance of the child's left edge from the left of the parent Stack. Only applicable for Stack's children.                         |
| stackPositionRight              | integer                                                    | The distance of the child's right edge from the right of the parent Stack. Only applicable for Stack's children.                       |
| captureWebPointer               | boolean                                                    | Applicable for Web only. Ensures mouse clicks are captured by the widget, useful for overlaying widgets on certain HTML containers.    |

#### Box Styles (Inherited)

[box](_snippets/box-styles.md ':include')


#### Base Styles (Inherited)

[base](_snippets/base-styles.md ':include')

---

# FlexRow

FlexRow is designed to lay out child widgets horizontally and proportionally from the available space given by its parent. By default, flexRow assigns equal space to each child (`flex=1`), but this can be customized to accommodate various design requirements.

## Best Practices
- Use FlexRow when you need a horizontal layout with proportional space distribution among the children.
- **Avoid** using FlexRow in a scrollable parent, such as scrollable Row, without a fixed width, as it will lead to layout issues. FlexRow and its children need to be constrained to a definite size to properly calculate the flex distribution.
- **Avoid** using FlexRow in another Row. Row does not constrain its children's dimensions, which FlexRow requires to calculate the flex distribution. Instead consider giving the FlexRow a width or use all FlexRow(s) up the parent chain. 

## Key Concepts

- **flex**: Determines the space a child widget occupies relative to its siblings. By default, all children in a FlexRow have a flex value of 1 unless specified.
- **flexMode**: Dictates how a child widget uses its allocated space. It can be set to the below:.
    - `expanded`: The child will attempt to fill its allocated space based on the flex factor (this is the default).
    - `flexible`: The child occupies only the space it needs, up to its flex factor.
    - `none`: The child occupies the space it needs (flex factor is ignored).
- When laying out its children, FlexRow follows this specific order:
    - 1. Widgets with flexMode marked as `none` will be laid out first and receive all the space they need. Use caution as this can overflow the parent's available spaces (use 'flexible' is probably sufficient most of the time). 
    - 2. Widgets marked as `flexible` are laid out next. They're allowed to occupy space up to their flex factor but can be smaller if they don't require all the space. This is useful for widgets that can size themselves according to their content but should be limited to a specific portion of the available space.
    - 3. The remaining space is then divided among `expanded` widgets according to their flex factors. These widgets are stretched to fill the allocated space, ensuring that all available space is used.

## Caveats
- **Row height**: Note that setting a height for a FlexRow acts more like a maximum height constraint. The FlexRow determines its actual height based on the tallest child, aligning the other children along the vertical cross-axis according to this height. This means if this actual height is less than the specified height, the `crossAxis` only affects the alignment of the children within the determined (lesser) height.
  If you wish to stretch all the children to the same specified height, add `crossAxis: stretch` in addition to the fixed height.

## Usage

A simple FlexRow with three child widgets, each taking up equal space (all have flex=1 by default):

```yaml
FlexRow:
  children:
    - Text:
        text: Child 1
    - Text: 
        text: Child 2
    - Text: 
        text: Child 3
```

Assigning different flex values to children to control their space distribution. In the example below, "Child 2" will occupy twice the space of "Child 1" and "Child 3":

```yaml
FlexRow:
  children:
    - Text: 
        text: Child 1   # default flex=1 since not specified
    - Text: 
        text: Child 2
        styles:
          flex: 2
    - Text: 
        text: Child 3
        styles:
          flex: 1
```

Adjusting FlexMode to control how children occupy their allocated space. In the example below, "Flexible Child" will be laid out with the size it needs, up to a 1/3 of the available space. "Expanded Child" will be laid out next, occupy the rest of the available space, but not smaller than 2/3 of the available space (since Flexible can only grow to 1/3 max, and all available spaces will be used):

```yaml
FlexRow:
  children:
    - Text:
        text: Flexible Child
        styles:
          flexMode: flexible
    - Text: 
        text: Expanded Child
        styles:
          flex: 2
          flexMode: expanded

```

## Related
- See [FlexColumn](/widgets/flex-column) for a similar layout in the vertical direction.
- See [Row](/widgets/column) for a more generic and scrollable container for laying out children horizontally.

## Reference
#### Properties

| Property                         | Type                                   | Description                                              |
|----------------------------------|----------------------------------------|----------------------------------------------------------|
| children                       | [Widget[]](widgets/directory) | An array of child widgets to be laid out in the column.  |
| onTap                          | Action                                 | An action that is triggered when the widget is tapped.   |
| onTapHaptic                    | TapHaptic                              | The type of haptic feedback to be triggered on tap.      |
| styles                         | object                                 | [See properties](#styles)                                |

#### Styles

| Style Property                    | Type                                                       | Description                                                                                                                            |
|-----------------------------------|------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------|
| mainAxis                        | string                                                     | Alignment of children along the main axis (vertical). Options: `start`, `end`, `center`, `spaceBetween`, `spaceAround`, `spaceEvenly`. |
| crossAxis                       | string                                                     | Alignment of children along the cross axis (horizontal). Options: `start`, `end`, `center`, `stretch`, `baseline`.                     |
| mainAxisSize                    | MainAxisSize                                               | How to size the container along the main axis.                                                                                         |
| gap`                             | integer                                                    | The gap between child widgets, in logical pixels.                                                                                      |
| fontFamily                      | string                                                     | The font family to use for text within the widget.                                                                                     |
| fontSize                        | integer                                                    | The size of the font to use for text within the widget.                                                                                |
| width                           | integer                                                    | The width of the widget, in logical pixels.                                                                                            |
| height                          | integer                                                    | The height of the widget, in logical pixels.                                                                                           |
| clipContent                     | boolean                                                    | Whether to clip the widget's content. Useful for preventing overflow.                                                                  |
| boxShadow                       | BoxShadow                                                  | Shadow properties for the widget.                                                                                                      |
| borderRadius                    | BorderRadius                                               | The radius of the widget's corners.                                                                                                    |
| borderColor                     | [Color](/widgets/types#Color)                     | The color of the widget's border.                                                                                                      |
| borderWidth                     | integer                                                    | The width of the widget's border, in logical pixels.                                                                                   |
| backgroundColor                 | [Color](/widgets/types#Color)                     | The widget's background color.                                                                                                         |
| backgroundImage                 | [BackgroundImage](/widgets/types#BackgroundImage) | Overlay an image on the background of this widget                                                                                      |
| backgroundGradient              | [Gradient](/widgets/types#Gradient)               | Background gradient of the box                                                                                                         |
| padding                         | Padding                                                    | Padding inside the widget, affecting its child widgets.                                                                                |
| margin                          | Margin                                                     | Margin outside the widget, affecting its position relative to others.                                                                  |
| flex                            | integer                                                    | Applicable only inside FlexRow or flexRow. Determines the space allocated to this widget relative to its siblings.                  |
| flexMode                        | FlexMode                                                   | Determines how the widget should occupy the space allocated to it by the `flex` property.                                              |
| visible                         | boolean                                                    | Toggles the widget's visibility. An invisible widget will not occupy UI space unless `visibilityTransitionDuration` is specified.      |
| visibilityTransitionDuration    | number                                                     | The duration in seconds for a widget to animate between visible and invisible states.                                                  |
| opacity                      | double                                        | Adjusts the opacity of the widget. Values range from 0 (fully transparent) to 1 (opaque). Default is `1`.                                                                                                                 |
| elevation                       | integer                                                    | The z-coordinate at which to place this widget relative to its parent. This affects the size of the shadow displayed.                  |
| elevationShadowColor            | [Color](/widgets/types#Color)                     | The shadow color for the elevation.                                                                                                    |
| elevationBorderRadius           | BorderRadius                                               | Should match the widget's `borderRadius` if set, to ensure the shadow properly matches the widget's border radius.                     |
| alignment                       | Alignment                                                  | Aligns this widget relative to its parent.                                                                                             |
| enableSplashFeedback                      | boolean                                                    | Toggles splash effect feedback for the widget when        `true`.                                                                                                            |
| splashColor                      | string                                                    | Defines the color of the splash effect when `enableSplashFeedback` is true.                                                                                                                                                         |
| splashDuration                      | integer                                                    | This is the duration it takes to fill the widget surface with the splashColor.The duration in ms when tap and release on the widget.                                                                                                                                                         |
| splashFadeDuration                      | integer                                                    | The duration it takes to fade out once tapped. Since a typical tap starts and ends immdiately, this splashFadeDuration executes almost at the same time as the splashDuration, so ideally it should be equal or longer than splashDuration to see the entire effect.                                                                                                                                                         |
| unconfirmedSplashDuration                      | integer                                                    | This happens when the user tap and hold (not yet released). It is called unconfirmed since the tap will be cancelled if the user moves out of the tap area and release. Usually this should be longer (around 1 secs) to signify that the user has not confirmed the tap.                                                                                                                                                         |
| stackPositionTop                | integer                                                    | The distance of the child's top edge from the top of the parent Stack. Only applicable for Stack's children.                           |
| stackPositionBottom             | integer                                                    | The distance of the child's bottom edge from the bottom of the parent Stack. Only applicable for Stack's children.                     |
| stackPositionLeft               | integer                                                    | The distance of the child's left edge from the left of the parent Stack. Only applicable for Stack's children.                         |
| stackPositionRight              | integer                                                    | The distance of the child's right edge from the right of the parent Stack. Only applicable for Stack's children.                       |
| captureWebPointer               | boolean                                                    | Applicable for Web only. Ensures mouse clicks are captured by the widget, useful for overlaying widgets on certain HTML containers.    |

#### Box Styles (Inherited)

[box](_snippets/box-styles.md ':include')


#### Base Styles (Inherited)

[base](_snippets/base-styles.md ':include')

---

# Flex

The Flex Widget is a versatile layout option that dynamically switches between Row or Column based on the direction property, offering flexible and responsive designs that adapt to different screen sizes.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/R3KgxV3UPWb4TjoiPI0U)

## Properties

| Property      | Type   | Description                      |
| :------------ | :----- | :------------------------------- |
| children      | array  | List of widgets                  |
| styles        | object | [See properties](#styles)        |
| item-template | object | [See properties](#item-template) |

### item-template

| Property | Type   | Description                                                        |
| :------- | :----- | :----------------------------------------------------------------- |
| data     | string | Bind to an array of data from an API response or a variable        |
| name     | string | Set the name to reference as you iterate through the array of data |
| template |        | The widget to render for each item                                 |

### styles

| Property                     | Type              | Description                                                                                                                                                                                                                                                                                                                       |
| :--------------------------- | :---------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| expanded                     | boolean           | If the parent is a Row or Column, this flag will stretch this widget in the appropriate direction. (e.g stretch horizontally for parent of type Row)                                                                                                                                                                              |
| direction                    | string            | Lay out the children vertically or horizontally                                                                                                                                                                                                                                                                                   |
| mainAxis                     | string            | Control how to lay out the children, in the direction specified by the 'direction' attribute. `start` `center` `end` `spaceBetween` `spaceAround` `spaceEvenly`                                                                                                                                                                   |
| mainAxisSize                 | integer           | If 'max', stretch the Column to fill its parent's height. Otherwise (min) the column's height will be its children's combined. `min` `max`                                                                                                                                                                                        |
| crossAxis                    | string            | Control the alignment of the children on the secondary axis (depending on the 'direction' attribute). `start` `center` `end` `stretch` `baseline`                                                                                                                                                                                 |
| mainAxisSize                 | string            | If 'max', stretch the Flex to fill its parent's dimension (width or height based on the direction). Otherwise (min) the Flex's dimension will be its children's combined.                                                                                                                                                         |
| scrollable                   | boolean           | Set to true so content can scroll vertically or horizontally as needed                                                                                                                                                                                                                                                            |
| autoFit                      | boolean           | Explicitly match the width or height to the largest child's size, but only if the parent does not already assign a width or height. This attribute is useful for sizing children who don't have a width or height (e.g Divider)                                                                                                   |
| borderRadius                 | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                             |
| borderColor                  | integer or string | Sets the border color, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                           |
| borderWidth                  | integer           | Thickness of the border. Minimum value should be 0.                                                                                                                                                                                                                                                                               |
| shadowColor                  | integer or string | Sets the box shadow color starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                        |
| shadowOffset                 | array             | The values in array define the horizontal and vertical offset of the shadow. Example: if the shadowOffset is set to [2, 4], the shadow will be offset by 2 pixels horizontally and 4 pixels vertically from its original position.                                                                                                |
| shadowRadius                 | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                             |
| shadowStyle                  | string            | The blur style to apply on the shadow `normal`, `solid`, `outer`, `inner`                                                                                                                                                                                                                                                         |
| stackPositionTop             | integer           | The distance of the child's top edge from the top of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                     |
| stackPositionBottom          | integer           | The distance that the child's bottom edge from the bottom of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                             |
| stackPositionLeft            | integer           | The distance that the child's left edge from the left of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                 |
| stackPositionRight           | integer           | The distance that the child's right edge from the right of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                               |
| captureWebPointer            | boolean           | Applicable for Web only. When overlaying widgets on top of certain HTML container (e.g. Maps), the mouse click is captured by the HTML container, causing issue interacting with the widget. Use this to capture and maintain the mouse pointer on your widget.                                                                   |
| margin                       | string or integer | Margin with CSS-style notation                                                                                                                                                                                                                                                                                                    |
| padding                      | string or integer | Padding with CSS-style value                                                                                                                                                                                                                                                                                                      |
| width                        | integer           | The width property determines the horizontal size of an element, allowing control over its width dimension within the layout.                                                                                                                                                                                                     |
| height                       | integer           | The height property determines the vertical size of an element, allowing control over its height dimension within the layout.                                                                                                                                                                                                     |
| backgroundImage              | object            | Background image of the box. [see properties](#stylesbackgroundImage)                                                                                                                                                                                                                                                             |
| backgroundGradient           | object            | Background gradient of the box [see properties ](#stylesbackgroundGradient)                                                                                                                                                                                                                                                       |
| backgroundColor              | integer or string | Background color of the box. which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`        |
| expanded                     | boolean           | If the parent is a Row or Column, this flag will stretch this widget in the appropriate direction. (e.g. stretch horizontally for parent of type Row)                                                                                                                                                                             |
| visibilityTransitionDuration | number            | Specify the duration in seconds when a widget animates between visible and not visible state. Note that setting this value will cause the widget to still occupy the UI space even when it is not visible.                                                                                                                        |
| elevation                    | integer           | The z-coordinate at which to place this material relative to its parent. A non-zero value will show a shadow, with its size relative to the elevation value. Minimum value: 0, Maximum value: 24                                                                                                                                  |
| elevationShadowColor         | integer or string | The shadow color for the elevation, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| elevationBorderRadius        | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                             |
| alignment                    | string            | The alignment of the widget relative to its parent. `topLeft`, `topCenter`, `topRight`, `centerLeft`, `center`, `centerRight`, `bottomLeft`, `bottomCenter`, `bottomRight`                                                                                                                                                        |
| visible                      | boolean           | Toggle a widget visibility on/off. Note that an invisible widget will not occupy UI space, unless the visibilityTransitionDuration is specified.                                                                                                                                                                                  |
| opacity                      | double                                        | Adjusts the opacity of the widget. Values range from 0 (fully transparent) to 1 (opaque). Default is `1`.                                                                                                                 |
| enableSplashFeedback                      | boolean                                                    | Toggles splash effect feedback for the widget when        `true`.                                                                                                            |
| splashColor                      | string                                                    | Defines the color of the splash effect when `enableSplashFeedback` is true.                                                                                                                                                         |
| splashDuration                      | integer                                                    | This is the duration it takes to fill the widget surface with the splashColor.The duration in ms when tap and release on the widget.                                                                                                                                                         |
| splashFadeDuration                      | integer                                                    | The duration it takes to fade out once tapped. Since a typical tap starts and ends immdiately, this splashFadeDuration executes almost at the same time as the splashDuration, so ideally it should be equal or longer than splashDuration to see the entire effect.                                                                                                                                                         |
| unconfirmedSplashDuration                      | integer                                                    | This happens when the user tap and hold (not yet released). It is called unconfirmed since the tap will be cancelled if the user moves out of the tap area and release. Usually this should be longer (around 1 secs) to signify that the user has not confirmed the tap.                                                                                                                                                         |
| fontSize                     | integer           | Sets the size of the text.                                                                                                                                                                                                                                                                                                        |
| fontFamily                   | string            | Set the font family applicable for all widgets inside this container, see the list of all available font families [here](https://github.com/material-foundation/flutter-packages/blob/main/packages/google_fonts/generator/families_supported).                                                                                   |
| gap                          | integer           | The gap between the children in the main direction                                                                                                                                                                                                                                                                                |

### styles.backgroundGradient

| Property | Type   | Description                                                                                                                                                                                    |
| :------- | :----- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| colors   | array  | The list of colors used for the gradient. Colors can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. |
| start    | string | The starting position of the gradient                                                                                                                                                          |
| end      | string | The ending position of the gradient                                                                                                                                                            |

### styles.backgroundImage

| Property  | Type   | Description                                                                                                                                        |
| :-------- | :----- | :------------------------------------------------------------------------------------------------------------------------------------------------- |
| source    | string | The Image URL to fill the background                                                                                                               |
| fit       | string | How to fit the image within our width/height or our parent (if dimension is not specified) . [see options](#fit-options-for-stylesbackgroundimage) |
| alignment | string | Alignment of the background image                                                                                                                  |

#### Fit options for styles.backgroundImage

| Option    | Description                                                                                         |
| :-------- | :-------------------------------------------------------------------------------------------------- |
| fill      | Stretch our image to fill the dimension, and distorting the aspect ratio if needed                  |
| contain   | Scale the image such that the entire image is contained within our dimension                        |
| cover     | Scale the image to fill our dimension, clipping the image as needed                                 |
| fitWidth  | Scale the image to fit the width, and clipping the height if needed                                 |
| fitHeight | Scale the image to fit the height, and clipping the width if needed                                 |
| none      | Center-Align the original image size, clipping the content if needed                                |
| scaleDown | Center-Align the image and only scale down to fit. Image will not be scaled up to bigger dimension. |

---

# Flow

The Flow Widget is a container that wraps its children, with a default horizontal direction that can be customized to vertical, allowing for flexible and fluid layouts within your application.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/3e901fb8-a0e8-4f52-979b-7f5f2547e650)

## Properties

| Property      | Type   | Description                                                |
| :------------ | :----- | :--------------------------------------------------------- |
| item-template | object | [See properties](#item-template)                           |
| children      | array  | List of widgets                                            |
| direction     | string | The main direction to lay out the children before wrapping |
| styles        | object | [See properties](#styles)                                  |

### item-template

| Property | Type   | Description                                                        |
| :------- | :----- | :----------------------------------------------------------------- |
| data     | string | Bind to an array of data from an API response or a variable        |
| name     | string | Set the name to reference as you iterate through the array of data |
| template |        | The widget to render for each item                                 |

### styles

| Property                     | Type              | Description                                                                                                                                                                                                                                                                                                                       |
| :--------------------------- | :---------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| expanded                     | boolean           | If the parent is a Row or Column, this flag will stretch this widget in the appropriate direction. (e.g stretch horizontally for parent of type Row)                                                                                                                                                                              |
| mainAxis                     | string            | Control our children's layout vertically                                                                                                                                                                                                                                                                                          |
| gap                          | integer           | The gap between the children in the main direction                                                                                                                                                                                                                                                                                |
| lineGap                      | integer           | The gap between the lines if the children start wrapping                                                                                                                                                                                                                                                                          |
| maxWidth                     | integer           | Sets the maximum width allowed for an element.                                                                                                                                                                                                                                                                                    |
| maxHeight                    | integer           | Sets the maximum height allowed for an element.                                                                                                                                                                                                                                                                                   |
| stackPositionTop             | integer           | The distance of the child's top edge from the top of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                     |
| stackPositionBottom          | integer           | The distance that the child's bottom edge from the bottom of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                             |
| stackPositionLeft            | integer           | The distance that the child's left edge from the left of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                 |
| stackPositionRight           | integer           | The distance that the child's right edge from the right of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                               |
| captureWebPointer            | boolean           | Applicable for Web only. When overlaying widgets on top of certain HTML container (e.g. Maps), the mouse click is captured by the HTML container, causing issue interacting with the widget. Use this to capture and maintain the mouse pointer on your widget.                                                                   |
| visibilityTransitionDuration | number            | Specify the duration in seconds when a widget animates between visible and not visible state. Note that setting this value will cause the widget to still occupy the UI space even when it is not visible.                                                                                                                        |
| elevation                    | integer           | The z-coordinate at which to place this material relative to its parent. A non-zero value will show a shadow, with its size relative to the elevation value. Minimum value: 0, Maximum value: 24                                                                                                                                  |
| elevationShadowColor         | integer or string | The shadow color for the elevation, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| elevationBorderRadius        | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                             |
| alignment                    | string            | The alignment of the widget relative to its parent. `topLeft`, `topCenter`, `topRight`, `centerLeft`, `center`, `centerRight`, `bottomLeft`, `bottomCenter`, `bottomRight`                                                                                                                                                        |
| visible                      | boolean           | Toggle a widget visibility on/off. Note that an invisible widget will not occupy UI space, unless the visibilityTransitionDuration is specified.                                                                                                                                                                                  |
| opacity                      | double                                        | Adjusts the opacity of the widget. Values range from 0 (fully transparent) to 1 (opaque). Default is `1`.                                                                                                                 |

---

# Form widget

Form is a wrapper widget for inputs such as TextInput, Dropdown, Checkbox, etc. Form enables you to perform validation and styling on inputs inside the Form.

[Detailed Example of validating/submitting a Form from inside a form or outside](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/fIZkgKM25hNHtI0q5wZF) 

### Validate and Submit

#### Submit a Form from a Button inside a Form
To trigger validation of a Form's children inputs, add a Button widget with the property of `validateForm: true`. In this example, following validations will be performed when the submit button is pressed. If `validateForm: true`, Form will be submitted only if validation passes. 

```yaml
View:
  body:
    Form:
      onSubmit:
        invokeAPI:
          name: addAccount
          inputs:
            name: ${name.value}
            email: ${email.value}
        onResponse:
          # perform additional action here
        onError:
          # perform additional action here
      children:
        - TextInput:
            id: name
            label: First and last name
            required: true
        - TextInput:
            id: email
            label: Email
            required: true
            inputType: email
        - Button:
            label: Submit
            validateForm: true
            submitForm: true

API:
  addAccount:
    inputs:
      - name
      - email
    method: POST
    uri: https://sample.api/user
    body:
      name: ${name}
      email: ${email}
```
#### Validate or Submit a Form from outside the Form
Detailed Example [here](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/fIZkgKM25hNHtI0q5wZF) This examples shows how to validate/submit a form from a sticky button in the footer. This is a common pattern in mobile apps. 

By default, when `Form.submit()` is called, it first called `Form.validate()` and calls submit only if the validation succeeds (i.e. all form fields are in valid state. 

Following is a snippet from the example above

```yaml
  footer:
    styles:
      backgroundColor: white
    children:
      - Button:
          styles:
            backgroundColor: black
            borderRadius: 40
            padding: 20
          label: Submit
          onTap: |-
            basicForm.validate();
            complexForm.submit();
```

### Styling

You can control the styling of inputs' label at the Form level, by setting `labelPosition`, `labelMaxWidth`, and `labelOverflow` properties under Form's style.

Use `labelStyle` to control the detailed styling of all the labels. Note that an Input widget's own labelStyle will take precedence over the Form's labelStyle.

```yaml
View:
  body:
    Form:
      styles:
        labelPosition: start
        labelMaxWidth: 100
        labelOverflow: clip
        # all labels will have a bolder weight
        labelStyle:
          fontWeight: w600
      children:
        - TextInput:
            label: Name
            required: true
        - TextInput:
            label: email
            required: true
            inputType: email
            styles:
              # setting this will ignore the Form's labelStyle
              labelStyle:
                color: red
        - Button:
            label: Submit
            validateForm: true
```

## Properties

| Property | Type    | Description                                                               |
| :------- | :------ | :------------------------------------------------------------------------ |
| enabled  | boolean | Enables or disables the interactivity and input functionality of the Form |
| onSubmit | action  | Action to execute when the form is submitted                              |
| children | array   | List of widgets                                                           |
| styles   | object  | [see properties](#styles)                                                 |

## Styles

| Property      | Type                                           | Description                                                                                                                   |
|:--------------|:-----------------------------------------------|:------------------------------------------------------------------------------------------------------------------------------|
| labelPosition | string                                         | Where the position the FormField's label `top` `start` `none`                                                                 |
| labelOverflow | string                                         | Treatment of text longer than available space `wrap` `visible` `clip` `ellipsis`                                              |
| labelMaxWidth | integer                                        | Cap the label's width, useful on larger screen. This property only works on labelPosition=start.                              |
| labelStyle    | [TextStyle](/widgets/types#TextStyle) | Styling for the label                                                                                                         |
| width         | integer                                        | The width property determines the horizontal size of an element, allowing control over its width dimension within the layout. |
| height        | integer                                        | The height property determines the vertical size of an element, allowing control over its height dimension within the layout. |
| gap           | integer                                        | Vertical gap to insert between the children (default is 10)                                                                   |

## Methods

| Function   | Return Type | Description                                                                                            |
|:-----------|:------------|:-------------------------------------------------------------------------------------------------------|
| validate() | boolean     | validates each formfield inside the Form. Returns true if all the fields are valid and false otherwise |
| submit()   | none        | submits the form                                                                                       |

---

# GridView

The GridView Widget empowers you to render grid-based layouts, enabling the display of content in a structured and organized manner with customizable grid configurations within your application.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/DX5j2WVQFabmxD9FCD5h)

## Properties

| Property      | Type   | Description                                                                             |
| :------------ | :----- | :-------------------------------------------------------------------------------------- |
| item-template | object | [See properties](#item-template)                                                        |
| onItemTap     | action | Call Ensemble's built-in functions or execute code when tapping on an item in the list. The index of the item can be retrieved using 'selectedItemIndex'. You can access as this.selectedItemIndex. See example linked above |
| onItemTapHaptic | enum | The type of haptic to perform when item is pressed. It should be one of heavyImpact, mediumImpact, lightImpact, selectionClick, and vibrate |
| styles        | object | [See properties](#styles)                                                               |

### item-template

| Property | Type   | Description                                                        |
| :------- | :----- | :----------------------------------------------------------------- |
| data     | string | Bind to an array of data from an API response or a variable        |
| name     | string | Set the name to reference as you iterate through the array of data |
| template |        | The widget to render for each item                                 |

### styles

| Property                     | Type              | Description                                                                                                                                                                                                                                                                                                                       |
| :--------------------------- | :---------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| expanded                     | boolean           | If the parent is a Row or Column, this flag will stretch this widget in the appropriate direction. (e.g stretch horizontally for parent of type Row)                                                                                                                                                                              |
| horizontalTileCount          |                   | The number of horizontal tiles (max 5) to show. If not specified, the number of tiles will automatically be determined by the screen size. You may also specify a single number (for all breakpoints), three numbers (for small, medium, large breakpoints), or five numbers (xSmall, small, medium, large, xLarge).              |
| horizontalGap                | integer           | The gap between the horizontal tiles if there are more than one (default: 10).                                                                                                                                                                                                                                                    |
| verticalGap                  | integer           | The gap between the vertical tiles if there are more than one (default: 10).                                                                                                                                                                                                                                                      |
| itemHeight                   | integer           | Set a fixed height for each item in the tile. If each tile item comprises of many widgets vertically, setting this attribute may require you to stretch (expand) at least one inner widget.                                                                                                                                       |
| itemAspectRatio              | number            | Instead of itemHeight, you can set the tile's dimension as a ratio of (item width / item height). For example, a tile with 3x width and 2x height is 3/2 = 1.5. This attribute will be ignored if itemHeight is set.                                                                                                              |
| borderRadius                 | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                             |
| borderColor                  | integer or string | Sets the border color, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                           |
| borderWidth                  | integer           | Thickness of the border. Minimum value should be 0.                                                                                                                                                                                                                                                                               |
| shadowColor                  | integer or string | Sets the box shadow color starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                        |
| shadowOffset                 | array             | The values in array define the horizontal and vertical offset of the shadow. Example: if the shadowOffset is set to [2, 4], the shadow will be offset by 2 pixels horizontally and 4 pixels vertically from its original position.                                                                                                |
| shadowRadius                 | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                             |
| shadowStyle                  | string            | The blur style to apply on the shadow `normal`, `solid`, `outer`, `inner`                                                                                                                                                                                                                                                         |
| stackPositionTop             | integer           | The distance of the child's top edge from the top of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                     |
| stackPositionBottom          | integer           | The distance that the child's bottom edge from the bottom of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                             |
| stackPositionLeft            | integer           | The distance that the child's left edge from the left of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                 |
| stackPositionRight           | integer           | The distance that the child's right edge from the right of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                               |
| captureWebPointer            | boolean           | Applicable for Web only. When overlaying widgets on top of certain HTML container (e.g. Maps), the mouse click is captured by the HTML container, causing issue interacting with the widget. Use this to capture and maintain the mouse pointer on your widget.                                                                   |
| margin                       | string or integer | Margin with CSS-style notation                                                                                                                                                                                                                                                                                                    |
| padding                      | string or integer | Padding with CSS-style value                                                                                                                                                                                                                                                                                                      |
| width                        | integer           | The width property determines the horizontal size of an element, allowing control over its width dimension within the layout.                                                                                                                                                                                                     |
| height                       | integer           | The height property determines the vertical size of an element, allowing control over its height dimension within the layout.                                                                                                                                                                                                     |
| backgroundImage              | object            | Background image of the box. [see properties](#stylesbackgroundImage)                                                                                                                                                                                                                                                             |
| backgroundGradient           | object            | Background gradient of the box [see properties ](#stylesbackgroundGradient)                                                                                                                                                                                                                                                       |
| backgroundColor              | integer or string | Background color of the box. which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`        |
| expanded                     | boolean           | If the parent is a Row or Column, this flag will stretch this widget in the appropriate direction. (e.g. stretch horizontally for parent of type Row)                                                                                                                                                                             |
| visibilityTransitionDuration | number            | Specify the duration in seconds when a widget animates between visible and not visible state. Note that setting this value will cause the widget to still occupy the UI space even when it is not visible.                                                                                                                        |
| elevation                    | integer           | The z-coordinate at which to place this material relative to its parent. A non-zero value will show a shadow, with its size relative to the elevation value. Minimum value: 0, Maximum value: 24                                                                                                                                  |
| elevationShadowColor         | integer or string | The shadow color for the elevation, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| elevationBorderRadius        | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                             |
| alignment                    | string            | The alignment of the widget relative to its parent. `topLeft`, `topCenter`, `topRight`, `centerLeft`, `center`, `centerRight`, `bottomLeft`, `bottomCenter`, `bottomRight`                                                                                                                                                        |
| visible                      | boolean           | Toggle a widget visibility on/off. Note that an invisible widget will not occupy UI space, unless the visibilityTransitionDuration is specified.                                                                                                                                                                                  |
| opacity                      | double                                        | Adjusts the opacity of the widget. Values range from 0 (fully transparent) to 1 (opaque). Default is `1`.                                                                                                                 |
| fontSize                     | integer           | Sets the size of the text.                                                                                                                                                                                                                                                                                                        |
| fontFamily                   | string            | Set the font family applicable for all widgets inside this container, see the list of all available font families [here](https://github.com/material-foundation/flutter-packages/blob/main/packages/google_fonts/generator/families_supported).                                                                                   |
| gap                          | integer           | The gap between the children in the main direction                                                                                                                                                                                                                                                                                |

### styles.backgroundGradient

| Property | Type   | Description                                                                                                                                                                                    |
| :------- | :----- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| colors   | array  | The list of colors used for the gradient. Colors can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. |
| start    | string | The starting position of the gradient                                                                                                                                                          |
| end      | string | The ending position of the gradient                                                                                                                                                            |

### styles.backgroundImage

| Property  | Type   | Description                                                                                                                                        |
| :-------- | :----- | :------------------------------------------------------------------------------------------------------------------------------------------------- |
| source    | string | The Image URL to fill the background                                                                                                               |
| fit       | string | How to fit the image within our width/height or our parent (if dimension is not specified) . [see options](#fit-options-for-stylesbackgroundimage) |
| alignment | string | Alignment of the background image                                                                                                                  |

#### Fit options for styles.backgroundImage

| Option    | Description                                                                                         |
| :-------- | :-------------------------------------------------------------------------------------------------- |
| fill      | Stretch our image to fill the dimension, and distorting the aspect ratio if needed                  |
| contain   | Scale the image such that the entire image is contained within our dimension                        |
| cover     | Scale the image to fill our dimension, clipping the image as needed                                 |
| fitWidth  | Scale the image to fit the width, and clipping the height if needed                                 |
| fitHeight | Scale the image to fit the height, and clipping the width if needed                                 |
| none      | Center-Align the original image size, clipping the content if needed                                |
| scaleDown | Center-Align the image and only scale down to fit. Image will not be scaled up to bigger dimension. |

---

# HTML widget

The HTML Render Widget enables seamless rendering of HTML code within your application, providing a dynamic and interactive experience for users.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/ZhTBody9YozadVvTlhW0)

## Properties

| Property | Type   | Description         |
| :------- | :----- | :------------------ |
| text     | string | Enter the HTML text |
| cssStyles | List of [cssStyle](#cssStyle) | Enter the CSS to interact with HTML |

### cssStyle

| Property | Type | Description           |
| :------- | :----- | :------------------ |
| selector | String | Equivalent to the CSS selector. To select any given tag using either tag name, class name or id of that tag |
| properties | [properties](#properties) | The css properties to apply to a selected tag. |

### properties

| Property               | Type          | Description                                       |
| :--------------------- | :------------ | :------------------------------------------------ |
| backgroundColor        | string        | Sets the background color of an element. Useful for emphasizing or styling page sections.                           |
| color                  | string        | Defines the text color within an element, impacting readability and visual hierarchy.                                 |
| counterIncrement       | string        | Specifies the increment value for counters, facilitating dynamic list numbering or tracking.                         |
| counterReset           | string        | Determines the reset value for counters, useful for restarting or initializing counting sequences.                    |
| direction              | string        | Sets the text direction, crucial for proper alignment in multilingual content.                                        |
| display               | string        | Specifies the box model used for an element, influencing its layout and rendering behavior.                             |
| fontFamily            | string        | Defines the font family for text, allowing customization of the typeface for stylistic or thematic consistency.          |
| fontFeatureSettings    | string        | Enables advanced typographic features in fonts, providing fine control over ligatures and stylistic elements.           |
| fontSize              | string        | Sets the font size within an element, influencing the overall visual hierarchy and readability of content.              |
| fontStyle             | string        | Specifies the style of the font, such as italic or normal, contributing to the visual emphasis of displayed text.        |
| fontWeight            | string        | Sets the thickness of characters within a text element, allowing for varied emphasis and hierarchy in content.          |
| height                | string        | Defines the height of an element, offering control over vertical dimensions and aspect ratios.                          |
| letterSpacing         | string        | Adjusts the spacing between characters in text, providing fine-tuned control over readability and aesthetics.           |
| listStyleImage        | string        | Sets an image as the list-item marker, allowing customization of list styles with distinctive visual markers.          |
| listStyleType         | string        | Defines the type of marker or style for list items, contributing to the overall appearance and theme of content lists.    |
| listStylePosition     | string        | Sets the position of the list-item marker, influencing its placement in relation to list item content and surroundings.  |
| margin                | string        | Sets the margin outside an element's border, controlling spacing between the element and its neighboring elements.        |
| padding               | string        | Defines the padding inside an element's border, ensuring space between the element's content and its border.             |
| textAlign             | string        | Aligns text within an element, controlling horizontal positioning such as left-aligned, center-aligned, or right-aligned.|
| textDecoration        | string        | Adds decoration to text, like underline or overline, enhancing visual appeal or conveying additional information.        |
| textDecorationColor   | string        | Sets the color of the text decoration, allowing coordination with the document's color scheme.                            |
| textDecorationStyle   | string        | Defines the style of the text decoration, influencing its visual appearance with options like solid, dashed, or dotted lines.|
| textDecorationThickness| string        | Specifies the thickness of the text decoration, providing control over its visual prominence.                             |
| textOverflow          | string | Defines how text content that overflows its container should be handled, indicating options like ellipsis or clip.        |
| textShadow            | string        | Adds a shadow to text for emphasis, enhancing legibility and visual impact of text elements within a design or layout.    |
| textTransform         | string | Controls the capitalization of text, allowing options like uppercase or lowercase to achieve stylistic preferences.        |
| verticalAlign         | string        | Aligns the vertical positioning of inline elements, ensuring proper alignment in relation to surrounding content.        |
| whiteSpace            | string        | Controls handling of white space inside an element, influencing text wrapping, line breaks, and spacing for optimal readability.|
| width                 | string        | Defines the width of an element, offering control over horizontal dimensions and aspect ratios.                          |
| wordSpacing           | string        | Adjusts spacing between words in text, providing control over the visual appearance and readability of textual content.   |
| lineHeight            | string        | Sets the height of a line of text, influencing overall vertical spacing and readability within an element.              |
| maxLines              | string        | Limits the number of lines for multiline text, controlling display and preventing excessive expansion of text content.   |

### styles

| Property                     | Type              | Description                                                                                                                                                                                                                                                                                                                       |
| :--------------------------- | :---------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| expanded                     | boolean           | If the parent is a Row or Column, this flag will stretch this widget in the appropriate direction. (e.g stretch horizontally for parent of type Row)                                                                                                                                                                              |
| borderRadius                 | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                             |
| borderColor                  | integer or string | Sets the border color, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                           |
| borderWidth                  | integer           | Thickness of the border. Minimum value should be 0.                                                                                                                                                                                                                                                                               |
| shadowColor                  | integer or string | Sets the box shadow color starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                        |
| shadowOffset                 | array             | The values in array define the horizontal and vertical offset of the shadow. Example: if the shadowOffset is set to [2, 4], the shadow will be offset by 2 pixels horizontally and 4 pixels vertically from its original position.                                                                                                |
| shadowStyle                  | string            | The blur style to apply on the shadow `normal`, `solid`, `outer`, `inner`                                                                                                                                                                                                                                                         |
| stackPositionTop             | integer           | The distance of the child's top edge from the top of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                     |
| stackPositionBottom          | integer           | The distance that the child's bottom edge from the bottom of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                             |
| stackPositionLeft            | integer           | The distance that the child's left edge from the left of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                 |
| stackPositionRight           | integer           | The distance that the child's right edge from the right of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                               |
| backgroundImage              | object            | Background image of the box. [see properties](#stylesbackgroundImage)                                                                                                                                                                                                                                                             |
| backgroundGradient           | object            | Background gradient of the box [see properties ](#stylesbackgroundGradient)                                                                                                                                                                                                                                                       |
| backgroundColor              | integer or string | Background color of the box. which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`        |
| alignment                    | string            | The alignment of the widget relative to its parent. `topLeft`, `topCenter`, `topRight`, `centerLeft`, `center`, `centerRight`, `bottomLeft`, `bottomCenter`, `bottomRight`                                                                                                                                                        |
| visible                      | boolean           | Toggle a widget visibility on/off. Note that an invisible widget will not occupy UI space, unless the visibilityTransitionDuration is specified.                                                                                                                                                                                  |
| visibilityTransitionDuration | number            | Specify the duration in seconds when a widget animates between visible and not visible state. Note that setting this value will cause the widget to still occupy the UI space even when it is not visible.                                                                                                                        |
| opacity                      | double                                        | Adjusts the opacity of the widget. Values range from 0 (fully transparent) to 1 (opaque). Default is `1`.                                                                                                                 |
| elevation                    | integer           | The z-coordinate at which to place this material relative to its parent. A non-zero value will show a shadow, with its size relative to the elevation value. Minimum value: 0, Maximum value: 24                                                                                                                                  |
| elevationShadowColor         | integer or string | The shadow color for the elevation, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| elevationBorderRadius        | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                             |
| margin                       | string or integer | Margin with CSS-style notation                                                                                                                                                                                                                                                                                                    |
| padding                      | string or integer | Padding with CSS-style value                                                                                                                                                                                                                                                                                                      |
| width                        | integer           | The width property determines the horizontal size of an element, allowing control over its width dimension within the layout.                                                                                                                                                                                                     |
| height                       | integer           | The height property determines the vertical size of an element, allowing control over its height dimension within the layout.                                                                                                                                                                                                     |
| captureWebPointer            | boolean           | Applicable for Web only. When overlaying widgets on top of certain HTML container (e.g. Maps), the mouse click is captured by the HTML container, causing issue interacting with the widget. Use this to capture and maintain the mouse pointer on your widget.                                                                   |
| headingText                  | object            | Set the text style for the heading text.[see properties](#headingtext)                                                                                                                                                                                                                                                            |
| dataText                     | object            | Set the text style for the data item text. [see properties](#headingtext)                                                                                                                                                                                                                                                         |

---

# Icon widget

The Icon Widget enables easy integration of icons from popular libraries like FontAwesome, allowing for seamless customization and visually appealing designs within your application.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/e7c686f5-b8a2-4670-9e6e-8fdb0fea768e)


[List of supported icons](/widgets/icon2.md)


## Properties

| Property | Type   | Description                                                                                                                                                                                                                                                                                                                                                             |
| :------- | :----- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| icon     | string | Icon name from Material Icons or Font Awesome                                                                                                                                                                                                                                                                                                                           |
| library  | [string](/widgets/icon2.md) | Which icon library to use, if there is no value for library then its considered to be default. `fontAwesome` `remix` ( for now only few remix icons are supported but we will support most them soon) You can check list of supported icons [here](/widgets/icon2.md) |
| onTap    | action | Call Ensemble's built-in functions or execute code                                                                                                                                                                                                                                                                                                                      |
| onTapHaptic | enum | The type of haptic to perform when icon is pressed. It should be one of heavyImpact, mediumImpact, lightImpact, selectionClick, and vibrate |
| styles   | object | [See properties](#styles)                                                                                                                                                                                                                                                                                                                                               |

### styles

| Property                     | Type              | Description                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| :--------------------------- | :---------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| expanded                     | boolean           | If the parent is a Row or Column, this flag will stretch this widget in the appropriate direction. (e.g stretch horizontally for parent of type Row)                                                                                                                                                                                                                                                                                                  |
| color                        | integer or string | The color of the icon, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                                  |
| splashColor                  | integer or string | If onTap is defined, this color will show up as a splash effect upon tapping the icon. Note that the effect only happens if backgroundColor is not set. which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| visible                      | boolean           | Toggle a widget visibility on/off. Note that an invisible widget will not occupy UI space, unless the visibilityTransitionDuration is specified.                                                                                                                                                                                                                                                                                                      |
| opacity                      | double                                        | Adjusts the opacity of the widget. Values range from 0 (fully transparent) to 1 (opaque). Default is `1`.                                                                                                                 |
| elevation                    | integer           | The z-coordinate at which to place this material relative to its parent. A non-zero value will show a shadow, with its size relative to the elevation value. Minimum value: 0, Maximum value: 24                                                                                                                                                                                                                                                      |
| elevationShadowColor         | integer or string | The shadow color for the elevation, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                     |
| elevationBorderRadius        | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                                                                                                                                                 |
| alignment                    | string            | The alignment of the widget relative to its parent `topLeft`, `topCenter`, `topRight`, `centerLeft`, `center`, `centerRight`, `bottomLeft`, `bottomCenter`, `bottomRight`.                                                                                                                                                                                                                                                                            |
| borderRadius                 | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                                                                                                                                                 |
| borderColor                  | integer or string | Sets the border color, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                                                                                                                                               |
| borderWidth                  | integer or string | Thickness of the border. Minimum value should be 0.                                                                                                                                                                                                                                                                                                                                                                                                   |
| shadowColor                  | integer or string | Sets the box shadow color starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                                                                                                                                            |
| shadowOffset                 | array             | The values in array define the horizontal and vertical offset of the shadow. Example: if the shadowOffset is set to [2, 4], the shadow will be offset by 2 pixels horizontally and 4 pixels vertically from its original position.                                                                                                                                                                                                                    |
| shadowRadius                 | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                                                                                                                                                 |
| shadowStyle                  | string            | The blur style to apply on the shadow `normal`, `solid`, `outer`, `inner`                                                                                                                                                                                                                                                                                                                                                                             |
| stackPositionTop             | integer           | The distance of the child's top edge from the top of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                                                                                                                                         |
| stackPositionBottom          | integer           | The distance that the child's bottom edge from the bottom of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                                                                                                                                 |
| stackPositionLeft            | integer           | The distance that the child's left edge from the left of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                                                                                                                                     |
| stackPositionRight           | integer           | The distance that the child's right edge from the right of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                                                                                                                                   |
| captureWebPointer            | boolean           | Applicable for Web only. When overlaying widgets on top of certain HTML container (e.g. Maps), the mouse click is captured by the HTML container, causing issue interacting with the widget. Use this to capture and maintain the mouse pointer on your widget.                                                                                                                                                                                       |
| margin                       | string or integer | Margin with CSS-style notation                                                                                                                                                                                                                                                                                                                                                                                                                        |
| padding                      | string or integer | Padding with CSS-style value                                                                                                                                                                                                                                                                                                                                                                                                                          |
| size                         | integer           | Defines the dimensions or magnitude of an element, allowing control over its overall size within the layout.                                                                                                                                                                                                                                                                                                                                          |
| visibilityTransitionDuration | integer           | Specify the duration in seconds when a widget animates between visible and not visible state. Note that setting this value will cause the widget to still occupy the UI space even when it is not visible.                                                                                                                                                                                                                                            |
| visible                      | boolean           | Toggle a widget visibility on/off. Note that an invisible widget will not occupy UI space, unless the visibilityTransitionDuration is specified.                                                                                                                                                                                                                                                                                                      |
| backgroundImage              | object            | Background image of the box. [see properties](#stylesbackgroundImage)                                                                                                                                                                                                                                                                                                                                                                                 |
| backgroundGradient           | object            | Background gradient of the box [see properties ](#stylesbackgroundGradient)                                                                                                                                                                                                                                                                                                                                                                           |
| backgroundColor              | integer or string | Background color of the box. which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                            |

### styles.backgroundGradient

| Property | Type   | Description                                                                                                                                                                                    |
| :------- | :----- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| colors   | array  | The list of colors used for the gradient. Colors can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. |
| start    | string | The starting position of the gradient                                                                                                                                                          |
| end      | string | The ending position of the gradient                                                                                                                                                            |

### styles.backgroundImage

| Property  | Type   | Description                                                                                                                                        |
| :-------- | :----- | :------------------------------------------------------------------------------------------------------------------------------------------------- |
| source    | string | The Image URL to fill the background                                                                                                               |
| fit       | string | How to fit the image within our width/height or our parent (if dimension is not specified) . [see options](#fit-options-for-stylesbackgroundimage) |
| alignment | string | Alignment of the background image                                                                                                                  |

#### Fit options for styles.backgroundImage

| Option    | Description                                                                                         |
| :-------- | :-------------------------------------------------------------------------------------------------- |
| fill      | Stretch our image to fill the dimension, and distorting the aspect ratio if needed                  |
| contain   | Scale the image such that the entire image is contained within our dimension                        |
| cover     | Scale the image to fill our dimension, clipping the image as needed                                 |
| fitWidth  | Scale the image to fit the width, and clipping the height if needed                                 |
| fitHeight | Scale the image to fit the height, and clipping the width if needed                                 |
| none      | Center-Align the original image size, clipping the content if needed                                |
| scaleDown | Center-Align the image and only scale down to fit. Image will not be scaled up to bigger dimension. |

---

# Finding supported icons and their library

3 icon libaries
Remix, Default, fontAwesome

## **Remix Library**

```yaml
- Icon:
    name: account_circle_line
    library: remix
```

See all the Remix Icons from here: [Remix Library](https://studio.ensembleui.com/preview/index.html?appId=e24402cb-75e2-404c-866c-29e6c3dd7992&screenId=0o5HzVJWvnkAGxlZtCcV&showAction=false&devicePreview=true&instantPreview=true)

| Icon Name            |
| -------------------- |
| account_circle_line |
| add_circle_line |
| arrow_down_s_line |
| verified_badge_fill |
| verified_badge_line |



## **Default Library**

Specifying the library is not required when using default.

```yaml
- Icon:
    name: alarm
    library: default
```

See all the default Icons from here: [Material Library](https://studio.ensembleui.com/preview/index.html?appId=e24402cb-75e2-404c-866c-29e6c3dd7992&screenId=zZMFKXg1UAOaIGPJ2Y5S&showAction=false&devicePreview=true&instantPreview=true)

| Icon Name                 |
|---------------------------|
| ac_unit                   |
| access_alarm              |
| access_alarms             |
| access_time               |
| accessibility             |
| accessibility_new         |
| accessible                |

## **Font Awesome library**
[Find supported images here!](https://fontawesome.com/search)
```yaml
- Text:
    text: Example 2 using FontAwesome
- Icon:
    name: coffee
    library: fontAwesome
    styles: 
        color: red
```

See all the FontAwesome Icons from here: [FontAwesome Library](https://studio.ensembleui.com/preview/index.html?appId=e24402cb-75e2-404c-866c-29e6c3dd7992&screenId=SfR9shrC1lvBM1Lxvoss&showAction=false&devicePreview=true&instantPreview=true)

| Icon Name                                  |
|----------------------------------------|
| fiveHundredPx                          |
| accessibleIcon                         |
| accusoft                               |
| alignCenter               |
| airbnb                                     |
| addressBook                            |
| solidAddressBook                       |
| addressCard                            |
| solidAddressCard                       |
| applePay                                 |

---


# Image widget

The Image Widget allows you to render images from a URL or [local assets](/extending-ensemble/local-assets). 

You can manage your assets using Ensemble Studio. [See how](/assets)

---

Here's the updated documentation for the `InlineTimePicker` widget with the correct link to the Kitchen Sink:

# InlineTimePicker Widget

The InlineTimePicker widget provides an intuitive, iOS-style time selection interface that allows users to select hours, minutes, and optionally seconds, all within the same view. It is designed to offer a smooth and customizable time-picking experience directly within the interface, without the need for opening a dialog.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/HGdWHF4G23mpkHBV8o3F)

## Key Concepts

- **mode**: Defines the format of the time picker. You can choose between hours and minutes (`hm`), minutes and seconds (`ms`), or hours, minutes, and seconds (`hms`).
- **selectedTime**: Retrieves the current selected time as a formatted string, including hours, minutes, and seconds if applicable.
- **onTimeChanged**: Executes an action when the selected time is changed by the user. This allows developers to perform tasks such as updating other parts of the UI or triggering business logic.
- **minuteInterval**: Sets the interval for minute selection, allowing for customization of the granularity of minute steps.
- **secondInterval**: Sets the interval for second selection, providing control over how precisely seconds can be selected.
- **onTimeChangedHaptic**: Allows the addition of haptic feedback when the time is changed, enhancing the tactile interaction experience for users.
- **initialTime**: Specifies the initial time that the picker will display when it is first rendered.

## Example

Here’s an example of how to use the InlineTimePicker widget in a YAML configuration:

```yaml
View:
  header:
    title: InlineTimePicker
  styles:
    scrollableView: true
  body:
    Column:
      children:
        - InlineTimePicker:
            id: timePicker
            initialTime: "11:44"
            mode: hms
            showHourLabel: false

        - Button:
            label: Get Time
            onTap: |
              //@code
              console.log(timePicker.selectedTime);
```

In this example:
- The `InlineTimePicker` is configured to use the `hms` mode, which allows the selection of hours, minutes, and seconds.
- The `initialTime` is set to `"11:44"`, which is the time the picker will display when first rendered.
- The `showHourLabel` is set to `false`, hiding the hour label from the picker.
- The button logs the selected time in the format `hh:mm:ss a` to the console when pressed.

## Reference
#### Properties

| Property            | Type                                   | Description                                                                                               |
| :------------------ |:---------------------------------------|:----------------------------------------------------------------------------------------------------------|
| mode                | enum | Defines the format of the time picker. Options are `hm` (hours and minutes), `ms` (minutes and seconds), or `hms` (hours, minutes, and seconds). |
| selectedTime        | string | Returns the selected time as a formatted string, including hours, minutes, and seconds if the `hms` mode is used. |
| onTimeChanged       | action | Executes a specified action whenever the time selection changes.                                               |
| minuteInterval      | int | Sets the interval for minute selection (e.g., 1, 5, 10). This determines the steps in which minutes can be selected. |
| secondInterval      | int | Sets the interval for second selection (e.g., 1, 10, 15). This determines the steps in which seconds can be selected. |
| onTimeChangedHaptic | string | Adds haptic feedback when the time is changed, providing a tactile response for the user.                       |
| initialTime         | string | Sets the initial time displayed by the picker when it is first rendered (formatted as `HH:mm`).                 |
| showHourLabel       | bool | Controls whether the hour label is displayed in the time picker.                                                |

## Example Usage
This widget is ideal for scenarios where you want users to pick a specific time within the app, without having to open a new screen or dialog. It is particularly useful in settings such as alarm clocks, event schedulers, or any application that requires precise time input.

### Mode Examples
- **hm (Hours and Minutes)**: Useful for scenarios where second precision is not required, such as setting a meeting time.
- **ms (Minutes and Seconds)**: Ideal for countdowns or timers.
- **hms (Hours, Minutes, and Seconds)**: Provides the full range of time selection, perfect for more detailed scheduling needs.

By customizing the `minuteInterval` and `secondInterval`, developers can control how fine-grained the time selection is, ensuring that users can quickly and accurately select the desired time.

This widget can be fully integrated with other actions and components in your app, offering flexibility and ease of use in time-based interactions.

---

# ListView

The ListView Widget enables the rendering of lists with dynamic and scrollable content, facilitating efficient display and navigation of large datasets within your application.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/w0Wmu9ZMP4csk7IELSx3)

## Properties

| Property          | Type    | Description                                                                                                                                                             |
| :---------------- | :------ | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| item-template     | object  | [See properties](#item-template)                                                                                                                                        |
| children          | array   | List of widgets                                                                                                                                                         |
| onItemTap         | action  | Dispatch when an ListView item is selected/tapped.The event dispatches only when you tap on the item. The index of the item can be retrieved using 'selectedItemIndex'. You can access as this.selectedItemIndex. See example linked above|
| onItemTapHaptic | enum | The type of haptic to perform when item is pressed. It should be one of heavyImpact, mediumImpact, lightImpact, selectionClick, and vibrate |
| selectedItemIndex | integer | Selecting a ListView item gives the index of selected item                                                                                                              |
| onSwipeToRefresh  | action  | Enable swipe to refresh. This will trigger onRefresh action if enabled                                                                                                  |
| styles            | object  | [See properties](#styles)                                                                                                                                               |

### item-template

| Property | Type   | Description                                                        |
| :------- | :----- | :----------------------------------------------------------------- |
| data     | string | Bind to an array of data from an API response or a variable        |
| name     | string | Set the name to reference as you iterate through the array of data |
| template |        | The widget to render for each item                                 |

### styles

| Property                     | Type              | Description                                                                                                                                                                                                                                                                                                                       |
| :--------------------------- | :---------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| expanded                     | boolean           | If the parent is a Row or Column, this flag will stretch this widget in the appropriate direction. (e.g stretch horizontally for parent of type Row)                                                                                                                                                                              |
| showSeparator                | boolean           | Show a separator between the items (default is true).                                                                                                                                                                                                                                                                             |
| separatorColor               | integer or string | Set the color for the separator between items, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                   |
| separatorWidth               | integer           | The thickness of the separator between items                                                                                                                                                                                                                                                                                      |
| separatorPadding             | string or integer | Padding with CSS-style value e.g. padding: 5 20 5 Default 0 0 0                                                                                                                                                                                                                                                                   |
| borderRadius                 | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                             |
| borderColor                  | integer or string | Sets the border color, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                           |
| borderWidth                  | integer           | Thickness of the border. Minimum value should be 0.                                                                                                                                                                                                                                                                               |
| shadowColor                  | integer or string | Sets the box shadow color starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                        |
| shadowOffset                 | array             | The values in array define the horizontal and vertical offset of the shadow. Example: if the shadowOffset is set to [2, 4], the shadow will be offset by 2 pixels horizontally and 4 pixels vertically from its original position.                                                                                                |
| shadowRadius                 | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                             |
| shadowStyle                  | string            | The blur style to apply on the shadow `normal`, `solid`, `outer`, `inner`                                                                                                                                                                                                                                                         |
| stackPositionTop             | integer           | The distance of the child's top edge from the top of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                     |
| stackPositionBottom          | integer           | The distance that the child's bottom edge from the bottom of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                             |
| stackPositionLeft            | integer           | The distance that the child's left edge from the left of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                 |
| stackPositionRight           | integer           | The distance that the child's right edge from the right of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                               |
| captureWebPointer            | boolean           | Applicable for Web only. When overlaying widgets on top of certain HTML container (e.g. Maps), the mouse click is captured by the HTML container, causing issue interacting with the widget. Use this to capture and maintain the mouse pointer on your widget.                                                                   |
| margin                       | string or integer | Margin with CSS-style notation                                                                                                                                                                                                                                                                                                    |
| padding                      | string or integer | Padding with CSS-style value                                                                                                                                                                                                                                                                                                      |
| width                        | integer           | The width property determines the horizontal size of an element, allowing control over its width dimension within the layout.                                                                                                                                                                                                     |
| height                       | integer           | The height property determines the vertical size of an element, allowing control over its height dimension within the layout.                                                                                                                                                                                                     |
| backgroundImage              | object            | Background image of the box. [see properties](#stylesbackgroundImage)                                                                                                                                                                                                                                                             |
| backgroundGradient           | object            | Background gradient of the box [see properties ](#stylesbackgroundGradient)                                                                                                                                                                                                                                                       |
| backgroundColor              | integer or string | Background color of the box. which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`        |
| expanded                     | boolean           | If the parent is a Row or Column, this flag will stretch this widget in the appropriate direction. (e.g. stretch horizontally for parent of type Row)                                                                                                                                                                             |
| visibilityTransitionDuration | number            | Specify the duration in seconds when a widget animates between visible and not visible state. Note that setting this value will cause the widget to still occupy the UI space even when it is not visible.                                                                                                                        |
| elevation                    | integer           | The z-coordinate at which to place this material relative to its parent. A non-zero value will show a shadow, with its size relative to the elevation value. Minimum value: 0, Maximum value: 24                                                                                                                                  |
| elevationShadowColor         | integer or string | The shadow color for the elevation, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| elevationBorderRadius        | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                             |
| alignment                    | string            | The alignment of the widget relative to its parent. `topLeft`, `topCenter`, `topRight`, `centerLeft`, `center`, `centerRight`, `bottomLeft`, `bottomCenter`, `bottomRight`                                                                                                                                                        |
| visible                      | boolean           | Toggle a widget visibility on/off. Note that an invisible widget will not occupy UI space, unless the visibilityTransitionDuration is specified.                                                                                                                                                                                  |
| opacity                      | double                                        | Adjusts the opacity of the widget. Values range from 0 (fully transparent) to 1 (opaque). Default is `1`.                                                                                                                 |
| fontSize                     | integer           | Sets the size of the text.                                                                                                                                                                                                                                                                                                        |
| fontFamily                   | string or object       | Set the font family applicable for all widgets inside this container, see the list of all available font families [here](https://github.com/material-foundation/flutter-packages/blob/main/packages/google_fonts/generator/families_supported). You can specify the fontFamily name directly or specify a different fontFamily for each language, see [Here](../translations.mdx#optionally-configure-different-fontfamily-for-each-language-your-app-supports).                                                                                   |
| gap                          | integer           | The gap between the children in the main direction                                                                                                                                                                                                                                                                                |

---

# LoadingContainer Widget

The LoadingContainer widget is designed to simplify the process of displaying a loading indicator while content is being fetched or processed. It provides a convenient abstraction layer for managing loading states in your app, allowing developers to easily toggle between the loading state and the state where content is available.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/3wNZSfVkdi56zmTtFeBT)

## Key Concepts

- **loadingWidget**: Specify a widget to display while loading content. This can point to a custom widget, such as a column of shapes to represent what the loaded content might look like.
- **widget**: This is the widget to display when content is available.
- **isLoading**: This is typically an expression that returns true or false. When true, the `loadingWidget` is displayed. When false, the `widget` will display.
- **useShimmer**: Enables a shining animation to indicate that the content is loading. The animation can be over a default shimmer or the loadingWidget if specified.
- **shimmerOptions**: A nested object to customize the shimmer effect, including gradient colors, stops, and animation range.

## Example

Typically LoadingContainer is used in combination with an API call so that you can show a loading state while waiting for the API to respond.

```yaml
View:
  header:
    title: "API: Handle loading state"

  body:
    Column:
      styles:
        padding: 24
        gap: 8
      children:
        - Button:
            label: Invoke API
            onTap:
              executeActionGroup:
                actions:
                  - invokeAPI:
                      name: getData
                  - executeCode:
                      body: |
                        content.visible = true

        - LoadingContainer:
            id: content
            visible: false
            isLoading: ${ getData.isLoading }
            widget:
              Text:
                text: Data is ready
            loadingWidget:
              Shape:
                type: rectangle
                styles:
                  backgroundColor: grey
                  width: ${ device.width }
                  borderRadius: 8
                  height: 100
            useShimmer: true
            shimmerProperties:
              gradientColors:
                - 0xFFFF5733
                - 0xFF33FF57
                - 0xFF3357FF
              gradientStops: 
                - 0.0
                - 0.5
                - 1.0
              min: -0.5
              max: 1.5

API:
  getData:
    method: GET
    url: https://httpbin.org/delay/10
```

## Reference
#### Properties

| Property      | Type                                   | Description                                             |
| :------------ |:---------------------------------------|:--------------------------------------------------------|
| isLoading     | bool | Whether to display a loading widget. The default will be empty (without shimmer) or a default loading shimmer, unless a loadingWidget is specified. |
| useShimmer    | bool | A shining animation to designate that the content is loading. The animation can be over a defaults shimmer or the loadingWidget if specified. |
| loadingWidget | object | The widget to render during the loading state (i.e. while isLoading is true).
| widget        | object | The widget to render as the content of this container. |
| shimmerOptions  | object     | A nested object to customize the shimmer effect. Includes the following sub-properties:                         |

#### shimmerOptions
| Property         | Type       | Description                                                                                                     |
| :--------------- |:-----------|:----------------------------------------------------------------------------------------------------------------|
| gradientColors   | list       | A list of colors to be used in the shimmer effect's gradient.                                                    |
| gradientStops    | list       | A list of stops that define the position of each color in the shimmer effect's gradient.                         |
| min              | double     | The minimum value for the shimmer animation's range.                                                            |
| max              | double     | The maximum value for the shimmer animation's range.                                                            |
| shimmerSpeed     | int        | The speed of the shimmer animation in milliseconds.                                                             |
| shimmerEffect    | enum     | The direction of the shimmer effect. Options are `horizontal`, `vertical`, or `diagonal`.                        |
| padding          | double     | The padding around the shimmer effect.                                                                          |
| tileMode          | enum     | The tileMode property in a gradient determines how the gradient repeats or extends beyond its original bounds, offering options like `clamp`, `mirror`, and `repeated` to control the visual effect. effect.                                                                          |
```

---

# Lottie Animation widget

The Lottie Render Widget allows you to effortlessly render Lottie animation files, bringing life and motion to your application with smooth and captivating visual effects.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/576f3004-83e6-429d-b256-628d85e05f7f)

### NOTE
__NOTE:__ *onTap* property works only for native apps (iOS and Android) and web apps. onTap will not work when the web app is compiled with the [HTML renderer](https://docs.flutter.dev/platform-integration/web/renderers) option (i.e. --web-renderer html). Ensemble Studio is compiled with HTML renderer option so the onTap will not work on the studio. However, it should work fine for Ensemble Go (iOS) and Ensemble Preview (Android). 

## Properties

| Property | Type   | Description                               |
| :------- | :----- | :---------------------------------------- |
| source   | string | URL or asset name of the Lottie json file |
| styles   | object | [See properties](#styles)                 |
| onForward | action | Callback which is fired when the animation starts playing in the forward direction |
| onReverse | action | Callback which is fired when the animation starts playing in the reverse direction |
| onComplete | action | Callback which is fired when the animation is completed |
| [onTap](#note) | action | Run a block of code or execute a given action when there is a tap event on lottie widget |
| onStop | action | Callback which is fired when the animation is stopped. This is fired only when animation is stopped or aborted in between. |
| autoPlay | boolean | Whether to automatically start the animation in the forward direction (default true) |
| repeat | boolean | Whether we should repeat the animation (default true) |
| onTapHaptic | enum | The type of haptic to perform when lottie is pressed. It should be one of heavyImpact, mediumImpact, lightImpact, selectionClick, and vibrate |

### styles

| Property                     | Type              | Description                                                                                                                                                                                                                                                                                                                       |
| :--------------------------- | :---------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| expanded                     | boolean           | If the parent is a Row or Column, this flag will stretch this widget in the appropriate direction. (e.g stretch horizontally for parent of type Row)                                                                                                                                                                              |
| fit                          | string            | How to fit the Lottie animation within our width/height or our parent (if dimension is not specified) . [see options](#fit-options-for-stylesbackgroundimage)                                                                                                                                                                     |
| borderRadius                 | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                             |
| borderColor                  | integer or string | Sets the border color, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                           |
| borderWidth                  | integer           | Thickness of the border. Minimum value should be 0.                                                                                                                                                                                                                                                                               |
| shadowColor                  | integer or string | Sets the box shadow color starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                        |
| shadowOffset                 | array             | The values in array define the horizontal and vertical offset of the shadow. Example: if the shadowOffset is set to [2, 4], the shadow will be offset by 2 pixels horizontally and 4 pixels vertically from its original position.                                                                                                |
| shadowRadius                 | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                             |
| shadowStyle                  | string            | The blur style to apply on the shadow `normal`, `solid`, `outer`, `inner`                                                                                                                                                                                                                                                         |
| stackPositionTop             | integer           | The distance of the child's top edge from the top of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                     |
| stackPositionBottom          | integer           | The distance that the child's bottom edge from the bottom of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                             |
| stackPositionLeft            | integer           | The distance that the child's left edge from the left of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                 |
| stackPositionRight           | integer           | The distance that the child's right edge from the right of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                               |
| captureWebPointer            | boolean           | Applicable for Web only. When overlaying widgets on top of certain HTML container (e.g. Maps), the mouse click is captured by the HTML container, causing issue interacting with the widget. Use this to capture and maintain the mouse pointer on your widget.                                                                   |
| margin                       | string or integer | Margin with CSS-style notation                                                                                                                                                                                                                                                                                                    |
| padding                      | string or integer | Padding with CSS-style value                                                                                                                                                                                                                                                                                                      |
| width                        | integer           | The width property determines the horizontal size of an element, allowing control over its width dimension within the layout.                                                                                                                                                                                                     |
| height                       | integer           | The height property determines the vertical size of an element, allowing control over its height dimension within the layout.                                                                                                                                                                                                     |
| backgroundImage              | object            | Background image of the box. [see properties](#stylesbackgroundImage)                                                                                                                                                                                                                                                             |
| backgroundGradient           | object            | Background gradient of the box [see properties ](#stylesbackgroundGradient)                                                                                                                                                                                                                                                       |
| backgroundColor              | integer or string | Background color of the box. which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`        |
| alignment                    | string            | The alignment of the widget relative to its parent. `topLeft`, `topCenter`, `topRight`, `centerLeft`, `center`, `centerRight`, `bottomLeft`, `bottomCenter`, `bottomRight`                                                                                                                                                        |
| visibilityTransitionDuration | number            | Specify the duration in seconds when a widget animates between visible and not visible state. Note that setting this value will cause the widget to still occupy the UI space even when it is not visible.                                                                                                                        |
| elevation                    | integer           | The z-coordinate at which to place this material relative to its parent. A non-zero value will show a shadow, with its size relative to the elevation value. Minimum value: 0, Maximum value: 24                                                                                                                                  |
| elevationShadowColor         | integer or string | The shadow color for the elevation, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| elevationBorderRadius        | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                             |
| visible                      | boolean           | Toggle a widget visibility on/off. Note that an invisible widget will not occupy UI space, unless the visibilityTransitionDuration is specified.                                                                                                                                                                                  |
| opacity                      | double                                        | Adjusts the opacity of the widget. Values range from 0 (fully transparent) to 1 (opaque). Default is `1`.                                                                                                                 |

### styles.backgroundGradient

| Property | Type   | Description                                                                                                                                                                                    |
| :------- | :----- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| colors   | array  | The list of colors used for the gradient. Colors can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. |
| start    | string | The starting position of the gradient                                                                                                                                                          |
| end      | string | The ending position of the gradient                                                                                                                                                            |

### styles.backgroundImage

| Property  | Type   | Description                                                                                                                                        |
| :-------- | :----- | :------------------------------------------------------------------------------------------------------------------------------------------------- |
| source    | string | The Image URL to fill the background                                                                                                               |
| fit       | string | How to fit the image within our width/height or our parent (if dimension is not specified) . [see options](#fit-options-for-stylesbackgroundimage) |
| alignment | string | Alignment of the background image                                                                                                                  |

#### Fit options for styles.backgroundImage

| Option    | Description                                                                                         |
| :-------- | :-------------------------------------------------------------------------------------------------- |
| fill      | Stretch our image to fill the dimension, and distorting the aspect ratio if needed                  |
| contain   | Scale the image such that the entire image is contained within our dimension                        |
| cover     | Scale the image to fill our dimension, clipping the image as needed                                 |
| fitWidth  | Scale the image to fit the width, and clipping the height if needed                                 |
| fitHeight | Scale the image to fit the height, and clipping the width if needed                                 |
| none      | Center-Align the original image size, clipping the content if needed                                |
| scaleDown | Center-Align the image and only scale down to fit. Image will not be scaled up to bigger dimension. |

---

# Map widget

The Map widget enables the display of _location markers_ and _overlays_, providing a dynamic visual representation of geographic data.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/36e52d1a-39c5-4a6b-b064-2be6cfe3cf7b)


## Basic Usage
Map requires a dimension to render. Most parent widget will provide a constraint so Map can stretch to fit. When the parent doesn't provide a size, e.g. Column on the vertical axis, you must provide the dimension on that axis. Below we use a FlexColumn which will consume all available vertical space, and in turn gives Map the complete screen height.

```yaml
View:
  onLoad:
    invokeAPI:
      name: getVenue

  body:
    FlexColumn:
      children:
        - Map:
            styles:
              # zoom to fit all markers
              autoZoom: true
              # position the toolbar
              toolbarAlignment: centerLeft
            markers:
              data: ${getVenue.body.location}
              name: location
              location: ${location.lat} ${location.lng}

API:
  getVenue:
    uri: https://dummyjson.com/users/1
    method: GET
    onResponse: |-
      // modifying the response to add latitute and longitude
      response.body = {
        "location": [{
          "lat": 37.82159,
          "lng": -121.99996
        }]
      };

```

## Using custom markers
Ensemble provides three different ways of customizing markers. You can use any Ensemble icons, use images via URLs or local asset, or define a custom widget to render as a marker.
### Using Ensemble icons (Native only)
Ensemble provides Material, FontAwesome, and Remix icons out of the box, and you can use these icons as markers. This is supported on Native platform only (Web is not currently supported).
The marker's size can be adjusted using the combination of icon's `size`, `iconPadding` (the circular shape around the icon), and `padding` (the space between the inner circular shape and the pin itself).
```yaml
View:
  onLoad:
    invokeAPI:
      name: getVenue
 
  body:
    Map:
      styles:
        autoZoom: true
        autoZoomPadding: 100
      markers:
        data: ${getVenue.body.location} 
        name: location
        location: ${location.lat} ${location.lng}
        marker:
          icon:
            name: home_5_line
            library: remix
        selectedMarker:
          icon:
            name: building_2_line
            library: remix
            backgroundColor: blue
                  
 
API:
  getVenue:
    uri: https://dummyjson.com/users/1
    method: GET
    onResponse: |-
      
      response.body = {
        "location": [{
          "lat": 37.82159,
          "lng": -121.99996
        }, {
          "lat": 37.773972,
          "lng": -122.431297
        }]
      };

```
<img src="public/images/screenshots/map-2.png" alt="Screenshot" width="450">

### Using Images
You can use images as markers by providing a URL or local asset. To further fine-tune the marker dimension, use `resizedWidth` or `resizedHeight`, but avoid using both to maintain the aspect ratio.
```yaml
Map:
  styles:
    autoZoom: true
    autoZoomPadding: 100
  markers:
    data: ${getVenue.body.location}
    name: location
    location: ${location.lat} ${location.lng}
    marker:
      image:
        source: <URL or local asset>
        resizedWidth: 40
```

### Using custom widget (Native only)
You can use a custom widget to render as a marker. This will only supported on Native platform.
```yaml
View:
  onLoad:
    invokeAPI:
      name: getVenue
 
  body:
    Map:
      styles:
        autoZoom: true
        autoZoomPadding: 100
      markers:
        data: ${getVenue.body.items} 
        name: item
        location: ${item.lat} ${item.lng}
        marker:
          widget:
            Text:
              text: ${item.city}
              styles:
                padding: 5 10
                borderColor: blue
                backgroundColor: white
                borderRadius: 100
                textStyle:
                  color: black
                  
 
API:
  getVenue:
    uri: https://dummyjson.com/users/1
    method: GET
    onResponse: |-

      response.body = {
        "items": [{
          "lat": 37.82159,
          "lng": -121.99996,
          "city": "Danville"
        }, {
          "lat": 37.773972,
          "lng": -122.431297,
          "city": "San Francisco"

        }]
      };
```
<img src="public/images/screenshots/map-3.png" alt="Screenshot" width="450">

## Properties

| Property     | Type   | Description                                                                                                                                        |
| :----------- | :----- | :------------------------------------------------------------------------------------------------------------------------------------------------- |
| fixedMarker   | boolean | Keeps the marker fixed at the center of the map while allowing users to move the map around it. This is useful for selecting a location on the map and get the precise coordinates when users move the map around. |
| draggableMarker | boolean | Allows users to drag the marker around the map. |
| styles       | object | [See properties](#styles)                                                                                                                          |
| onCameraMove | action | Execute an Action when the map's bound has changed. The bound data is available using `event.data.bounds.<southwest/northeast>.<lat/lng>`.         |
| onMapCreated | action | Execute an Action when the map's initial state has been rendered. Note that this may not mean the location and markers (if any) are available yet. |
| markers      | object | [See properties](#markers)                                                                                                                         |

### styles

| Property                         | Type              | Description                                                                                                                                                                                                                                                                                                                                   |
| :------------------------------- | :---------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| expanded                         | boolean           | If the parent is a Row or Column, this flag will stretch this widget in the appropriate direction. (e.g stretch horizontally for parent of type Row)                                                                                                                                                                                          |
| markerWidth                      | integer           | The width of each marker. (default 60)                                                                                                                                                                                                                                                                                                        |
| markerHeight                     | integer           | The height of each marker. (default 30)                                                                                                                                                                                                                                                                                                       |
| elevation                        | integer           | The z-coordinate at which to place this material relative to its parent. A non-zero value will show a shadow, with its size relative to the elevation value. Minimum value: 0, Maximum value: 24                                                                                                                                              |
| elevationShadowColor             | integer or string | The shadow color for the elevation, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`             |
| elevationBorderRadius            | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                                         |
| alignment                        | string            | The alignment of the widget relative to its parent. `topLeft`, `topCenter`, `topRight`, `centerLeft`, `center`, `centerRight`, `bottomLeft`, `bottomCenter`, `bottomRight`.                                                                                                                                                                   |
| stackPositionTop                 | integer           | The distance of the child's top edge from the top of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                                 |
| stackPositionBottom              | integer           | The distance that the child's bottom edge from the bottom of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                         |
| stackPositionLeft                | integer           | The distance that the child's left edge from the left of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                             |
| stackPositionRight               | integer           | The distance that the child's right edge from the right of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                           |
| visibilityTransitionDuration     | integer           | Specify the duration in seconds when a widget animates between visible and not visible state. Note that setting this value will cause the widget to still occupy the UI space even when it is not visible.                                                                                                                                    |
| visible                          | boolean           | Toggle a widget visibility on/off. Note that an invisible widget will not occupy UI space, unless the visibilityTransitionDuration is specified.                                                                                                                                                                                              |
| opacity                      | double                                        | Adjusts the opacity of the widget. Values range from 0 (fully transparent) to 1 (opaque). Default is `1`.                                                                                                                 |
| captureWebPointer                | boolean           | Applicable for Web only. When overlaying widgets on top of certain HTML container (e.g. Maps), the mouse click is captured by the HTML container, causing issue interacting with the widget. Use this to capture and maintain the mouse pointer on your widget.                                                                               |
| width                            | integer           | The width property determines the horizontal size of an element, allowing control over its width dimension within the layout.                                                                                                                                                                                                                 |
| height                           | integer           | The height property determines the vertical size of an element, allowing control over its height dimension within the layout.                                                                                                                                                                                                                 |
| autoZoom                         | boolean           | Automatically zoom the maps to show all the markers (and optionally the current location). Default True.                                                                                                                                                                                                                                      |
| autoZoomPadding                  | integer           | Adjusts the padding around map elements automatically, ensuring a visually balanced and optimized display within the Maps widget.                                                                                                                                                                                                             |
| locationEnabled                  | boolean           | Enables the use of location services, allowing the Maps widget to access and display the user's current location on the map.                                                                                                                                                                                                                  |
| includeCurrentLocationInAutoZoom | boolean           | Adjusts the automatic zoom level of the map to include the user's current location within the visible area of the Maps widget.                                                                                                                                                                                                                |
| showToolbar                      | boolean           | Show the Map toolbar that contains some convenience controls. You can also turn each individual controls on or off.                                                                                                                                                                                                                           |
| showMapTypesButton               | boolean           | Toggle between the different map types. (default true)                                                                                                                                                                                                                                                                                        |
| showLocationButton               | boolean           | Show the button that animates to the user's location. (default true)                                                                                                                                                                                                                                                                          |
| showZoomButtons                  | boolean           | Applicable on Web only. Show the zoom in/out controls on the map. (default true on Web)                                                                                                                                                                                                                                                       |
| rotateEnabled                    | boolean           | Enables the ability to rotate the map view within the Maps widget, allowing users to change the orientation for a customized viewing experience.                                                                                                                                                                                              |
| scrollEnabled                    | boolean           | Allows users to scroll and pan the map within the Maps widget, providing interactive navigation and exploration of the map content.                                                                                                                                                                                                           |
| tiltEnabled                      | boolean           | Enables users to adjust the tilt or perspective of the map view for a dynamic and immersive experience.                                                                                                                                                                                                                                       |
| zoomEnabled                      | boolean           | Enables users to zoom in and out on the map within the Maps widget for closer or wider views.                                                                                                                                                                                                                                                 |
| toolbarMargin                    | integer/ string   | The margin around the toolbar. (default 10 on all sides)                                                                                                                                                                                                                                                                                      |
| toolbarAlignment                 | string            | How to align the toolbar within the map. (default bottom right). If both positioning (top/bottom/left/right) and alignment are used, positions will be applied first, then alignment within the available constraint. `topLeft`, `topCenter`, `topRight`, `centerLeft`, `center`, `centerRight`, `bottomLeft`, `bottomCenter`, `bottomRight`. |
| toolbarTop                       | integer           | Offset the toolbar from the top edge of the map                                                                                                                                                                                                                                                                                               |
| toolbarBottom                    | integer           | Offset the toolbar from the bottom edge of the map                                                                                                                                                                                                                                                                                            |
| toolbarLeft                      | integer           | Offset the toolbar from the left edge of the map                                                                                                                                                                                                                                                                                              |
| toolbarRight                     | integer           | Offset the toolbar from the right edge of the map                                                                                                                                                                                                                                                                                             |
| mapType                          | String            | Allows users to select different map types `normal`, `satellite`, `terrain`, `hybrid`                                                                                                                                                                                                                                                         |
| initialCameraPosition            | Object            | Represents the initial camera position on the map. [see properties](#stylesinitialcameraposition)                                                                                                                                                                                                                                             |
| markerOverlayMaxWidth            | Integer           | Specifies the maximum width of the marker overlay                                                                                                                                                                                                                                                                                             |
| markerOverlayMaxHeight           | Integer           | Sets the maximum height of the marker overlay                                                                                                                                                                                                                                                                                                 |
| scrollableMarkerOverlay          | Boolean           | Determines if swiping left/right within the overlay will navigate to next/previous marker                                                                                                                                                                                                                                                     |
| dismissibleMarkerOverlay         | Boolean           | Enables swiping down to close the overlay                                                                                                                                                                                                                                                                                                     |
| autoSelect                       | Boolean           | Automatically selects a marker when the markers are updated                                                                                                                                                                                                                                                                                   |

### markers

| Property         | Type   | Description                                                                                                                                          |
| :--------------- | :----- | :--------------------------------------------------------------------------------------------------------------------------------------------------- |
| data             | String | Binds the marker list to the data                                                                                                                    |
| name             | String | Gives a name to the marker                                                                                                                           |
| location         | object | Specifies the geographic coordinates (latitude and longitude) for the Maps widget to display a specific location. [see properties](#markerslocation) |
| lat              | Number | Latitude coordinate of the marker                                                                                                                    |
| lng              | Number | Longitude coordinate of the marker                                                                                                                   |
| marker           | object | [see properties](#markersmarker)                                                                                                                     |
| source           | string | The marker's image asset (URL or local asset)                                                                                                        |
| selectedMarker   | object | [see properties](#selectedMarker)                                                                                                                    |
| source           | string | The marker's image asset when selected (URL or local asset)                                                                                          |
| overlayWidget    | Widget | The widget to render as an overlay over the maps. Use this to convey more detail info for each marker.                                               |
| onMarkerTap      | action | Action to execute when tapping on the marker                                                                                                         |
| onMarkersUpdated | action | Action to execute when the markers have been updated and rendered                                                                                    |

##### markers.location

| Property | Type   | Description                 |
| -------- | ------ | --------------------------- |
| lat      | Number | The latitude of the marker  |
| lng      | Number | The longitude of the marker |

##### markers.marker

| Property | Type   | Description                                                           |
| :------- | :----- | :-------------------------------------------------------------------- |
| source   | string | The marker's image asset. This can come from URL or from local asset. |

##### markers.selectedMarker

| Property | Type   | Description                                                                         |
| :------- | :----- | :---------------------------------------------------------------------------------- |
| source   | string | The marker's image asset when selected. This can come from URL or from local asset. |

##### styles.initialCameraPosition

| Property | Type    | Description          |
| -------- | ------- | -------------------- |
| lat      | Number  | Latitude coordinate  |
| lng      | Number  | Longitude coordinate |
| zoom     | Integer | Zoom level           |

---

# Markdown widget

The Markdown Render Widget empowers you to effortlessly render Markdown text, transforming it into beautifully formatted and structured content for your application.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/6b6d9c3d-359b-4768-99a5-3f087a64387c)

## Properties

| Property | Type   | Description                  |
| :------- | :----- | :--------------------------- |
| text     | string | Your text in markdown format |
| styles   | object | [See properties](#styles)    |

### styles

| Property                     | Type              | Description                                                                                                                                                                                                                                                                                                                       |
| :--------------------------- | :---------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| textStyle                    | string            | An opaque object that determines the size, color, and decoration of text. Styling for regular text. Default to theme's bodyMedium styling. [See properties](#styleslinkstyle)                                                                                                                                                     |
| linkStyle                    | object            | Styling for the url. [See properties](#styleslinkstyle)                                                                                                                                                                                                                                                                           |
| expanded                     | boolean           | If the parent is a Row or Column, this flag will stretch this widget in the appropriate direction. (e.g stretch horizontally for parent of type Row)                                                                                                                                                                              |
| stackPositionTop             | integer           | The distance of the child's top edge from the top of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                     |
| stackPositionBottom          | integer           | The distance that the child's bottom edge from the bottom of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                             |
| stackPositionLeft            | integer           | The distance that the child's left edge from the left of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                 |
| stackPositionRight           | integer           | The distance that the child's right edge from the right of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                               |
| elevation                    | integer           | The z-coordinate at which to place this material relative to its parent. A non-zero value will show a shadow, with its size relative to the elevation value. Minimum value: 0, Maximum value: 24                                                                                                                                  |
| elevationShadowColor         | integer or string | The shadow color for the elevation, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| elevationBorderRadius        | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                             |
| alignment                    | string            | The alignment of the widget relative to its parent. `topLeft`, `topCenter`, `topRight`, `centerLeft`, `center`, `centerRight`, `bottomLeft`, `bottomCenter`, `bottomRight`                                                                                                                                                        |
| captureWebPointer            | boolean           | Applicable for Web only. When overlaying widgets on top of certain HTML container (e.g. Maps), the mouse click is captured by the HTML container, causing issue interacting with the widget. Use this to capture and maintain the mouse pointer on your widget.                                                                   |
| visibilityTransitionDuration | number            | Specify the duration in seconds when a widget animates between visible and not visible state. Note that setting this value will cause the widget to still occupy the UI space even when it is not visible.                                                                                                                        |
| visible                      | boolean           | Toggle a widget visibility on/off. Note that an invisible widget will not occupy UI space, unless the visibilityTransitionDuration is specified.                                                                                                                                                                                  |
| opacity                      | double                                        | Adjusts the opacity of the widget. Values range from 0 (fully transparent) to 1 (opaque). Default is `1`.                                                                                                                 |

#### styles.linkStyle

| Property   | Type              | Description                                                                                                                                                                                                                                                                                                                         |
| :--------- | :---------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| fontSize   | integer           | Sets the size of the text.                                                                                                                                                                                                                                                                                                          |
| color      | integer or string | The color specification for the text, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| decoration | string            | A linear decoration to draw near the text`none`,`lineThrough`,`underlines`,`overline`                                                                                                                                                                                                                                               |

---

# Multi-Child Layout widgets

## Options for Multi-Child Layout widgets

1. Column:
    Ensemble's Column widget displays its children in a vertical array, similar to Flutter.
    Use Column when you want to arrange widgets vertically.
    The Column widget doesn't scroll. If you need scrolling functionality, consider using ListView.
    If there's only one child, consider using Align or Center to position it.

2. Flow:
    Ensemble's Flow widget is designed to flow its children horizontally or vertically based on available space.
    The Flow container is useful for creating dynamic layouts with elements that automatically wrap to the next line when they exceed the available width

3. GridView
    Ensemble's GridView widget is useful for creating a 2D array of widgets.
    Use GridView when you need a grid layout.

4. Flex:
    Ensemble's Flex widget is similar to Flutter's Flex and is used to create flexible layouts.
    Use Flex when you need 
        - Flexible arrangements of widgets.
        - To switch between row and column layouts based on certain conditions, such as device screen size.

5. Row:
    Ensemble's Row widget arranges its children in a horizontal array.
    Use Row when you want to arrange widgets horizontally.
    Utilize mainAxis property to control the positioning of children along the main axis (horizontal).
    Use crossAxis property to align children along the cross axis.
    Employ expanded: true property for a child widget when you want it to take as much space as possible.

6. ListView:
    Ensemble's ListView widget is suitable for scrolling lists of widgets.
    Use ListView when you need a scrollable list.
    Implement pull-to-refresh functionality for updating the list content from an API.


## Examples:

### 1. Column:
**Column Layout**
```yaml
    Column:
        styles:
            gap: 16
            padding: 24
        children:
            - Text:
                text: Column lays out its children vertically.
            - Column:
                styles:
                gap: 4
                children:
                - Smile
                - Beam
            - Divider
```

### 2. Flow
**Flow with Simple Tags**
```yaml
    Flow:
    styles:
        gap: 8
        lineGap: 8
    children:
        - SimpleTag:
            inputs:
            label: Travel
        - SimpleTag:
            inputs:
            label: Nature
```

**Flow with Bold Tags and Background Images**
```yaml
    Flow:
    styles:
        gap: 8
        lineGap: 8
    children:
        - BoldTag:
            inputs:
            label: Travel
            background: https://.../flow_travel.png
        - BoldTag:
            inputs:
            label: Nature
            background: https://.../flow_nature.png
```

### 3. GridView:
**Grid View with response**
```yaml
    GridView:
        styles:
            height: 400
            horizontalTileCount: 2
            itemHeight: 128
        item-template:
            data: ${getPeople.body.results}
            name: person
            template: PersonCard
```

### 4. Flex:
**Flex Direction Switching**
```yaml
    Flex:
    styles:
        direction: '${device.width > 400 ? "horizontal" : "vertical"}'
        gap: 4
    children:
        - Image:
            source: https://images.unsplash.com/photo-1550684848-86a5d8727436
            styles: { width: 90, height: 90, borderRadius: 90, fit: cover }
        - Image:
            source: https://images.unsplash.com/photo-1550684848-fac1c5b4e853
            styles: { width: 90, height: 90, borderRadius: 90, fit: cover }
        - Image:
            source: https://images.unsplash.com/photo-1551651057-f3f83700a831
            styles: { width: 90, height: 90, borderRadius: 90, fit: cover }
```

### 5. Row:
**Row Layout**
```yaml
    Row:
    styles:
        gap: 8
    children:
        - Smile
        - Beam
        - Wink
```

**Main Axis Positioning**
```yaml
    Row:
    styles:
        mainAxis: spaceBetween
        backgroundColor: 0xFFCCDFE5
        padding: 4
        borderRadius: 4
    children:
        - Smile
        - Beam
``` 
Similar examples for `mainAxis: spaceAround`, `mainAxis: center`, and `mainAxis: end`

**Child Widget Expansion**
```yaml
    Row:
    styles:
        gap: 8
    children:
        - Button:
            label: First button
            styles:
            expanded: true
        - Button:
            label: Second button
```

### 6. ListView:
**ListView**
```yaml
    ListView:
    id: listView
    onPullToRefresh:
        invokeAPI:
        name: getPeople
    onItemTap:
        navigateScreen:
        name: ListView - Detail Page
        inputs:
            doc_type: ${getPeople.body.users[this.selectedItemIndex]}
    styles: { expanded: true }
    item-template:
        data: ${getPeople.body.users}
        name: users
        template:
        MyRow:
            inputs:
            p: ${users}
```

---

# PasswordInput widget

The PasswordInput Widget enables the rendering of secure password input fields, ensuring that user-entered passwords remain hidden and protected within your application for enhanced security and privacy.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/218fa244-f0cd-4d17-91e6-7c099bbedede)

## Properties

| Property        | Type    | Description                                                                                                                                                                                              |
| :-------------- | :------ | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id              | string  | ID to be referenced later                                                                                                                                                                                |
| maxWidth        | integer | The max width of this Input widget (default 700)                                                                                                                                                         |
| label           | string  | Label for your widget                                                                                                                                                                                    |
| labelHint       | string  | Hint text on your label                                                                                                                                                                                  |
| hintText        | string  | Hint text explaining your widget                                                                                                                                                                         |
| required        | boolean | Whether the field is required                                                                                                                                                                            |
| enabled         | boolean | Enables or disables the interactivity and input functionality of the widget                                                                                                                              |
| icon            | object  | [See properties](#icon)                                                                                                                                                                                  |
| onChange        |         | Call Ensemble's built-in functions or execute code when the input changes. Note for free-form text input, this event only dispatches if the text changes AND the focus is lost (e.g. clicking on button) |
| onFocusReceived | action  | Execute an Ensemble action when the field receives focus                                                                                                                                                 |
| onFocusLost     | action  | Execute an Ensemble action when the field loses focus                                                                                                                                                    |
| styles          | object  | [See properties](#styles)                                                                                                                                                                                |
| validator       | object  | [See properties](#validator)                                                                                                                                                                             |
| onKeyPress      | action  | On every keystroke, call Ensemble's built-in functions or execute code                                                                                                                                   |
| keyboardAction  | string  | Specify the action key on native device's soft keyboard                                                                                                                                                  |
| obscureToggle   | boolean | enable the toggling between plain and obscure text.                                                                                                                                                      |
| obscureTextWidget   | widget | Custom widget to replace the default visibility toggle icon for password fields. When provided, this widget will be used instead of the standard visibility icon to toggle between showing and hiding the text.                                                                                                                                                       |
| readOnly                | boolean                                        | When it is true, the text cannot be modified by any shortcut or keyboard operation.                 |
| selectable              | boolean                                        | Setting this to true will enable features such as long-pressing the TextField to select text and show the cut/copy/paste menu, and tapping to move the text caret text.                                                                                                                                                                                |
| maxLength | integer | The maximum number of characters allowed in the text field. If set, the text field will restrict the input to this number of characters. |
| maxLengthEnforcement | string | none, enforced, truncateAfterCompositionEnds. [see properties](#maxlengthenforcement) |

### icon

| Property | Type              | Description                                                                                                                                                                                                                                                                                                                         |
| :------- | :---------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| name     | string            | The name of the icon                                                                                                                                                                                                                                                                                                                |
| library  | string            | Which icon library to use.                                                                                                                                                                                                                                                                                                          |
| color    | integer or string | The color specification for the text, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| size     | integer           | Defines the dimensions or magnitude of an element, allowing control over its overall size within the layout.                                                                                                                                                                                                                        |

### styles

| Property                     | Type              | Description                                                                                                                                                                                                                                                                                                                                   |
| :--------------------------- | :---------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| expanded                     | boolean           | If the parent is a Row or Column, this flag will stretch this widget in the appropriate direction. (e.g stretch horizontally for parent of type Row)                                                                                                                                                                                          |
| contentPadding               | integer or string | Padding around your input content with CSS-style notation e.g. margin: 5 20 5                                                                                                                                                                                                                                                                 |
| fillColor                    | integer or string | The fill color for this input fields. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                               |
| borderRadius                 | integer           | The border radius for this Input widget. This property can be defined in the theme to apply to all Input widgets.                                                                                                                                                                                                                             |
| borderWidth                  | integer           | The border width for this Input widget. This property can be defined in the theme to apply to all Input widgets.                                                                                                                                                                                                                              |
| borderColor                  | integer or string | Sets the border color, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                                       |
| errorBorderColor             | integer or string | The border color when there are errors on this input field. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                         |
| focusedBorderColor           | integer or string | The border color when this input field is receiving focus. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                          |
| focusedErrorBorderColor      | integer or string | The border color of this input field when it is receiving focus in its error state. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| disabledBorderColor          | integer or string | The border color when this input field is disabled. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                 |
| variant                      | string            | Select a pre-defined look and feel for this Input widget. This property can be defined in the theme to apply to all Input widgets. [see properties](#options-for-stylesvariant)                                                                                                                                                               |
| visible                      | boolean           | Toggle a widget visibility on/off. Note that an invisible widget will not occupy UI space, unless the visibilityTransitionDuration is specified.                                                                                                                                                                                              |
| visibilityTransitionDuration | number            | Specify the duration in seconds when a widget animates between visible and not visible state. Note that setting this value will cause the widget to still occupy the UI space even when it is not visible.                                                                                                                                    |
| opacity                      | double                                        | Adjusts the opacity of the widget. Values range from 0 (fully transparent) to 1 (opaque). Default is `1`.                                                                                                                 |
| stackPositionTop             | integer           | The distance of the child's top edge from the top of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                                 |
| stackPositionBottom          | integer           | The distance that the child's bottom edge from the bottom of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                         |
| stackPositionLeft            | integer           | The distance that the child's left edge from the left of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                             |
| stackPositionRight           | integer           | The distance that the child's right edge from the right of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                           |
| alignment                    | string            | The alignment of the widget relative to its parent. `topLeft`, `topCenter`, `topRight`, `centerLeft`, `center`, `centerRight`, `bottomLeft`, `bottomCenter`, `bottomRight`                                                                                                                                                                    |
| elevation                    | integer           | The z-coordinate at which to place this material relative to its parent. A non-zero value will show a shadow, with its size relative to the elevation value. Minimum value: 0, Maximum value: 24                                                                                                                                              |
| elevationShadowColor         | integer or string | The shadow color for the elevation, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`             |
| elevationBorderRadius        | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                                         |
| captureWebPointer            | boolean           | Applicable for Web only. When overlaying widgets on top of certain HTML container (e.g. Maps), the mouse click is captured by the HTML container, causing issue interacting with the widget. Use this to capture and maintain the mouse pointer on your widget.                                                                               |
| fontSize                     | integer           | Sets the size of the text.                                                                                                                                                                                                                                                                                                                    |

### validator

| Property   | Type    | Description                                                                            |
| :--------- | :------ | :------------------------------------------------------------------------------------- |
| minLength  | integer | The minimum number of characters                                                       |
| maxLength  | integer | The maximum number of characters                                                       |
| regex      | string  | The Regular Expression the input will need to match                                    |
| regexError | string  | The customized error message to show when the input does not match the provided regex. |

#### options for styles.variant

| Option    | Description                                                                                                          |
| :-------- | :------------------------------------------------------------------------------------------------------------------- |
| box       | draw a Box border around this input widget. This property can be defined in the theme to apply to all Input widgets. |
| underline | draw an Underline below this input widget. This property can be defined in the theme to apply to all Input widgets.  |

### MaxLengthEnforcement

| Property   | Type    | Description                                                                            |
| :--------- | :------ | :------------------------------------------------------------------------------------- |
| none       | string  | No enforcement applied to the editing value. It's possible to exceed the maxLength.    |
| enforced   | string  | Keep the length of the text input from exceeding the max length even when the text has an unfinished composing region.    |
| truncateAfterCompositionEnds  | string  | Users can still input text if the current value is composing even after reaching the max length limit. After composing ends, the value will be truncated. |

---

# Profile Image Widget

The `ProfileImageWithIndicator` widget in Ensemble offers a convenient way to showcase user profile images along with customizable indicator labels.

**Input Parameters**
Required:
1. `image`: URL of profile image to be displayed

Optional:
1. `label`: Content within floating label
2. `labelPosition`: Position of the label, default is topRight. Possible values are topLeft, topCenter, topRight, centerLeft, center, centerRight, bottomLeft, bottomCenter, bottomRight
3. `imageSize`: Image size, default is 90
4. `labelColor`: Color used for the label, default is white
5. `labelBackgroundColor`: Color used for the label background, default is blue

By using these Input Parameters, you can effortlessly create various profile images tailored to your app's design. Below is an example of how to use the public widget `ensemble.ProfileImageWithIndicator`:
```yaml
- ensemble.ProfileImageWithIndicator:
    inputs: 
        label: 4
        image: https://images.pexels.com/photos/733872/pexels-photo-733872.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2
        imageSize: 160
        labelSize: 40
        labelPosition: bottomRight
        labelColor: blue
        labelBackgroundColor: 0xFFDEDEDE
```
Since this widget is globally available, you only need to specify the image input. The example above also showcases optional input parameters for further customization. Simply use `ensemble.ProfileImageWithIndicator` in your app to streamline the integration of profile images with indicator labels.

---

# Progress Indicator

The Progress Indicator Widget facilitates the rendering of visual progress indicators, providing users with visual feedback on the progress of tasks or operations within your application.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/c2c248f2-a289-40d3-acd5-65a1a7f3c5a2)

## Properties

| Property            | Type    | Description                                                                |
| :------------------ | :------ | :------------------------------------------------------------------------- |
| display             | string  |                                                                            |
| countdown           | integer | Show the progress percentage based on the number of seconds specified here |
| onCountdownComplete |         | Execute this Action when the countdown comes to 0                          |
| styles              | object  | [See properties](#styles)                                                  |

### styles

| Property        | Type    | Description                                                                                                                                          |
| :-------------- | :------ | :--------------------------------------------------------------------------------------------------------------------------------------------------- |
| expanded        | boolean | If the parent is a Row or Column, this flag will stretch this widget in the appropriate direction. (e.g stretch horizontally for parent of type Row) |
| backgroundColor |         | Background color, starting with '0xFF' for full opacity e.g 0xFFCCCCCC                                                                               |
| size            | integer | Specifies the width (progress bar) or the diameter (circular progress indicator)                                                                     |
| thickness       | integer | Specifies the thickness of the indicator (for progress bar this is the height)                                                                       |
| color           |         |                                                                                                                                                      |

---

# QRCodeScanner widget

The QR-Code Scanner Widget provides a camera preview for scanning QR codes and returns the decoded data.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/ykDZEs5NKh8WHFdZtM8A)

## Properties

| Property | Type   | Description                      |
| :------- | :----- | :------------------------------- |
| formatsAllowed    | array | Use formatsAllowed to specify which formats needs to be scanned. |
| initialCamera           | string  | Initialize either camera, back or front. `back` `front`                                                                        |
| onInitialized | action | Execute an action once the QRCodeScanner is initialized                                                       |
| onPermissionSet | action | Execute an action with the status of camera permission. Get the status via ```event.data.status```                                                       |
| onReceived | action | Execute an action when it scans and retrieved the data from QRCode. Get the data via ```event.data.data```, format ```event.data.format``` and bytes ```event.data.rawBytes```                                                       |
| styles   | object | [See properties](#styles)        |

### styles

| Property                     | Type              | Description                                                                                                                                                                                                                                                                                                                          |
| :--------------------------- | :---------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| overlayColor                     | integer or string           | The overlay color of the QR code scanner widget                                                                                                                                                                                 |
| cutOutBorderColor                     | integer or string           | The border color of the cutOut area of the QRCodeScanner widget                                                                                                                                                                                 |
| overlayMargin                     | integer           | The margin of the overlay of the QRCodeScanner widget                                                                                                                                                                                 |
| cutOutBorderWidth                  | integer           | Thickness of the cutOut area border.                                                                                                     |
| cutOutBorderLength                  | integer           | Length of the cutOut area border.                                                                                                     |
| cutOutBorderRadius             | integer           | The border radius of the cutOut area widget.                                                                                                     |
| cutOutWidth                    | integer           | The width of the cutOut area widget.                                                                                                     |
| cutOutHeight                   | integer           | The height of the cutOut area widget.                                                                                                     |

### Methods 
| Function | Args |  Description | 
| ---| ---| --- |
|flipCamera() | | It flips the camera from back to front or front to back |
|toggleFlash() | | It turns the flash light ON/OFF |
|pauseCamera() | | It pauses the camera in the QRCodeScanner widget |
|resumeCamera() | | It resumes the camera in the QRCodeScanner widget |

### Box Styles (Inherited)
This widget also inherits these styles

[box](_snippets/box-styles.md ':include')

### Base Styles (Inherited)
This widget also inherits these styles

[base](_snippets/base-styles.md ':include')

---

# QR-Code widget

The QR-Code Render Widget empowers you to effortlessly generate and render QR codes within your application, enabling convenient scanning and information exchange for users.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/f4921ba2-9f3d-4c33-8848-4df29a5e7a4d)

## Properties

| Property | Type   | Description                      |
| :------- | :----- | :------------------------------- |
| value    | string | The data to generate the QR code |
| styles   | object | [See properties](#styles)        |

### styles

| Property                     | Type              | Description                                                                                                                                                                                                                                                                                                                          |
| :--------------------------- | :---------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| expanded                     | boolean           | If the parent is a Row or Column, this flag will stretch this widget in the appropriate direction. (e.g stretch horizontally for parent of type Row)                                                                                                                                                                                 |
| size                         | integer           | Specify the width/height of the QR Code. Default: 160                                                                                                                                                                                                                                                                                |
| color                        | integer or string | Set the color for the QR code drawing, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| borderRadius                 | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                                |
| borderColor                  | integer or string | Sets the border color, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                              |
| borderWidth                  | integer           | Thickness of the border. Minimum value should be 0.                                                                                                                                                                                                                                                                                  |
| shadowColor                  | integer or string | Sets the box shadow color starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                           |
| shadowOffset                 | array             | The values in array define the horizontal and vertical offset of the shadow. Example: if the shadowOffset is set to [2, 4], the shadow will be offset by 2 pixels horizontally and 4 pixels vertically from its original position.                                                                                                   |
| shadowRadius                 | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                                |
| shadowStyle                  | string            | The blur style to apply on the shadow `normal`, `solid`, `outer`, `inner`                                                                                                                                                                                                                                                            |
| stackPositionTop             | integer           | The distance of the child's top edge from the top of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                        |
| stackPositionBottom          | integer           | The distance that the child's bottom edge from the bottom of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                |
| stackPositionLeft            | integer           | The distance that the child's left edge from the left of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                    |
| stackPositionRight           | integer           | The distance that the child's right edge from the right of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                  |
| captureWebPointer            | boolean           | Applicable for Web only. When overlaying widgets on top of certain HTML container (e.g. Maps), the mouse click is captured by the HTML container, causing issue interacting with the widget. Use this to capture and maintain the mouse pointer on your widget.                                                                      |
| margin                       | string or integer | Margin with CSS-style notation                                                                                                                                                                                                                                                                                                       |
| padding                      | string or integer | Padding with CSS-style value                                                                                                                                                                                                                                                                                                         |
| width                        | integer           | The width property determines the horizontal size of an element, allowing control over its width dimension within the layout.                                                                                                                                                                                                        |
| height                       | integer           | The height property determines the vertical size of an element, allowing control over its height dimension within the layout.                                                                                                                                                                                                        |
| backgroundImage              | object            | Background image of the box. [see properties](#stylesbackgroundImage)                                                                                                                                                                                                                                                                |
| backgroundGradient           | object            | Background gradient of the box [see properties ](#stylesbackgroundGradient)                                                                                                                                                                                                                                                          |
| backgroundColor              | integer or string | Background color of the box. which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`           |
| alignment                    | string            | The alignment of the widget relative to its parent. `topLeft`, `topCenter`, `topRight`, `centerLeft`, `center`, `centerRight`, `bottomLeft`, `bottomCenter`, `bottomRight`                                                                                                                                                           |
| visibilityTransitionDuration | number            | Specify the duration in seconds when a widget animates between visible and not visible state. Note that setting this value will cause the widget to still occupy the UI space even when it is not visible.                                                                                                                           |
| elevation                    | integer           | The z-coordinate at which to place this material relative to its parent. A non-zero value will show a shadow, with its size relative to the elevation value. Minimum value: 0, Maximum value: 24                                                                                                                                     |
| elevationShadowColor         | integer or string | The shadow color for the elevation, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`    |
| elevationBorderRadius        | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                                |
| visible                      | boolean           | Toggle a widget visibility on/off. Note that an invisible widget will not occupy UI space, unless the visibilityTransitionDuration is specified.                                                                                                                                                                                     |
| opacity                      | double                                        | Adjusts the opacity of the widget. Values range from 0 (fully transparent) to 1 (opaque). Default is `1`.                                                                                                                 |

### styles.backgroundGradient

| Property | Type   | Description                                                                                                                                                                                    |
| :------- | :----- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| colors   | array  | The list of colors used for the gradient. Colors can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. |
| start    | string | The starting position of the gradient                                                                                                                                                          |
| end      | string | The ending position of the gradient                                                                                                                                                            |

### styles.backgroundImage

| Property  | Type   | Description                                                                                                                                        |
| :-------- | :----- | :------------------------------------------------------------------------------------------------------------------------------------------------- |
| source    | string | The Image URL to fill the background                                                                                                               |
| fit       | string | How to fit the image within our width/height or our parent (if dimension is not specified) . [see options](#fit-options-for-stylesbackgroundimage) |
| alignment | string | Alignment of the background image                                                                                                                  |

#### Fit options for styles.backgroundImage

| Option    | Description                                                                                         |
| :-------- | :-------------------------------------------------------------------------------------------------- |
| fill      | Stretch our image to fill the dimension, and distorting the aspect ratio if needed                  |
| contain   | Scale the image such that the entire image is contained within our dimension                        |
| cover     | Scale the image to fill our dimension, clipping the image as needed                                 |
| fitWidth  | Scale the image to fit the width, and clipping the height if needed                                 |
| fitHeight | Scale the image to fit the height, and clipping the width if needed                                 |
| none      | Center-Align the original image size, clipping the content if needed                                |
| scaleDown | Center-Align the image and only scale down to fit. Image will not be scaled up to bigger dimension. |

---


# RadioButton

RadioButton widget renders a simple Radio button, which can be grouped with other RadioButtons anywhere on the screen with the groupId.

---


# RadioGroup

The RadioGroup widget renders a group of radios together in a few pre-determined layouts.

---

# ensemble.RatingStars widget

The `ensemble.RatingStars` widget in Ensemble provides an intuitive solution for displaying star ratings with customizable attributes. It is fixed at 5 stars.


[Kitchen Sink example](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/Ywo5qN6fAbx0pC3l5aLZ)


**Input Parameters**
Required:
1. `rating`: An integer or double between 1 and 5, indicating the number of stars to be filled

Optional:
1. `starColor`: The color used to fill the stars, default is 0xFFF5970A
2. `starBackgroundColor`: The color used as the background of the box containing each star, default is 0xFFFFFAEB
3. `size`: An integer to set the size of each star, default is 16
4. `starGaps`: An integer to set the gap between stars, default is 4
5. `starPadding`: An integer to set the padding for each star, default is 2
6. `starBorderRadius`: An integer to set the gap between stars, default is 2

By utilizing these Input Parameters, you can customize the appearance of the rating stars by adjusting these parameters tailored to your app's design. Below is an example of how to use the public widget `RatingStars`:
```yaml
- ensemble.RatingStars:
    inputs: 
      rating: 3
      size: 24
      starColor: white
      starBackgroundColor: red
```
Since this widget is globally available, you only need to specify the rating input. The example above also showcases optional input parameters for further customization. Incorporate the `ensemble.RatingStars` widget in your app to enhance the visual representation of rating stars.

---

# Row

Row is designed to arrange child widgets horizontally, where the intrinsic sizes of child widgets dictate the layout's appearance.

## Best Practices

- Use Row to lay out the children horizontally from left to right. Enable scrollable if the children might exceed the available space.
- **Avoid** using child widgets with no width constraint or sized itself to the parent (e.g. form inputs such as TextInput) inside the Row. [FlexRow](/widgets/flex-row.md) may be a better choice in this case.
- Avoid using nested scrollable Row for better UX.

## Key Concepts
- **mainAxisSize**: By default the width of a `Row` is determined by its parent's width constraint (if available), otherwise it will be the combined width of its children. You may force the Row to do the later (size itself to the children's combined width) with `mainAxisSize=min`.
- **mainAxis**: This property controls the horizontal alignment of the children within the Row. This property is useful only when the mainAxisSize is set to max (default) as there are available spaces to align the children.
- **crossAxis**: This property controls the vertical alignment of the children within the Row.
- **scrollable**: Enable horizontal scrolling when the child widgets grow wider than the available space.

## Caveats
- **Row height**: Note that setting a height for a Row acts more like a maximum height constraint. The Row determines its actual height based on the tallest child, aligning the other children along the vertical cross-axis according to this height. This means if this actual height is less than the specified height, the `crossAxis` only affects the alignment of the children within the determined (lesser) height.
If you wish to stretch all the children to the same specified height, add `crossAxis: stretch` in addition to the fixed height.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/4bd0d453-c243-429d-a562-93cbc9db38e3)

## Properties

| Property      | Type   | Description                      |
| :------------ | :----- | :------------------------------- |
| item-template | object | [See properties](#item-template) |
| children      | array  | List of widgets                  |
| styles        | object | [See properties](#styles)        |

### item-template

| Property | Type   | Description                                                        |
| :------- | :----- | :----------------------------------------------------------------- |
| data     | string | Bind to an array of data from an API response or a variable        |
| name     | string | Set the name to reference as you iterate through the array of data |
| template |        | The widget to render for each item                                 |

### styles

| Property                     | Type                                                       | Description                                                                                                                                                                                                                                                                                                                       |
| :--------------------------- |:-----------------------------------------------------------| :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| mainAxis                     | string                                                     | Control our children's layout horizontally.`start` `center` `end` `spaceBetween` `spaceAround` `spaceEvenly`                                                                                                                                                                                                                      |
| fontSize                     | integer                                                    | Sets the size of the text.                                                                                                                                                                                                                                                                                                        |
| fontFamily                   | string                                                     | Set the font family applicable for all widgets inside this container, see the list of all available font families [here](https://github.com/material-foundation/flutter-packages/blob/main/packages/google_fonts/generator/families_supported).                                                                                   |
| gap                          | integer                                                    | The gap between the children in the main direction                                                                                                                                                                                                                                                                                |
| crossAxis                    | string                                                     | Control the vertical alignment of the children.`start` `center` `end` `stretch` `baseline`                                                                                                                                                                                                                                        |
| mainAxisSize                 | string                                                     | If 'max', stretch the Row to fill its parent's width. Otherwise (min) the Row's width will be its children's combined.                                                                                                                                                                                                            |
| scrollable                   | boolean                                                    | Set to true so content can scroll horizontally as needed                                                                                                                                                                                                                                                                          |
| autoFit                      | boolean                                                    | Explicitly make the row's height as tall as the largest child, but only if the row's parent does not already assign us a height. This attribute is useful for sizing children who don't have a width (e.g vertical Divider)                                                                                                       |
| borderRadius                 | string or integer                                          | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                             |
| borderColor                  | [Color](/widgets/types#Color)                     | Sets the border color, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                           |
| borderWidth                  | integer                                                    | Thickness of the border. Minimum value should be 0.                                                                                                                                                                                                                                                                               |
| shadowColor                  | [Color](/widgets/types#Color)                     | Sets the box shadow color starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                        |
| shadowOffset                 | array                                                      | The values in array define the horizontal and vertical offset of the shadow. Example: if the shadowOffset is set to [2, 4], the shadow will be offset by 2 pixels horizontally and 4 pixels vertically from its original position.                                                                                                |
| shadowRadius                 | string or integer                                          | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                             |
| shadowStyle                  | string                                                     | The blur style to apply on the shadow `normal`, `solid`, `outer`, `inner`                                                                                                                                                                                                                                                         |
| stackPositionTop             | integer                                                    | The distance of the child's top edge from the top of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                     |
| stackPositionBottom          | integer                                                    | The distance that the child's bottom edge from the bottom of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                             |
| stackPositionLeft            | integer                                                    | The distance that the child's left edge from the left of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                 |
| stackPositionRight           | integer                                                    | The distance that the child's right edge from the right of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                               |
| captureWebPointer            | boolean                                                    | Applicable for Web only. When overlaying widgets on top of certain HTML container (e.g. Maps), the mouse click is captured by the HTML container, causing issue interacting with the widget. Use this to capture and maintain the mouse pointer on your widget.                                                                   |
| margin                       | string or integer                                          | Margin with CSS-style notation                                                                                                                                                                                                                                                                                                    |
| padding                      | string or integer                                          | Padding with CSS-style value                                                                                                                                                                                                                                                                                                      |
| width                        | integer                                                    | The width property determines the horizontal size of an element, allowing control over its width dimension within the layout.                                                                                                                                                                                                     |
| height                       | integer                                                    | The height property determines the vertical size of an element, allowing control over its height dimension within the layout.                                                                                                                                                                                                     |
| backgroundImage              | [BackgroundImage](/widgets/types#BackgroundImage) | Background image of the box.                                                                                                                                                                                                                                                            |
| backgroundGradient           | [Gradient](/widgets/types#Gradient)               | Background gradient of the box                                                                                                                                                                                                                                                  |
| backgroundColor              | [Color](/widgets/types#Color)                     | Background color of the box. which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`        |
| expanded                     | boolean                                                    | If the parent is a Row or Column, this flag will stretch this widget in the appropriate direction. (e.g. stretch horizontally for parent of type Row)                                                                                                                                                                             |
| visibilityTransitionDuration | number                                                     | Specify the duration in seconds when a widget animates between visible and not visible state. Note that setting this value will cause the widget to still occupy the UI space even when it is not visible.                                                                                                                        |
| elevation                    | integer                                                    | The z-coordinate at which to place this material relative to its parent. A non-zero value will show a shadow, with its size relative to the elevation value. Minimum value: 0, Maximum value: 24                                                                                                                                  |
| elevationShadowColor         | integer or string                                          | The shadow color for the elevation, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| elevationBorderRadius        | string or integer                                          | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                             |
| alignment                    | string                                                     | The alignment of the widget relative to its parent. `topLeft`, `topCenter`, `topRight`, `centerLeft`, `center`, `centerRight`, `bottomLeft`, `bottomCenter`, `bottomRight`                                                                                                                                                        |
| visible                      | boolean                                                    | Toggle a widget visibility on/off. Note that an invisible widget will not occupy UI space, unless the visibilityTransitionDuration is specified.                                                                                                                                                                                  |
| opacity                      | double                                        | Adjusts the opacity of the widget. Values range from 0 (fully transparent) to 1 (opaque). Default is `1`.                                                                                                                 |
| enableSplashFeedback                      | boolean                                                    | Toggles splash effect feedback for the widget when        `true`.                                                                                                            |
| splashColor                      | string                                                    | Defines the color of the splash effect when `enableSplashFeedback` is true.                                                                                                                                                         |
| splashDuration                      | integer                                                    | This is the duration it takes to fill the widget surface with the splashColor.The duration in ms when tap and release on the widget.                                                                                                                                                         |
| splashFadeDuration                      | integer                                                    | The duration it takes to fade out once tapped. Since a typical tap starts and ends immdiately, this splashFadeDuration executes almost at the same time as the splashDuration, so ideally it should be equal or longer than splashDuration to see the entire effect.                                                                                                                                                         |
| unconfirmedSplashDuration                      | integer                                                    | This happens when the user tap and hold (not yet released). It is called unconfirmed since the tap will be cancelled if the user moves out of the tap area and release. Usually this should be longer (around 1 secs) to signify that the user has not confirmed the tap.                                                                                                                                                         |

---

# Shape Widget

ECreate and customize a variety of shapes to add flair to your UI. Use this widget in combination with [LoadingContainer](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/3wNZSfVkdi56zmTtFeBT) to create compelling loading states.

### Properties

| Property | Type   | Description                                                            |
| :------- | :----- | :--------------------------------------------------------------------- |
| type     | string | Type of the shape, `circle` `rectangle` `oval` `square` |

### Styles

| Property        | Type              | Description                                                                                                                                                                                                                                                                                                                |
| :-------------- | :---------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| borderRadius    | string or integer | The border radius of the widget. This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                      |
| width           | integer           | The width property determines the horizontal size of an element, allowing control over its width dimension within the layout.                                                                                                                                                                                              |
| height          | integer           | The height property determines the vertical size of an element, allowing control over its height dimension within the layout.                                                                                                                                                                                              |
| backgroundColor | integer or string | Background color of the box. which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |

---


# Signature Widget

The `Signature` widget allows users to capture handwritten signatures directly within your application. It provides a canvas where users can draw their signature using touch or mouse input. The widget is highly customizable, enabling you to adjust its appearance and behavior to suit your application's needs.

## Key Properties and Features

- **Pen Customization**: Adjust the pen color (`penColor`), stroke width (`penStrokeWidth`), stroke cap (`strokeCap`), and stroke join (`strokeJoin`) to customize the drawing experience.
- **Background Customization**: Set the background color of the signature pad using `backgroundColor`.

- **Value Handling**: The `value` property holds the signature data encoded as a Base64 string. This can be used to retrieve or set the signature.

- **Disabling Input**: Use the `disabled` property to prevent users from drawing on the signature pad, useful for displaying a previously captured signature.
 
- **Export Options**: Customize the colors used when exporting the signature image with `exportBackgroundColor` and `exportPenColor`.

- **Getters**: Access additional data through getters like `isEmpty`, `getSignatureBytes`, `getSignatureSVG`, and `getSignatureJPG`.

- **Events**: The `onChange` event is triggered whenever the signature pad's content changes, allowing you to react to user input.

- **Methods**: The `clear()` method allows you to programmatically clear the signature pad.

---


# Slidable Widget

The `Slidable` widget enables you to create swipeable items with customizable action panes on both sides. This widget is particularly useful for implementing swipe-to-action functionality, such as swipe-to-delete, swipe-to-edit, or any other custom actions in your application.

## Key Properties and Features

- **Dual Action Panes**: Support for both start (left) and end (right) action panes
- **Customizable Actions**: Each action pane can contain multiple actions with customizable icons, labels, and colors
- **Motion Options**: Various motion types available including scroll, stretch, behind, and drawer animations
- **Dismissible Support**: Optional swipe-to-dismiss functionality with customizable behavior
- **Group Management**: Group related slidables together using the `groupTag` property
- **Directional Support**: Supports both horizontal and vertical sliding
- **Accessibility**: Respects text direction for RTL/LTR layouts

```yaml
Slidable:
  styles:
    direction: horizontal
    closeOnScroll: true
    dragStartBehavior: start
    useTextDirection: true
  startDrawer:
    options:
      extentRatio: 0.001 # we can keep the extent ratio small so that dismissible action looks smooth
      openThreshold: 0.25
      motion: behind
    dismissible:
      dismissThreshold: 0.75
      dismissalDurationMs: 300
      resizeDurationMs: 300
      motion: inversedDrawer
      onDismissed:
        showToast:
          message: Item dismissed
  endDrawer:
    children:
      - icon: star
        label: Favorite
        backgroundColor: yellow
        onTap:
          showToast:
            message: Added to favorites
  child:
    Container:
      padding: 16
      child:
        Text: "Swipe me left or right"
```

---


# Slider Widget

The `Slider` widget provides an intuitive way for users to select a value or range of values by dragging a handle along a track. This widget is particularly useful for adjusting numeric inputs like volume, brightness, or any other adjustable parameters that fall within a continuous or discrete range.

## Key Properties and Features

- **Value Selection**: Intuitive dragging interface for selecting numeric values
- **Discrete or Continuous**: Option to divide the slider into discrete steps or maintain continuous sliding
- **Customizable Appearance**: Extensive styling options for track, thumb, tick marks, and value indicators
- **Interactive Feedback**: Visual feedback through overlays and value indicators
- **Accessibility**: Support for enabled/disabled states and form validation

---

# Spacer

The Spacer Widget enables the creation of adjustable spacing between elements, offering precise control over the layout and alignment of content within your application.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/1d7e42a9-5bbc-4b4b-9a02-8c102234ee05)

## Properties

| Property | Type   | Description               |
| :------- | :----- | :------------------------ |
| styles   | object | [See properties](#styles) |

### styles

| Property | Type    | Description                                                                                                  |
| :------- | :------ | :----------------------------------------------------------------------------------------------------------- |
| size     | integer | Defines the dimensions or magnitude of an element, allowing control over its overall size within the layout. |

---

# Stack

The Stack Widget allows you to visually stack items on top of each other, providing a flexible and layered approach to layout and design within your application.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/572ecf3b-b9f2-46f4-960f-ff438e5fa1dc)

## Properties

| Property | Type   | Description               |
| :------- | :----- | :------------------------ |
| children | array  | List of widgets           |
| styles   | object | [See properties](#styles) |

### styles

| Property      | Type   | Description                                                                                                                                                                                                                                                                                      |
| :------------ | :----- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| alignChildren | string | How to align the children within the stack such that their alignment points will be the same (default is topStart). Each child can override this with alignment property. `topLeft`, `topCenter`, `topRight`, `centerLeft`, `center`, `centerRight`, `bottomLeft`, `bottomCenter`, `bottomRight` |
| enableSplashFeedback                      | boolean                                                    | Toggles splash effect feedback for the widget when        `true`.                                                                                                            |
| splashColor                      | string                                                    | Defines the color of the splash effect when `enableSplashFeedback` is true.                                                                                                                                                         |
| splashDuration                      | integer                                                    | This is the duration it takes to fill the widget surface with the splashColor.The duration in ms when tap and release on the widget.                                                                                                                                                         |
| splashFadeDuration                      | integer                                                    | The duration it takes to fade out once tapped. Since a typical tap starts and ends immdiately, this splashFadeDuration executes almost at the same time as the splashDuration, so ideally it should be equal or longer than splashDuration to see the entire effect.                                                                                                                                                         |
| unconfirmedSplashDuration                      | integer                                                    | This happens when the user tap and hold (not yet released). It is called unconfirmed since the tap will be cancelled if the user moves out of the tap area and release. Usually this should be longer (around 1 secs) to signify that the user has not confirmed the tap.                                                                                                                                                         |

---

# Staggered Grid

StaggeredGrid is a versatile widget that arranges its children in a staggered layout, allowing flexible and dynamic positioning for unique and visually appealing UI designs.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/a9iIs4wvgqDOhU4rN6GR?propertyPanelEnabled=true&instantPreviewDisabled=false&editorV2Enabled=true)

## Properties

| Property      | Type   | Description                                                                             |
| :------------ | :----- | :-------------------------------------------------------------------------------------- |
| onItemTap     | action | Call Ensemble's built-in functions or execute code when tapping on an item in the list. |
| onItemTapHaptic | enum | The type of haptic to perform when a item is pressed. It should be one of heavyImpact, mediumImpact, lightImpact, selectionClick, and vibrate |
| children      | array  | List of widgets                                                                         |
| styles        | object | [See properties](#styles)                                                               |
| item-template | object | [See properties](#item-template)                                                        |

### item-template

| Property | Type   | Description                                                        |
| :------- | :----- | :----------------------------------------------------------------- |
| data     | string | Bind to an array of data from an API response or a variable        |
| name     | string | Set the name to reference as you iterate through the array of data |
| template | widget | The widget to render for each item                                 |

### styles

| Property                     | Type              | Description                                                                                                                                                                                                                                                                                                                       |
| :--------------------------- | :---------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| crossAxisCount               | integer           | Creates a list of staggered grid tile in the cross axis                                                                                                                                                                                                                                                                           |
| verticalGap                  | integer           | Vertical gap between the staggered grid tiles                                                                                                                                                                                                                                                                                     |
| horizontalGap                | integer           | Horizontal gap between the staggered grid tiles                                                                                                                                                                                                                                                                                   |
| elevation                    | integer           | The z-coordinate at which to place this material relative to its parent. A non-zero value will show a shadow, with its size relative to the elevation value. Minimum value: 0, Maximum value: 24                                                                                                                                  |
| elevationShadowColor         | integer or string | The shadow color for the elevation, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| elevationBorderRadius        | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                             |
| stackPositionTop             | integer           | The distance of the child's top edge from the top of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                     |
| stackPositionBottom          | integer           | The distance that the child's bottom edge from the bottom of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                             |
| stackPositionLeft            | integer           | The distance that the child's left edge from the left of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                 |
| stackPositionRight           | integer           | The distance that the child's right edge from the right of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                               |
| captureWebPointer            | boolean           | Applicable for Web only. When overlaying widgets on top of certain HTML container (e.g. Maps), the mouse click is captured by the HTML container, causing issue interacting with the widget. Use this to capture and maintain the mouse pointer on your widget.                                                                   |
| alignment                    | string            | The alignment of the widget relative to its parent. `topLeft`, `topCenter`, `topRight`, `centerLeft`, `center`, `centerRight`, `bottomLeft`, `bottomCenter`, `bottomRight`                                                                                                                                                        |
| visible                      | boolean           | Toggle a widget visibility on/off. Note that an invisible widget will not occupy UI space, unless the visibilityTransitionDuration is specified.                                                                                                                                                                                  |
| visibilityTransitionDuration | number            | Specify the duration in seconds when a widget animates between visible and not visible state. Note that setting this value will cause the widget to still occupy the UI space even when it is not visible.                                                                                                                        |
| opacity                      | double                                        | Adjusts the opacity of the widget. Values range from 0 (fully transparent) to 1 (opaque). Default is `1`.                                                                                                                 |
| expanded                     | boolean           | If the parent is a Row or Column, this flag will stretch this widget in the appropriate direction. (e.g stretch horizontally for parent of type Row)                                                                                                                                                                              |

---

# Switch widget

The Switch Widget enables the rendering of switch toggle elements, providing users with an intuitive and interactive way to toggle between two states within your application.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/3f4ba37a-0e6a-46a1-9b78-e4e04c84937d)

## Properties

| Property     | Type    | Description                                                                                                                                                                                              |
| :----------- | :------ | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id           | string  | ID to be referenced later                                                                                                                                                                                |
| maxWidth     | integer | The max width of this Input widget (default 700). while min vlaue can be `0` and maximum can be `5000`                                                                                                   |
| label        | string  | Label for your widget                                                                                                                                                                                    |
| labelHint    | string  | Hint text on your label                                                                                                                                                                                  |
| hintText     | string  | Hint text explaining your widget                                                                                                                                                                         |
| required     | boolean | Whether the field is required                                                                                                                                                                            |
| enabled      | boolean | Enables or disables the interactivity and input functionality of the widget                                                                                                                              |
| icon         | object  | [See properties](#icon)                                                                                                                                                                                  |
| onChange     | action  | Call Ensemble's built-in functions or execute code when the input changes. Note for free-form text input, this event only dispatches if the text changes AND the focus is lost (e.g. clicking on button) |
| onChangeHaptic | enum | The type of haptic to perform when switch state is changed. It should be one of heavyImpact, mediumImpact, lightImpact, selectionClick, and vibrate |
| value        | string  | Specifying the value of your Text Input                                                                                                                                                                  |
| autoComplete | boolean | Enable the Input search suggestion option                                                                                                                                                                |
| items        | array   | List of values, or Objects with value/label pairs                                                                                                                                                        |
| styles       | object  | [see properties](#styles)                                                                                                                                                                                |
| leadingText  | string  | Sets the text displayed before the checkbox                                                                                                                                                              |
| trailingText | string  | Sets the text displayed after the checkbox                                                                                                                                                               |

### styles

| Property                     | Type              | Description                                                                                                                                                                                                                                                                                                                                   |
| :--------------------------- | :---------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| variant                      | string            | Select a pre-defined look and feel for this Input widget. This property can be defined in the theme to apply to all Input widgets. [see properties](#options-for-stylesvariant)                                                                                                                                                               |
| visible                      | boolean           | Toggle a widget visibility on/off. Note that an invisible widget will not occupy UI space, unless the visibilityTransitionDuration is specified.                                                                                                                                                                                              |
| visibilityTransitionDuration | number            | Specify the duration in seconds when a widget animates between visible and not visible state. Note that setting this value will cause the widget to still occupy the UI space even when it is not visible.                                                                                                                                    |
| opacity                      | double                                        | Adjusts the opacity of the widget. Values range from 0 (fully transparent) to 1 (opaque). Default is `1`.                                                                                                                 |
| stackPositionTop             | integer           | The distance of the child's top edge from the top of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                                 |
| stackPositionBottom          | integer           | The distance that the child's bottom edge from the bottom of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                         |
| stackPositionLeft            | integer           | The distance that the child's left edge from the left of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                             |
| stackPositionRight           | integer           | The distance that the child's right edge from the right of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                           |
| errorBorderColor             | integer or string | The border color when there are errors on this input field. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                         |
| focusedBorderColor           | integer or string | The border color when this input field is receiving focus. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                          |
| focusedErrorBorderColor      | integer or string | The border color of this input field when it is receiving focus in its error state. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| disabledBorderColor          | integer or string | The border color when this input field is disabled. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                 |
| fillColor                    | integer or string | The fill color for this input fields. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                               |
| elevation                    | integer           | The z-coordinate at which to place this material relative to its parent. A non-zero value will show a shadow, with its size relative to the elevation value. Minimum value: 0, Maximum value: 24                                                                                                                                              |
| elevationShadowColor         | integer or string | The shadow color for the elevation, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`             |
| elevationBorderRadius        | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                                         |
| expanded                     | boolean           | If the parent is a Row or Column, this flag will stretch this widget in the appropriate direction. (e.g stretch horizontally for parent of type Row)                                                                                                                                                                                          |
| contentPadding               | integer or string | Padding around your input content with CSS-style notation e.g. margin: 5 20 5                                                                                                                                                                                                                                                                 |
| captureWebPointer            | boolean           | Applicable for Web only. When overlaying widgets on top of certain HTML container (e.g. Maps), the mouse click is captured by the HTML container, causing issue interacting with the widget. Use this to capture and maintain the mouse pointer on your widget.                                                                               |
| alignment                    | string            | The alignment of the widget relative to its parent. `topLeft`, `topCenter`, `topRight`, `centerLeft`, `center`, `centerRight`, `bottomLeft`, `bottomCenter`, `bottomRight`                                                                                                                                                                    |
| borderRadius                 | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                                         |
| borderColor                  | integer or string | Sets the border color, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                                       |
| borderWidth                  | integer           | Thickness of the border. Minimum value should be 0.                                                                                                                                                                                                                                                                                           |
| expanded                     | boolean           | If the parent is a Row or Column, this flag will stretch this widget in the appropriate direction. (e.g stretch horizontally for parent of type Row)                                                                                                                                                                                          |

### icon

| Property | Type              | Description                                                                                                                                                                                                                                                                                                                         |
| :------- | :---------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| name     | string            | The name of the icon                                                                                                                                                                                                                                                                                                                |
| library  | string            | Which icon library to use.                                                                                                                                                                                                                                                                                                          |
| color    | integer or string | The color specification for the text, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| size     | integer           | Defines the dimensions or magnitude of an element, allowing control over its overall size within the layout.                                                                                                                                                                                                                        |

---

# TabBar

The TabBar Widget enables the creation of tab bars, providing a convenient and visually appealing way to navigate between different sections or views within your application.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/cebd491d-7d90-43f4-9f17-b8575de441ca)

## Properties

| Property      | Type    | Description                              |
| :------------ | :------ | :--------------------------------------- |
| styles        | object  | [See properties](#styles)                |
| selectedIndex | integer | Selecting a Tab based on its index order |
| items         | array   | Define each of your Tab here             |
| onTabSelection | action | The action that will be performed when a tab is pressed. |
| onTabSelectionHaptic | enum | The type of haptic to perform when a tab is pressed. It should be one of heavyImpact, mediumImpact, lightImpact, selectionClick, and vibrate |

### styles

| Property           | Type              | Description                                                                                                                                                                                                                                                                                                                                     |
| :----------------- | :---------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| tabPosition        | string            | How to lay out the Tab labels                                                                                                                                                                                                                                                                                                                   |
| tabAlignment       | enum                                     | The TabBar alignments: `start`, `startOffset`, `fill`, `center`.                                                                                              |
| tabPadding         | string or integer | Padding for each tab labels with CSS-style value. Default: 0 30 0 0 (right padding only)                                                                                                                                                                                                                                                        |
| tabFontSize        | integer           | Font size for the tab text                                                                                                                                                                                                                                                                                                                      |
| tabFontWeight      | string            | Font weight for the tab text                                                                                                                                                                                                                                                                                                                    |
| tabBackgroundColor | integer or string | The background color of the tab's navigation bar, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| activeTabColor     | integer or string | The color of the selected tab's text, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`             |
| inactiveTabColor   | integer or string | The color of the un-selected tabs' text, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`          |
| indicatorColor     | integer or string | The color of the selected tab's indicator, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`        |
| indicatorThickness | integer           | The thickness of the selected tab's indicator                                                                                                                                                                                                                                                                                                   |
| margin             | string or integer | Margin with CSS-style notation e.g. margin: 5 20 5                                                                                                                                                                                                                                                                                              |

---

# TextInput widget

The TextInput Widget enables the rendering of interactive text input fields, allowing users to enter and edit text within your application for data input and interaction.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/abc081b1-bcb4-4db6-ae55-7987cb6c418e)

## Properties

| Property                | Type                                           | Description                                                                                                                                                                                                                       |
|:------------------------|:-----------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| id                      | string                                         | ID to be referenced later                                                                                                                                                                                                         |
| maxWidth                | integer                                        | The max width of this Input widget (default 700). while min vlaue can be `0` and maximum can be `5000`                                                                                                                            |
| label                   | string                                         | Label for your widget                                                                                                                                                                                                             |
| labelHint               | string                                         | Hint text on your label                                                                                                                                                                                                           |
| labelStyle              | [TextStyle](/widgets/types#TextStyle) | Styling for the label                                                                                                                                                                                                             |
| hintText                | string                                         | Hint text explaining your widget                                                                                                                                                                                                  |
| hintStyle               | object                                         | Styling the hint text. Default to theme's bodyMedium styling. [see properties](#hintstyles)                                                                                                                                       |
| required                | boolean                                        | Whether the field is required                                                                                                                                                                                                     |
| enabled                 | boolean                                        | Enables or disables the interactivity and input functionality of the widget                                                                                                                                                       |
| icon                    | object                                         | [See properties](#icon)                                                                                                                                                                                                           |
| styles                  | object                                         | [See properties](#styles)                                                                                                                                                                                                         |
| validator               | object                                         | [See properties](#validator) [Example](https://studio.ensembleui.com/app/a2qNNXgcmhBxfrTMBVGB/screen/AzD8jmw9Xk2zrGa1IVqd)   |
| validateOnUserInteraction | boolean | Default: false. When set to true, validates the user's input on every keypress. [Example](https://studio.ensembleui.com/app/a2qNNXgcmhBxfrTMBVGB/screen/AzD8jmw9Xk2zrGa1IVqd)
| value                   | string                                         | Specifying the value of your Text Input                                                                                                                                                                                           |
| inputType               | string                                         | Pick a predefined input type ` default` `email` `phone ` `number` `text` `url` `datetime ` `ipAddress`                                                                                                                            |
| keyboardAction          | string                                         | Specify the action key on native device's soft keyboard                                                                                                                                                                           |
| obscureText             | boolean                                        | whether we should obscure the typed-in text (e.g Social Security)                                                                                                                                                                 |
| obscureToggle           | boolean                                        | enable the toggling between plain and obscure text.        |                
| readOnly                | boolean                                        | When it is true, the text cannot be modified by any shortcut or keyboard operation.                 |
| selectable              | boolean                                        | Setting this to true will enable features such as long-pressing the TextField to select text and show the cut/copy/paste menu, and tapping to move the text caret text.                                                                                                                                                                                |
| toolbarDone             | boolean                                        | Display the toolbar with done button on top of the keyboard. (defaults to False)                                                                                                                                                  |
| textStyle               | object                                         | An opaque object that determines the size, color, and decoration of text. Similar properties as hintStyle [see properties](#hintstyles)                                                                                           |
| mask                    | string                                         | It formats the input by a given mask. Ex: +# (###) ###-##-##. detailed examples can be seen in [Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/abc081b1-bcb4-4db6-ae55-7987cb6c418e) |
| delayedKeyPressDuration | integer                                        | The delay in milliseconds to trigger onDelayedKeyPress ( min : 0)                                                                                                                                                                 |
| multiline               | boolean                                        | Specifies if this TextInput can span multiple lines. (default False)                                                                                                                                                              |
| minLines                | integer                                        | Specifies the minimum number of lines to start out (applicable for multiline)                                                                                                                                                     |
| maxLines                | integer                                        | Specifies the maximum number of lines to visually expand to. This will also enable multi-line if this number is greater than 1 and the 'multiline' property is not set.                                                           |
| floatLabel | boolean | [floating label example](#floating-label-example)
| autofillHints           | array                                         | List of autofill hints used to specify what type of information should be autofilled. Possible values: `"addressCity"`, `"addressCityAndState"`, `"addressState"`, `"birthday"`, `"birthdayDay"`, `"birthdayMonth"`, `"birthdayYear"`, `"countryCode"`, `"countryName"`, `"creditCardExpirationDate"`, `"creditCardExpirationDay"`, `"creditCardExpirationMonth"`, `"creditCardExpirationYear"`, `"creditCardFamilyName"`, `"creditCardGivenName"`, `"creditCardMiddleName"`, `"creditCardName"`, `"creditCardNumber"`, `"creditCardSecurityCode"`, `"creditCardType"`, `"email"`, `"familyName"`, `"fullStreetAddress"`, `"gender"`, `"givenName"`, `"impp"`, `"jobTitle"`, `"language"`, `"location"`, `"middleInitial"`, `"middleName"`, `"name"`, `"namePrefix"`, `"nameSuffix"`, `"newPassword"`, `"newUsername"`, `"nickname"`, `"oneTimeCode"`, `"organizationName"`, `"password"`, `"photo"`, `"postalAddress"`, `"postalAddressExtended"`, `"postalAddressExtendedPostalCode"`, `"postalCode"`, `"streetAddressLevel1"`, `"streetAddressLevel2"`, `"streetAddressLevel3"`, `"streetAddressLevel4"`, `"streetAddressLine1"`, `"streetAddressLine2"`, `"streetAddressLine3"`, `"sublocality"`, `"telephoneNumber"`, `"telephoneNumberAreaCode"`, `"telephoneNumberCountryCode"`, `"telephoneNumberDevice"`, `"telephoneNumberExtension"`, `"telephoneNumberLocal"`, `"telephoneNumberLocalPrefix"`, `"telephoneNumberLocalSuffix"`, `"telephoneNumberNational"`, `"transactionAmount"`, `"transactionCurrency"`, `"url"`, `"username"` |
| maxLength | integer | The maximum number of characters allowed in the text field. If set, the text field will restrict the input to this number of characters. |
| maxLengthEnforcement | string | none, enforced, truncateAfterCompositionEnds. [see properties](#maxlengthenforcement) |

### Actions

| Name              | description                                                                                                                                                                                                          |
| :---------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| onKeyPress        | On every keystroke, call Ensemble's built-in functions or execute code                                                                                                                                               |
| onFocusReceived   | Execute an Ensemble action when the field receives focus                                                                                                                                                             |
| onFocusLost       | Execute an Ensemble action when the field loses focus                                                                                                                                                                |
| onChange          | Call Ensemble's built-in functions or execute code when the input changes. This event only dispatches if the text changes AND the focus is lost (e.g. clicking on button)             |
| onDelayedKeyPress | Execute an Action after a brief delay specified by delayedKeyPressDuration (default: 300 ms). Consecutive calls within this delay will reset the timer, useful for minimizing server calls for type-ahead scenarios. |

### icon

| Property | Type              | Description                                                                                                                                                                                                                                                                                                                         |
| :------- | :---------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| name     | string            | The name of the icon                                                                                                                                                                                                                                                                                                                |
| library  | string            | Which icon library to use.                                                                                                                                                                                                                                                                                                          |
| color    | integer or string | The color specification for the text, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| size     | integer           | Defines the dimensions or magnitude of an element, allowing control over its overall size within the layout.                                                                                                                                                                                                                        |

### styles

| Property                     | Type              | Description                                                                                                                                                                                                                                                                                                                                   |
| :--------------------------- | :---------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| fontSize                     | integer           | Sets the size of the text.                                                                                                                                                                                                                                                                                                                    |
| borderRadius                 | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                                         |
| borderColor                  | integer or string | Sets the border color, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                                                                                       |
| borderWidth                  | integer           | Thickness of the border. Minimum value should be 0.                                                                                                                                                                                                                                                                                           |
| fontSize                     | integer           | Sets the size of the text.                                                                                                                                                                                                                                                                                                                    |
| stackPositionTop             | integer           | The distance of the child's top edge from the top of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                                 |
| stackPositionBottom          | integer           | The distance that the child's bottom edge from the bottom of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                         |
| stackPositionLeft            | integer           | The distance that the child's left edge from the left of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                             |
| stackPositionRight           | integer           | The distance that the child's right edge from the right of the stack. This is applicable only for Stack's children.                                                                                                                                                                                                                           |
| errorBorderColor             | integer or string | The border color when there are errors on this input field. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                         |
| focusedBorderColor           | integer or string | The border color when this input field is receiving focus. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                          |
| focusedErrorBorderColor      | integer or string | The border color of this input field when it is receiving focus in its error state. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| disabledBorderColor          | integer or string | The border color when this input field is disabled. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                 |
| fillColor                    | integer or string | The fill color for this input fields. This property can be defined in the theme to apply to all Input widgets, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                               |
| contentPadding               | integer or string | Padding around your input content with CSS-style notation e.g. margin: 5 20 5                                                                                                                                                                                                                                                                 |
| variant                      | string            | Select a pre-defined look and feel for this Input widget. This property can be defined in the theme to apply to all Input widgets. [see properties](#options-for-stylesvariant)                                                                                                                                                               |
| alignment                    | string            | The alignment of the widget relative to its parent. `topLeft`, `topCenter`, `topRight`, `centerLeft`, `center`, `centerRight`, `bottomLeft`, `bottomCenter`, `bottomRight`                                                                                                                                                                    |
| visible                      | boolean           | Toggle a widget visibility on/off. Note that an invisible widget will not occupy UI space, unless the visibilityTransitionDuration is specified.                                                                                                                                                                                              |
| visibilityTransitionDuration | number            | Specify the duration in seconds when a widget animates between visible and not visible state. Note that setting this value will cause the widget to still occupy the UI space even when it is not visible.                                                                                                                                    |
| opacity                      | double                                        | Adjusts the opacity of the widget. Values range from 0 (fully transparent) to 1 (opaque). Default is `1`.                                                                                                                 |
| captureWebPointer            | boolean           | Applicable for Web only. When overlaying widgets on top of certain HTML container (e.g. Maps), the mouse click is captured by the HTML container, causing issue interacting with the widget. Use this to capture and maintain the mouse pointer on your widget.                                                                               |
| expanded                     | boolean           | If the parent is a Row or Column, this flag will stretch this widget in the appropriate direction. (e.g stretch horizontally for parent of type Row)                                                                                                                                                                                          |
| elevation                    | integer           | The z-coordinate at which to place this material relative to its parent. A non-zero value will show a shadow, with its size relative to the elevation value. Minimum value: 0, Maximum value: 24                                                                                                                                              |
| elevationShadowColor         | integer or string | The shadow color for the elevation, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`             |
| elevationBorderRadius        | string or integer | The border radius of the widget.This can be specified using CSS-like notation with 1 to 4 integers. Minimum value: 0.                                                                                                                                                                                                                         |

### hintStyles

| Property           | Type              | Description                                                                                                                                                                                                                                                                                                                                             |
| :----------------- | :---------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| fontSize           | integer           | Sets the size of the text.                                                                                                                                                                                                                                                                                                                              |
| fontWeight         | string            | The thickness of the glyphs used to draw the text. `light` `normal` `bold` `w100` `w200` `w300` `w400` `w500` `w600` `w700` ` w800``w900 `                                                                                                                                                                                                              |
| color              | integer or string | The color specification for the text, icons, divider etc, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| overflow           | string            | Set treatment of text longer than available space `wrap` `visible` `clip` `ellipsis`                                                                                                                                                                                                                                                                    |
| backgroundColor    | integer or string | Background color of the box. which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                              |
| fontfamily         | string            | Allows users to chose a specific font-family other than the default one.                                                                                                                                                                                                                                                                                |
| decoration         | string            | A linear decoration to draw near the text or whether to slant the glyphs in font. `none` `lineThrough` `underline` `overline`                                                                                                                                                                                                                           |
| decorationStyle    | string            | The style in which to paint the text decorations (e.g., dashed). `solid` `double` `dotted` `dashed` `wavy`                                                                                                                                                                                                                                              |
| isItalic           | boolean           | Whether the text should be italic or not                                                                                                                                                                                                                                                                                                                |
| lineHeightMultiple | integer           | A multiple of the fontSize to determine the line height. (e.g. 2.0 means the line height is double the height the font size occupies). Default null. (note that 1.0 is not the default depending on the font)                                                                                                                                           |
| letterSpacing      | integer           | The amount of space (in logical pixels) to add between each letter. A negative value can be used to bring the letters closer.                                                                                                                                                                                                                           |
| wordSpacing        | integer           | The amount of space (in logical pixels) to add at each sequence of white-space (i.e. between each word). A negative value can be used to bring the words closer.                                                                                                                                                                                        |
| gradient           | object            | Using this property we can apply gradient to our text                                                                                                                                                                                                                                                                                                   |

### hintStyles.gradient

| Property | Type   | Description                                                                                                                                                                                                                                                                                                                             |
| :------- | :----- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| colors   | array  | The list of colors used for the gradient, which can be represented in different formats. It can be specified as a number, a predefined color name, or a hexadecimal value starting with '0x'. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange` |
| stops    | array  | The list of color stops, each is a number between 0.0 (where the gradient starts) and 1.0 (where the gradient ends). The number of stops should match the number of colors.                                                                                                                                                             |
| start    | string | The starting position of the gradient,`topLeft`, `topCenter`, `topRight`, `centerLeft`, `center`, `centerRight`, `bottomLeft`, `bottomCenter`, `bottomRight`                                                                                                                                                                            |
| end      | string | The ending position of the gradient, `topLeft`, `topCenter`, `topRight`, `centerLeft`, `center`, `centerRight`, `bottomLeft`, `bottomCenter`, `bottomRight`                                                                                                                                                                             |

### validator

| Property   | Type    | Description                                                                            |
| :--------- | :------ | :------------------------------------------------------------------------------------- |
| minLength  | integer | The minimum number of characters                                                       |
| maxLength  | integer | The maximum number of characters                                                       |
| regex      | string  | The Regular Expression the input will need to match                                    |
| regexError | string  | The customized error message to show when the input does not match the provided regex. |

#### options for styles.variant

| Option    | Description                                                                                                          |
| :-------- | :------------------------------------------------------------------------------------------------------------------- |
| box       | draw a Box border around this input widget. This property can be defined in the theme to apply to all Input widgets. |
| underline | draw an Underline below this input widget. This property can be defined in the theme to apply to all Input widgets.  |

### MaxLengthEnforcement

| Property   | Type    | Description                                                                            |
| :--------- | :------ | :------------------------------------------------------------------------------------- |
| none       | string  | No enforcement applied to the editing value. It's possible to exceed the maxLength.    |
| enforced   | string  | Keep the length of the text input from exceeding the max length even when the text has an unfinished composing region.    |
| truncateAfterCompositionEnds  | string  | Users can still input text if the current value is composing even after reaching the max length limit. After composing ends, the value will be truncated. |

---


# Text widget

Display and style text within your application.

---


# Time widget

The Time Widget enables the rendering of time input fields, allowing users to select and display time values within your application for time-related functionality and interactions.

---

# TripleSwitch widget

The TripleSwitch Widget enables the rendering of switch toggle elements, providing users with an intuitive and interactive way to toggle between three states (off, mixed, on) within your application.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/)

## Properties

| Property     | Type    | Description                                                                                                                                                                                              |
| :----------- | :------ | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id           | string  | ID to be referenced later                                                                                                                                                                                                                                                      
| onChange     | action  | Call Ensemble's built-in functions or execute code when the input changes. Note for free-form text input, this event only dispatches if the text changes AND the focus is lost (e.g. clicking on button) |
| value        | string  | Specifying the value of your switch widget  (off, mixed, on)                                                                               |                                                                       |
| styles       | object  | [see properties](#styles)                                                                                                                                                                                |
| leadingText  | string  | Sets the text displayed before the checkbox                                                                                                                                                              |
| trailingText | string  | Sets the text displayed after the checkbox                                                                                                                                                               |

### styles

| Property                     | Type              | Description                                                                                                                                                                                                                                                                                                                                   |
| :--------------------------- | :---------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |                                                                                     
| activeColor                  | integer or string | Sets the active color of the switch widget, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                           |
| inactiveColor                  | integer or string | Sets the inactive color of the switch widget, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                           |
| mixedColor                    | integer or string | Sets the mixed state color of the switch widget, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                           |
| activeThumbColor               | integer or string | Sets the active thumb color of the switch widget, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                           |
| inactiveThumbColor              | integer or string | Sets the inactive thumb color of the switch widget, starting with '0xFF' for full opacity. `transparent` `black` `blue` `white` `red` `grey` `teal` `amber` `pink` `purple` `yellow` `green` `brown` `cyan` `indigo` `lime` `orange`                                                                           |

---

# Type References
These Types objects are used in multiple widgets. They are defined here for reference.

## TextStyle
TextStyle allows customization of font, size, color, decoration, and more to enhance the UI's textual elements.

| Property           | Type                                     | Description                                                                                                                                                       |
|:-------------------|:-----------------------------------------|:------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| fontFamily         | string or object                                 | Set the font family applicable for all widgets inside this container, see the list of all available font families [here](https://github.com/material-foundation/flutter-packages/blob/main/packages/google_fonts/generator/families_supported). You can specify the fontFamily name directly or specify a different fontFamily for each language, see [Here](../translations.mdx#optionally-configure-different-fontfamily-for-each-language-your-app-supports)                                                                                                                                     |
| fontSize           | integer                                  | The size of the font. Valid values range from 1 to 1000.                                                                                                          |
| lineHeightMultiple | number                                   | A multiplier applied to the font size to determine line height (e.g., 2.0 for double the height of the font size). By default this value varies on the font used. |
| fontWeight         | [FontWeight](#FontWeight)                | The weight of the font.                                                                                                                                           |
| isItalic           | boolean                                  | If true, the text is italicized.                                                                                                                                  |
| color              | [Color](#Color)                          | The color of the text.                                                                                                                                            |
| backgroundColor    | [Color](#Color)                          | The background color of the text                                                                                                                                  |
| gradient           | [Gradient](#gradient)                    | A gradient effect applied to the text.                                                                                                                            |
| decoration         | enum                                     | The text decoration: `none`, `lineThrough`, `underline`, `overline`.                                                                                              |
| decorationStyle    | enum                                     | The style of the text decoration (if decoration is not `none`): `solid`, `double`, `dotted`, `dashed`, `wavy`.                                                    |
| decorationColor    | [Color](#Color)                          | The color of the decoration.                                                                                                                                      |
| decorationThickness| number                                   | The thickness of the decoration.                                                                                                                                  |
| overflow           | enum                                     | Treatment of text exceeding available space: `clip`, `fade`, `ellipsis`, `visible`.                                                                               |
| letterSpacing      | integer                                  | Space between characters in the text.                                                                                                                             |
| wordSpacing        | integer                                  | Space between words in the text.                                                                                                                                  |

## Gradient

| Property | Type                                           | Description                                                                                                |
|:---------|:-----------------------------------------------|:-----------------------------------------------------------------------------------------------------------|
| colors   | [Color[]](#Color)                              | An array of colors used for the gradient.                                                                  |
| stops    | number[]                                       | The list of numbers from 0.0 (where the gradient starts) to 1.0 (where the gradient ends), one for each colors specified                         |
| start    | [Alignment](/widgets/types#Alignment) | The starting position of the gradient.                                                                     |
| end      | [Alignment](/widgets/types#Alignment) | The ending position of the gradient.                                                                       |

## FontWeight
This property defines the weight (thickness) of the font used in text styling. It includes standard weights and numerical weights for finer control.

| FontWeight | Description                               |
|------------|-------------------------------------------|
| light      | Lighter font weight.                      |
| normal     | Normal or regular font weight.            |
| bold       | Bold font weight.                         |
| w100-w900  | Font weight from 100-900 (light to bold). |

## Color
This property defines the color based on a pre-defined names (see the supported names below) or as hexdecimal numbers that represent color codes. 

You can use color codes in one of the two ways -
- HTML/CSS format as a string with quotes around it. Starts with # and contains 6 or 8 characters after it. For example, '#FF5733' for orange. `Remember to put quotes around it as # is a comment character in yaml`.
- The common programming language format without quotes. Starts with 0x and has 8 characters after it. For example, 0xFFFF5733 for orange.

Either way works fine and internally color codes are automatically converted to the programming language format. 

| Name        | Description      |
|-------------|------------------|
| transparent | Transparent      |
| black       | Black color.     |
| blue        | Blue color.      |
| white       | White color.     |
| red         | Red color.       |
| grey        | Grey color.      |
| teal        | Teal color.      |
| amber       | Amber color.     |
| pink        | Pink color.      |
| purple      | Purple color.    |
| yellow      | Yellow color.    |
| green       | Green color.     |
| brown       | Brown color.     |
| cyan        | Cyan color.      |
| indigo      | Indigo color.    |
| lime        | Lime color.      |
| orange      | Orange color.    |

## Alignment
This property is used to specify the alignment of an element within its parent.

| Alignment    | Description                                           |
|--------------|-------------------------------------------------------|
| topLeft      | Aligns the element at the top-left corner.            |
| topCenter    | Aligns the element at the top-center.                 |
| topRight     | Aligns the element at the top-right corner.           |
| centerLeft   | Aligns the element at the center-left side.           |
| center       | Centers the element both horizontally and vertically. |
| centerRight  | Aligns the element at the center-right side.          |
| bottomLeft   | Aligns the element at the bottom-left corner.         |
| bottomCenter | Aligns the element at the bottom-center.              |
| bottomRight  | Aligns the element at the bottom-right corner.        |

## TapHaptic
This property specifies the type of haptic feedback to be played upon tapping an element. The options are listed in decreasing order of intensity.

| Haptic Feedback       | Description                                                                                      |
|-----------------------|--------------------------------------------------------------------------------------------------|
| heavyImpact           | Generates a haptic feedback of the highest intensity.                                            |
| mediumImpact          | Provides a haptic feedback of medium intensity.                                                  |
| lightImpactHaptic     | Offers a lighter haptic impact as feedback.                                                      |
| selectionClickHaptic  | Produces a mild, click-like haptic feedback, typically used for selection changes.               |
| vibrateHaptic         | Triggers a standard vibration as haptic feedback.                                                |

## BackgroundImage
This property configures a background image for a widget, including its source, fit, alignment, and a fallback option.

| Property  | Type                                           | Description                                                                                                         |
|:----------|:-----------------------------------------------|:--------------------------------------------------------------------------------------------------------------------|
| source    | string                                         | The Image URL to fill the background.                                                                               |
| fallback  | [Widget](/widgets)          | Return an inline widget or specify a custom widget to be rendered when the backgroundImage fails to load the image. |
| fit       | [Fit](/widgets/types#Fit)             | How to fit the image within the dimensions.                                                                         |
| alignment | [Alignment](/widgets/types#Alignment) | Align this image relative to its parent or dimensions.                                                              |


## Fit

This property determines how to fit the image within the dimension or the parent container.

| Fit Mode   | Description                                                                                         |
|------------|-----------------------------------------------------------------------------------------------------|
| fill       | Stretch our image to fill the dimension, potentially distorting the aspect ratio if necessary.      |
| contain    | Scale the image such that the entire image is contained within our dimension.                       |
| cover      | Scale the image to fill our dimension, clipping the image as needed.                                |
| fitWidth   | Scale the image to fit the width, and clipping the height if needed.                                |
| fitHeight  | Scale the image to fit the height, and clipping the width if needed.                                |
| none       | Center-Align the original image size, clipping the content if needed.                               |
| scaleDown  | Center-Align the image and only scale down to fit. Image will not be scaled up to bigger dimension. |


## Border

| Property     | Type                                   | Description                                            |
|:-------------|:---------------------------------------|:-------------------------------------------------------|
| borderRadius | integer / string                       | Border Radius with CSS-like notation (1 to 4 integers) |
| borderColor  | [Color](/widgets/types#Color) | Border color, starting with '0xFF' for full opacity.   |
| borderWidth  | integer                                | The thickness of the border. Minimum value: 0.         |

## Shadow
This property defines the shadow properties for a widget, including color, offset, radius, blur radius, and style.

| Property         | Type              | Description                                                                                                                                                                                                                    |
|:-----------------|:------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| shadowColor      | string / number   | Box shadow color starting with '0xFF' for full opacity.                                                                                                                                                                        |
| shadowOffset     | array of integers | Offset of the shadow in the format `[x, y]`.                                                                                                                                                                                   |
| shadowRadius     | integer           | The radius of the shadow. Minimum value: 0.                                                                                                                                                                                    |
| shadowBlurRadius | integer           | The blur radius of the shadow. Minimum value: 0.                                                                                                                                                                               |
| shadowStyle      | enum              | The blur style to apply on the shadow: <br/>`normal` - Fuzzy inside and outside (default)<br/>`solid` - Solid inside, fuzzy outside.<br/>`outer` - Nothing inside, fuzzy outside.<br/>`inner` - Fuzzy inside, nothing outside. |

---

# Video widget

The Video Widget enables seamless integration of video content within your application, providing an immersive and engaging multimedia experience for users.

> To get hands-on experience with `Video` widget, see live example in [Ensemble Studio](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/fce92bbb-af8e-403d-bf2d-c10926cc89a0)

## Properties

| Property | Type   | Description                      |
| :------- | :----- | :------------------------------- |
| source   | string | The URL source to the media file |
| showControls   | boolean | Offers options to show/hide video controls. (default true) |
| loadingWidget   | Widget | The widget to show when video is loading. |
| repeat   | boolean | Video will kept replaying in loop. |
| autoplay   | boolean | Automatically start the video when player is loaded. (default False) |
| playbackRate   | number | For changing the speed at which the video is displayed |
| volume   | number | Changes the volume. (max = 100, min = 0) |
| onChange   | Action | Action to execute when the video has changed |
| onStart   | Action | Call Ensemble's built-in functions or execute code when video is about to start |
| onEnd   | Action | Call Ensemble's built-in functions or execute code when video is about to end |

## Code Example
```
Video:
  source: https://flutter.github.io/assets-for-api-docs/assets/videos/bee.mp4
  repeat: true
  autoplay: true
  showControls: false
  loadingWidget: 
    Progress:
      display: circular
```

---


# WebView widget

The WebView Widget enables seamless integration of web content within native apps and web apps, providing a versatile and consistent browsing experience across platforms. In addition to its core functionality, WebView also supports the use of cookies. [Learn more here!](/tips-and-tricks/cookies.md)

```yaml
- WebView:
    url: https://messages.mycompany.com
    allowedLaunchSchemes:
      - "tel:"
      - "sms:"
      - "mailto:"
      - "slack:"

  #note that if you explicitly specify `allowedLaunchSchemes` you must specify the defaults as well if you want them to be allowed otherwise they will be overwritten
```
```yaml
headerOverrideRules:
  - urlPattern: "api.example.com"
    matchType: CONTAINS
    headers:
      SECRET: abc123
    mergeExisting: true
```

---

# Youtube

The YouTube feature in EnsembleUI allows integration of YouTube videos into your application, providing users with a rich multimedia experience.

### YouTube Player Configuration
The YouTube player component offers a range of options for customizing the behavior and appearance of YouTube videos within the application.

- URL: Specifies the URL of the main YouTube video to be played.
- Video List: Provides a list of additional videos to be displayed in the video player.
- Playback Rate: Allows users to adjust the playback speed of the video.
- Volume: Enables users to set the volume level for audio playback.
- Playback Controls: Offers options to show/hide video controls, enable captions, and display annotations.
- Autoplay: Determines whether the video should start playing automatically when loaded.
- Start and End Seconds: Specifies the start and end times of the video playback.
- Aspect Ratio: Defines the aspect ratio of the video player.

### Controlling Video Playback
The control buttons allow users to interact with the YouTube player and manage video playback effectively.

- Prev/Next: Navigate to the previous or next video in the playlist.
- Play/Pause: Start or pause video playback.
- Mute/Unmute: Toggle audio mute/unmute.
- Stop: Stop video playback.

### Setting Playback Rate and Volume
Users can set the playback rate and volume using the provided text input fields:

- Set playback rate: Adjust the playback speed of the video.
- Set volume: Control the audio volume of the video.

## Example Configuration
```yaml
    - TextInput:
            hintText: Set playback rate
            id: playback
        - TextInput:
            hintText: set volume
            id: volume
        - YouTube:
            volume: ${volume.value}
            showFullScreenButton: true
            url: https://www.youtube.com/watch?v=4NRXx6U8ABQ
            videoList:
              - https://www.youtube.com/watch?v=H5v3kku4y6Q
              - IoBP24I2lwA
            playbackRate: ${playback.value}
            enableCaptions: true
            showControls: true
            showAnnotations: false
            id: youtubeId
            startSeconds: 10
            endSeconds: 40
            autoplay: true
            aspectRatio: 4 / 3
        - Flow:
            styles:
              gap: 16
              lineGap: 16
            children:
              - Button:
                  label: Prev
                  onTap: |
                    youtubeId.previousVideo()
              - Button:
                  label: Play
                  onTap: |
                    youtubeId.playVideo()
              - Button:
                  label: Pause
                  onTap: |
                    youtubeId.pauseVideo()
              - Button:
                  label: Mute
                  onTap: |
                    youtubeId.mute()
              - Button:
                  label: Unmute
                  onTap: |
                    youtubeId.unMute()
              - Button:
                  label: Next
                  onTap: |
                    youtubeId.nextVideo()
              - Button:
                  label: Stop
                  onTap: |
                    youtubeId.stopVideo()
```

Note: The YouTube feature is compatible with Native iOS and Android applications.

---

# Composite Widgets

Composite widgets are a powerful concept in Ensemble where multiple smaller widgets are combined to create a more complex and reusable widget.

Composite widgets can be composed of any combination of basic UI elements such as buttons, text fields, labels, etc., allowing app developers to create complex UI components without having to recreate the same layout and functionality multiple times.

## Benefits of Composite Widgets

1. **Reusability**: Composite widgets can be reused across different parts of an app or even across multiple apps, reducing duplication of code and effort.
2. **Modularity**: By breaking down UI components into smaller widgets, developers can build more modular and maintainable app definitions.
3. **Customization**: Composite widgets allow for easy customization through inputs, enabling app developers to adapt the widget's behavior and appearance to suit different use cases.

## How to use them

When using a composite widget, 

1. prefix the widget name with `ensemble`
2. pass required inputs
3. further customize the widget with optional parameters

```yaml
View:
  body:
    Column:
      children:
        - ensemble.RatingStars:
            inputs: 
              rating: 3
              size: 24
              starColor: white
              starBackgroundColor: red
              starGaps: 8
              starPadding: 8
              starBorderRadius: 40
```

## Directory of composite widgets

| Name | Kitchen sink example | Output |
| ---- | -------------------- | ------ |
| HorizontalProgressBar | [link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/rlWyrWZrkb6JhxoACptf) | ![HorizontalProgressBar](/public/images/composite-widgets/HorizontalProgressBar.png) |
| ImageThumbnailCarousel | [link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/gRexsL9GfS9k6rLswMck) | ![ImageThumbnailCarousel](/public/images/composite-widgets/ImageThumbnailCarousel.png) |
| ProfileImageWithIndicator | [link](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/xCU7BvaYzK20NsEuqyNB) | ![ProfileImageWithIndicator](/public/images/composite-widgets/ProfileImageWithIndicator.png) |
| RatingStars | [link](https://studio.ensembleui.com/app/8PghcmhtGkWiWffmhDDl/widget/pn4g23nRuQ5D8AsN1qtp) | ![RatingStars](/public/images/composite-widgets/RatingStars.png) |


## Contributing to Composite Widgets

Contributions from the community can greatly enhance the functionality and versatility of composite widgets. Here's how you can contribute:

**1. Create your widget**

Create an app and follow these guidelines to create your proposed composite widget.

- In Studio, navigate to widgets tab of your app and create a new widget.
- Your widget should take inputs allowing app developers to customize the widget. Required inputs should be kept to items that without them, the widget cannot be rendered. Styling of the widget should be configurable by using optional inputs. For instance, background of a Column can be made optional.

  ```yaml
    Widget:
      inputs:
        - bgColor # this is optional and defaults to white
      body:
        Column:
          styles:
            backgroundColor: '${ bgColor ? bgColor : "white" }'
  ```

- Avoid setting width and height specially on container widgets such as rows and columns.
- Your widget should be self contained and not rely on definitions outside the widget such as API definitions and storage.


**2. Create a screen documenting the widget**

Within the same app, create a screen to outline inputs and several example usages. See [this example](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/rlWyrWZrkb6JhxoACptf) for reference.

**3. Share your widget on Builder Support**

Join Ensemble [Discord server](https://dsc.gg/ensembleui), and post a new topic in [Builder Support channel](https://discord.com/channels/1031982848485359626/1088664937288699992) with a link to your app.

Make sure to make your app public so that reviewers can access it.


![Make app public](/public/images/make-app-public.jpg)

---

## authenticateByBiometric

It helps to authenticate user based on biometrics such as face and fingerprint based on sensor available on user's device. 


> [Note]  
> It only works in native devices which has biometric sensors.


### Native Configuration

#### iOS Configuration 

The action works with both Touch ID and Face ID. However, to use the latter, you need to add following in `info.plist`

```plist
<key>NSFaceIDUsageDescription</key>
<string>Why is my app authenticating using face id?</string>
```

#### Android Configuration

Update your `MainActivity.java`:

```java
import io.flutter.embedding.android.FlutterFragmentActivity;

public class MainActivity extends FlutterFragmentActivity {
}
```

or `MainActivity.kt`:

```kt
import io.flutter.embedding.android.FlutterFragmentActivity

class MainActivity: FlutterFragmentActivity() {
}
```

Permissions

In your `AndroidManifest.xml`:

```xml
<uses-permission android:name="android.permission.USE_BIOMETRIC"/>
```

### Sample EDL

```yaml
Button:
  label: Biometric Auth
  onTap:
    authenticateByBiometric:
      label: Authenticate to see your balance

      # if device has pin configurated but not biometric sensor be it face or finger, setting allowConfiguration to true will popup user to first configure the settings.
      allowConfiguration: true
      onAuthenticated: |
        //@code
        ensemble.debug('Successfully authenticated');

      onAuthenticationFailed: |
        //@code
        ensemble.debug('Failed to authenticate');

      onSensorNotConfigured: |
        //@code
        ensemble.debug('sensor is not configured');

      onSensorNotAvailable: |
        //@code
        ensemble.debug('sensor not available');

      onError: |
        //@code
        ensemble.debug('on unknown error');

```

---

### BLE Client

Ensemble bluetooth modules allows you to create BLE client on ensemble platform. 


### SETUP

#### Android
Add permissions for Android (With Fine Location)
```xml
<!-- Tell Google Play Store that your app uses Bluetooth LE
     Set android:required="true" if bluetooth is necessary -->
<uses-feature android:name="android.hardware.bluetooth_le" android:required="false" />

<!-- New Bluetooth permissions in Android 12
https://developer.android.com/about/versions/12/features/bluetooth-permissions -->
<uses-permission android:name="android.permission.BLUETOOTH_SCAN"/>
<uses-permission android:name="android.permission.BLUETOOTH_CONNECT" />
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />

<!-- legacy for Android 11 or lower -->
<uses-permission android:name="android.permission.BLUETOOTH" android:maxSdkVersion="30" />
<uses-permission android:name="android.permission.BLUETOOTH_ADMIN" android:maxSdkVersion="30" />

```

When release `project/android/app/proguard-rules.pro` add following:-

> `-keep class com.lib.flutter_blue_plus.* { *; }`


#### IOS

In the `ios/Runner/Info.plist` let’s add:
```plist
    <key>NSBluetoothAlwaysUsageDescription</key>
    <string>This app needs Bluetooth to function</string>
```


### Action References

* Note that the event.data is exactly set of characters that the device is sending. It will be a string. If the device is sending JSON data, that will *not* be automatically converted. You will need to call `JSON.parse(event.data)` to convert it to JSON *

`bluetoothInit` : Turns on the bluetooth (Android only) and Stream of on & off states of the bluetooth.
```yaml
Icon:
    name: bluetooth_fill
    library: remix
    onTap:
    bluetoothInit:
        onDataStream: |
        bluetoothStatus.text = event.data;
```
`bluetoothStartScan` : Starts a scan for Ble devices
```yaml
Button:
    label: Device scan
    onTap:
        bluetoothStartScan:
        onDataStream: |
            ensemble.storage.devices = event.data
```

`bluetoothConnect` : Establishes a connection to the Bluetooth Device and listen to connection stream
```yaml
Button:
    label: Connect
    onTap: 
        bluetoothConnect:
        deviceId: ${device.deviceId}
        timeout: 60
        onConnectionStream: |
            status.text = event.data.status;
        onDataStream: |
            ensemble.storage.services = event.data;
```

`bluetoothDisconnect`: Disconnect connection to Bluetooth Device.
```yaml
Button:
    label: Disconnect
    onTap: 
        bluetoothDisconnect:
        deviceId: ${device.deviceId}
```

`bluetoothSubscribeCharacteristic`: Listen and Retrieves the value of the characteristic.
```yaml
Button:
    label: Subscribe
    onTap:  
        bluetoothSubscribeCharacteristic:
        id: ${characteristic.id}
        onDataStream: |
            data.text = event.data
```
`bluetoothUnsubscribeCharacteristic`: Stop listening to a given characteristics
```yaml
Button:
    label: UnSubscribe
    onTap:  
        bluetoothUnsubscribeCharacteristic:
        id: ${characteristic.id}
```

---

# callExternalMethod

*Note this is relevant for developers who are integrating Ensemble with their flutter apps* 

Utilize the `callExternalMethod` action to call a method in your Flutter app. Ensemble allows you to pass Flutter methods into the framework at the time you instantiate `EnsembleApp`.

## Example of registering openApp method that's implemented in Flutter

See how to [embed](https://github.com/EnsembleUI/ensemble/blob/main/starter/lib/main.dart) Ensemble platform in your [existing flutter app](https://github.com/EnsembleUI/ensemble/tree/main/starter)

```dart
  //assuming you have a flutter method called openApp
  Map<String, Function> methods = {
    //appId, screenId and props will be provided by the EDL code when invoking the callExternalMethod action
    'openApp': ({appId, screenId, props}) => openApp(appId!, screenId, props)
  };

//following code is from https://github.com/EnsembleUI/ensemble/blob/main/starter/lib/main.dart
void main() async {
  WidgetsFlutterBinding.ensureInitialized();
  initErrorHandler();
  await EnsembleModules().init();
  runApp(EnsembleApp(
      externalMethods: methods //this is how you can specify one or more Flutter methods that could be invoked from within EDL
    ));
}
```
Here's how to invoke the `openApp` method we registered earlier. 

```yaml
View:
  Column:
    children:
      - Button:
          label: Open App
          onTap:
            callExternalMethod:
              name: openApp
              payload:
                appId: appId
                screenId: screenId
```
Alternatively you can call it in code as follows - 

```js
            ensemble.callExternalMethod({
              name: "openApp",
              payload: {
                appId: appId,
                screenId: screenId
              },
            });
```

---

# checkPermission

`checkPermission` is designed to check the permission status. It includes components for checking notification, location, contacts, and camera permissions.

**Callbacks**
1. `onAuthorized`: Executes when the components permission to authorized. Updates the text of the component to "Authorized."

2. `onDenied`: Executes when the components permission to denied. Updates the text of the component to "Denied."

3. `onNotDetermined`: Executes when the components permission to not determined. Updates the text of the component to "Not Determined."

```yaml
- Button:
    label: Notification Permission
    onTap:
        checkPermission:
        type: notification
        onAuthorized: |
            //@code
            notificationStatus.text = "Authorized";
            console.log("onAuthorized called");
        onDenied: |
            //@code
            notificationStatus.text = "Denied"
            console.log("onDenied called");
        onNotDetermined: |
            //@code
            notificationStatus.text = "Not Determined"
            console.log("onNotDetermined called");
```
When a user taps the "Notification Permission" button, the app checks the notification permission status. Depending on the status, one of the specified callbacks (onAuthorized, onDenied, or onNotDetermined) is executed. 

---

# closeAllDialogs

closeAllDialogs action dismisses or closes all open modal dialogs within the app, allowing developers to easily manage and reset the dialog stack, ensuring a clutter-free and user-friendly interface for a seamless app experience.

**Example**

```yaml
MyStartingDialog:
  body:
    Column:
      styles:
        gap: 10
      children:
        - Text:
            text: Welcome to Ensemble
            styles:
              fontSize: 16
              fontWeight: bold
        - Text:
            text: This dialog pops up when the user first visits the page.
        - Button:
            label: Close dialog
            onTap: closeAllDialogs
```

The complete example [here](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/HRIajN2i8bDDVTL32j8m?propertyPanelEnabled=true&instantPreviewDisabled=false&editorV2Enabled=true) demonstrates its usage along with showDialog

---

# connectWallet

connectWallet action enables users to establish a connection between their digital wallet and the app, facilitating seamless integration with blockchain-based functionalities, token transfers, and decentralized applications, enhancing user interactions with cryptocurrency-related features.

### Properties

| Property    | Type   | Description                                                       |
| :---------- | :----- | :---------------------------------------------------------------- |
| id          | string | ID allows you to bind to its result. e.g. ${wallet.addresses...}, |
| wcProjectId | string | Wallet connect project Id, get it from wallet connect dashboard   |
| onComplete  | action | Execute another Action upon successful upload of files            |
| onError     | action | Execute an Action when uploader fails with error(s)               |
| appMetaData | object | [see properties](#propertiesappMetaData)                          |

#### properties.appMetaData

| Property    | Type   | Description                                                  |
| :---------- | :----- | :----------------------------------------------------------- |
| name        | string | Your app name, that will be shared to crypto wallet          |
| description | string | Your app's description, that will be shared to crypto wallet |
| url         | string | You app's / company's url                                    |
| iconUrl     | string | Url path of your app's icon                                  |

**Example**



```yaml
View:
  title: Crypto wallet
  body:
    Column:
      styles: { padding: 16 }
      children:
        - Markdown:
            text: |
              ### Build Dapps

              - Connect to any crypto wallet that support wallect connect v1, check supporting wallet. [Wallet Connect Explorer](https://walletconnect.com/explorer?version=1)

              - Get wallet connect project id from wallet connect [dashboard](https://cloud.walletconnect.com/sign-in)
              - Set application descriptions like name, description.
              - We can connected wallet addresses using `walletRef.addresses`.
        - Spacer:
            styles: { size: 12 }

        - Divider:

        - Spacer:
            styles: { size: 12 }

        - Markdown:
            text: |

              # Example

        - Spacer:
            styles: { size: 12 }

        - Button:
            label: Connect to wallet
            onTap:
              connectWallet:
                id: wallet
                wcProjectId: 77740b7e86cfcba224464923b8e115e3
                appMetaData:
                  name: Ensemeble app
                  description: Ensemble forever
                  url: https://ensembleui.com/
                  iconUrl: https://ensembleui.com/assets/images/logo.svg
                onComplete: |
                  //@code

                  address.text = wallet.addresses;

        - Spacer:
            styles: { size: 12 }

        - Markdown:
            id: address
```



complete example [here](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/MnW9B85MmtqPXLEdZETu?propertyPanelEnabled=true&instantPreviewDisabled=false&editorV2Enabled=true)

---

# copyToClipboard

copyToClipboard action allows users to copy text or content to their device's clipboard with a simple interaction, facilitating easy sharing and transfer of information within the app, enhancing productivity and user convenience.

### Properties

| Property  | Type   | Description                                              |
| :-------- | :----- | :------------------------------------------------------- |
| value     | string | The text to copy to clipboard                            |
| onSuccess | action | Execute another Action upon successful copy to clipboard |
| onFailure | action | Execute an Action when copy to clipboard fails           |

**Example**

```yaml
View:
  header:
    title: "Action: copyToClipboard"
  styles:
    scrollableView: true

  body:
    Column:
      styles:
        gap: 16
        padding: 24

      children:
        - Markdown:
            text: |
              Use the `copyToClipboard` action to copy a value to the clipbaord.

        - TextInput:
            label: Value to copy
            id: textInput
            value: Hello there
        - Button:
            label: Copy to clipboard
            onTap:
              copyToClipboard:
                value: ${textInput.value}
                onSuccess:
                  showToast:
                    message: ${textInput.value} + "copied!"
                    options:
                      dismissable: true
                      type: success
                      duration: 3
                onFailure:
                  showToast:
                    message: ${textInput.value} + "copied!"
                    options:
                      dismissable: true
                      type: error
                      duration: 3
```


complete example [here](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/oQGrStPwLqERIc7kzHFn?propertyPanelEnabled=true&instantPreviewDisabled=false&editorV2Enabled=true)

---

# Device Security

The `deviceSecurity` action checks if the device is rooted, debugged, or running on an emulator. It executes corresponding actions based on the results of these checks, enhancing security awareness and control within your application

## Properties

| Property  | Type   | Description                                                                      |
| :-------- | :----- | :------------------------------------------------------------------------------- |
| onSuccess | action | Action to be executed on successful security check with data on device status    |
| onError   | action | Action to be executed on error during the security check                         |

### Event Data

When the `onSuccess` action is executed, the following data is available under `event.data`:

- **debugged**: Indicates if the device is in debug mode.
- **rooted**: Indicates if the device is rooted.
- **emulator**: Indicates if the device is an emulator.

When the `onError` action is executed, the following data is available under `event.error`:

- **error**: Error message describing the issue.

**Example**

```yaml
View:
  header:
    titleText: "Device Security Example"

  body:
    Column:
      styles:
        padding: 24
        gap: 8
      children:
        - Button:
            label: Check Device Security
            onTap:
              deviceSecurity:
                onSuccess:
                  executeConditionalAction:
                    conditions:
                      - if: ${event.data.debugged}
                        action:
                          showDialog:
                            body:
                              Text:
                                text: "The device is in debug mode."
                      - elseif: ${event.data.rooted}
                        action:
                          showDialog:
                            body:
                              Text:
                                text: "The device is rooted."
                      - elseif: ${event.data.emulator}
                        action:
                          showDialog:
                            body:
                              Text:
                                text: "The device is an emulator."
                      - else:
                        action:
                          showDialog:
                            body:
                              Text:
                                text: "The device is secure."
                onError:
                  showDialog:
                    body:
                      Text:
                        text: ${event.error}
```

**Kitchen Sink**

You can find a complete example of using the deviceSecurity action in the [Ensemble Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/RLWeYjfVwopcTqhWo6mX). This example demonstrates how to integrate the action within a screen, handle the success and error cases, and display relevant information to the user based on the device's security status.

### Platform Based Configurations

- **Android**: No additional configurations are required.
- **iOS**: Add following lines to the `Info.plist` file in /ios/Runner/ folder:

```xml
<key>LSApplicationQueriesSchemes</key>
    <array>
        <string>undecimus</string>
        <string>sileo</string>
        <string>zbra</string>
        <string>filza</string>
        <string>activator</string>
    </array>
```

---
**NOTE**

This action only works for native applications (Android and iOS), on web it will always return false.

---

---

# Actions

When an event is triggered (e.g. button is tapped), you can perform actions such as navigate to a screen, call an API, or even run JavaScript code.

### Backend API interaction

| Property                   | Description                                                                                                 |
| :------------------------- | :---------------------------------------------------------------------------------------------------------- |
| [invokeAPI](invoke-API.md) | invokeAPI is used for calling an API. You can call an API on events such as a button tap or on screen load. |

### Navigation & UI transitions

| Property                                        | Description                                                                                                                                                                   |
| :---------------------------------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [navigateScreen](navigate-screen.md)            | navigateScreen action facilitates smooth navigation to a specific screen or page within the app's interface.                                                                  |
| [navigateModalScreen](navigate-modal-screen.md) | navigateModalScreen action opens a specific screen or page as a modal overlay, focusing on the temporary view without losing the main app context.                            |
| [navigateViewGroup](navigate-view-group.md)     | navigateViewGroup action allows users to navigate between menu items while maintaining the menu in place. This simulate the experience when user taps on different nav items. |
| [navigateBack](navigate-back.md)                | navigateBack action allows users to go back to the previous screen or page within the app's navigation stack.                                                                 |
| [showDialog](show-dialog.md)                    | showDialog action triggers the display of a modal dialog box within the app, presenting important information or notifications.                                               |
| [closeAllDialogs](close-all-dialogs.md)         | closeAllDialogs action dismisses or closes all open modal dialogs within the app, ensuring a clutter-free interface.                                                          |
| [showToast](show-toast.md)                      | showToast action displays a temporary notification or message on the app interface, providing concise and contextual updates to users.                                        |
| [uploadFiles](upload-files.md)                  | uploadFiles action allows users to select and upload files from their device to the app, facilitating data transfer and sharing.                                              |

### Device capabilities

| Property                                                    | Description                                                                                                                                                 |
| :---------------------------------------------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [openCamera](open-camera.md)                                | openCamera action allows users to access their device's camera within the app for capturing images and videos.                                              |
| [getLocation](get-location.md)                              | getLocation action retrieves the device's current location, enabling location-based functionalities within the app.                                         |
| [requestNotificationAccess](request-notification-access.md) | requestNotificationAccess action prompts users to grant permission for the app to send notifications to their device.                                       |
| [showNotification](show-notification.md)                    | showNotification action displays local notifications within the app, notifying users of important events or information.                                    |
| [notification](notification.md)                             | notification action manages and handles notifications within the app, enabling effective communication with users and delivering timely updates and alerts. |
| [pickFiles](pick-files.md)                                  | pickFiles action enables users to select files from their device for further processing or usage within the app.                                            |
| [uploadFiles](upload-files.md)                              | uploadFiles action allows users to select and upload files from their device to the app, facilitating data transfer and sharing.                            |
| [getNetworkInfo](get-network-info.md)                        | enables users to retrieve their device's current location, facilitating location-based functionalities within the app, such as mapping, navigation, or personalized content delivery, enhancing user experience and context-aware interactions. It requests user's permission to get his/her current location |

### Other interactions

| Property                                | Description                                                                                                                                    |
| :-------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------- |
| [executeCode](execute-code.md)          | executeCode action executes custom code logic within the app, enabling dynamic functionality and personalized interactions.                    |
| [openUrl](open-url.md)                  | openUrl action opens external URLs or web links within the app, facilitating seamless integration with external content.                       |
| [startTimer](start-timer.md)            | startTimer action initiates a timer within the app, facilitating time-sensitive processes and triggering events after a specified duration.    |
| [openUrl](open-url.md)                  | openUrl action allows users to open external URLs or web links within the app, enhancing content integration.                                  |
| [stopTimer](stop-timer.md)              | stopTimer action halts or pauses a running timer within the app, providing control over time-sensitive processes.                              |
| [copyToClipboard](copy-to-clipboard.md) | copyToClipboard action copies text or content to the device's clipboard, facilitating easy sharing and transfer of information within the app. |

### 3-rd party services

| Property                            | Description                                                                                                                                           |
| :---------------------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------- |
| [connectWallet](connect-wallet.md)  | connectWallet action establishes a connection between the app and the user's digital wallet, enabling blockchain-based interactions and transactions. |
| [openPlaidLink](open-plaid-link.md) | Open the Plaid Link Service so user can link their financial accounts to your service.                                                                |

### Audio Player

| Property                       | Description                                                                      |
| :----------------------------- | :------------------------------------------------------------------------------- |
| [playAudio](play-audio.md)     | The playAudio action allows users to play a given audio file from a URL or asset |
| [pauseAudio](pause-audio.md)   | The pauseAudio action allows users to pause an already-playing audio file        |
| [resumeAudio](resume-audio.md) | The resumeAudio action allows users to resume a previously paused audio          |
| [stopAudio](stop-audio.md)     | The stopAudio action allows users to stop a already playing audio file           |
| [seekAudio](seek-audio.md)     | The seekAudio action allows users to pause a already-playing audio file          |

---

# dispatchEvent action
Custom widgets in Ensemble, just like widgets in any UI framework, can dispatch events

`dispatchEvent` action is used in custom widgets to let the caller of the widget know when something interesting has happened. 

For example 
- a calendar widget may dispatch an event named 'onDataRangeSelected' to notify the caller that the user selected a range of dates. 
- in this example, we have a custom widget named `DispatchEventSample` that is a simple Form widget with two fields and a Submit button. When you tap the Submit button, `DispatchEventSample` dispatches an event namd `onFormSubmit`. A Text widget below the form just prints out the data received in the event

## Example: 
`DispatchEventSample` is Custom Widget that dispatches `onFormSubmit` event 
```yaml
  Widget:
  inputs:
    - nameLabel
    - emailLabel
    - submitBtnLabel
  events:
    onFormSubmit:
      data:
        name:
        email:
  body:
    Form:
      onSubmit:
        dispatchEvent:
          onFormSubmit:
            data:
              name: ${name.value}
              email: ${email.value}
      children:
        - Text:
            text: Sample Form that dispatches onFormSubmit whenever the Submit button is pressed
        - TextInput:
            label: ${nameLabel}
            required: true
            id: name
            validateOnUserInteraction: true
        - TextInput:
            label: ${emailLabel}
            id: email
            required: true
            inputType: email
            validateOnUserInteraction: true
        - Button:
            label: ${submitBtnLabel}
            submitForm: true
```
The screen that uses the widget `listens` to the `onFormSubmit` event and simply prints out the data
```yaml
View:
    # Optional - style the screen
    styles:
      scrollableView: true

    # Optional - set the header for the screen
    header:
      title: 'Action: dispatchEvent'

    # Specify the body of the screen
    body:
      Column:
        styles:
          padding: 24
          gap: 8
        children:
          - Markdown:
              text: |
                Custom widgets in Ensemble, just like widgets in any UI framework, can dispatch events
                
                `dispatchEvent` action is used in custom widgets to let the caller of the widget know when something interesting has happened. 
                
                For example 
                - a calendar widget may dispatch an event named 'onDataRangeSelected' to notify the caller that the user selected a range of dates. 
                - in this example, we have a custom widget named `DispatchEventSample` that is a simple Form widget with two fields and a Submit button. When you tap the Submit button, `DispatchEventSample` dispatches an event namd `onFormSubmit`. A Text widget below the form just prints out the data received in the event
          - Divider:

          - DispatchEventSample:
              inputs:
                nameLabel: Full Name
                emailLabel: Email Address
                submitBtnLabel: Submit
              events:
                onFormSubmit:
                  executeCode:
                    body: |-
                      eventData.text = 'Received Data from onFormSubmit: '+event.data.name + ' ' + event.data.email
          - Divider:
              
          - Text:
              id: eventData
```
See Kitchen Sink for the detailed example[(here](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/RajOE62KtSkOHYHJQVJF)

---

# executeActionGroup
Executing a group of Actions, either in parallel (default) or sequentially with each waiting for the other to complete before executing.

## Usage
- The most common use case for this is calling APIs in parallel using the `invokeAPI` action. Since APIs are asynchronous, multiple APIs will be triggered one after the other in parallel. The parallism is governed by the underlying operating system.
- Use `executeInOrder: true` when certain actions depend on the previous action to complete before executing. An example is closing the current dialog before opening up the new one. Dialog lifecycles are asynchronous, so calling close followed immediately by open will not work as expected. Using `executeInOrder: true` will ensure that the close action completes before the open action is executed.

## Caveats
- Note that while `executeCode` action can execute asynchronous code, it will not wait and will immediately return. This means that even if it is used inside `executeActionGroup` with `executeInOrder: true`, the next action will be executed immediately after the `executeCode` action is called. 

| Property       | Type     | Description                                                                          |
|:---------------|:---------|:-------------------------------------------------------------------------------------|
| executeInOrder | boolean  | If true, the actions will be executed in order, one after the other. (default false) |
| actions        | Action[] | The list of Actions to be executed                                                   |


See [Kitchen Sink Example](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/VJQun4rJ91mATTBopsNy#)

## Example
```yaml
          - Button:
              label: Round
              onTap:
                executeActionGroup:
                  actions:
                    - invokeAPI:
                        name: callDelayedAPI
                        inputs:
                          num: 1
                    - showToast:
                        message: second action - 2
                        options:
                          duration: 4
                    - executeCode:
                        body: |- 
                          console.log('executed code - 2');
                    - invokeAPI:
                        name: callDelayedAPI
                        inputs:
                          num: 3
                        onResponse: |-
                          console.log('inline onResponse - 3');
                    - invokeAPI:
                        name: callDelayedAPI
                        inputs:
                          num: 4
                    - showToast:
                        message: number 5
                        options:
                          duration: 3
                    - executeCode:
                        body: |- 
                          console.log('executed code - 5');
```

---

# executeCode

Utilize the `executeCode` action to compose custom JavaScript code within the context of this application. When the execution of the code concludes, you can incorporate a follow-up action by leveraging the `onComplete` property.

Keep in mind that you need to use **//@code** so Ensemble knows to treat the lines that follow as JavaScript.

```yaml
View:
  Column:
    children:
      - Button:
          label: Execute Code
          onTap:
            executeCode:
              body: |
                //@code
                codeExecuted.text = 'Code block under body is executed';
              onComplete: |
                //@code
                onCompleteCodeExecuted.text = 'Code block under onComplete is executed';

      - Text:
          id: codeExecuted

      - Text:
          id: onCompleteCodeExecuted
```

For examples of the `executeCode` action, see the [Ensemble Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/6f88beb2-efe0-4278-82f3-134d110a8551) app.

## Properties for executeCode

| Property   | Type | Description |
| :-------   | :--- | :---------- |
| body       | String  | Block of code writen in JavaScript. This block executes when the executeCode action is called. |
| onComplete | String  | Block of code writen in JavaScript. This block executes after thh executeCode action is called, and the body code block is executed. |

---

# getLocation

getLocation action enables users to retrieve their device's current location, facilitating location-based functionalities within the app, such as mapping, navigation, or personalized content delivery, enhancing user experience and context-aware interactions. It requests user's permission to get his/her current location

### Module (ensemble_location)
Enable Location service in Ensemble code

By default, Ensemble does not include the location module to avoid installing unnecessary packages. Here, we uncomment a few lines of code to get the necessary packages.

Inside the directory where you cloned Ensemble Starter, open `/lib/generated/ensemble_modules.dart`.

* Search for this line and uncomment it:
```
// import 'package:ensemble_location/location_manager.dart';
```

* Search for this line and uncomment it:
```
      // GetIt.I.registerSingleton<LocationManager>(LocationManagerImpl());
```

* Search for this line and set it to true
```
  static const useLocation = false;
```

---

### Properties

| Property           | Type   | Description                                                                                           |
| :----------------- | :----- | :---------------------------------------------------------------------------------------------------- |
| options            | object | [see properties](#propertiesoptions)                                                                  |
| onLocationReceived | action | Callback Action once we get the device location                                                       |
| onError            | action | Callback Action if we are unable to get the device location. Reason is available under 'reason' field |

#### properties.options

| Property                | Type    | Description                                                                                                                                                                                                  |
| :---------------------- | :------ | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| recurring               | boolean | Whether to continuously get the device location on this screen. Note that a screen can only have one recurring location listener. Adding multiple recurring location listeners will cancel the previous one. |
| recurringDistanceFilter | integer | If recurring, the minimum distance (in meters) the device has moved before new location is returned. (default: 1000 meters, minimum: 50 meters)                                                              |

**Example**



```yaml
View:
  # Optional - style the screen
  styles:
    scrollableView: true

  # Optional - set the header for the screen
  header:
    title: "Action: getLocation"

  # Specify the body of the screen
  body:
    Column:
      styles:
        padding: 24
        gap: 8
      children:
        - Text:
            text: Get location via Action
            styles:
              font: subtitle
        - Markdown:
            text: Use `getLocation` Action to get the location, with the option to continuously get location change updates.
        - Button:
            label: Listen for location changes
            onTap:
              getLocation:
                options:
                  recurring: true # while on this page, location changes will continue to execute onLocationReceived
                  recurringDistanceFilter: 50 # only dispatch if the new location is more than 50 meters away from the previous location
                onLocationReceived: |-
                  //@code
                  status.text = 'Lat: ' + latitude + ', Lng: ' + longitude;
                onError: |-
                  //@code
                  status.text = reason;
        - Text:
            id: status
```



complete example [here](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/uH9b2ZnmSS3HT7BsECu4?propertyPanelEnabled=true&instantPreviewDisabled=false&editorV2Enabled=true)

---

# getNetworkInfo

**Works on native iOS and Android apps only. In the browser, `onError` (if specified) will be called with error `Network info is not supported on the web`.**

Action to retrieve the following network information -

- wifiName
- wifiBSSID
- wifiIPv4
- wifiIPv6
- wifiGatewayIP
- wifiBroadcast
- wifiSubmask

If successful, the network information will be available as event.data.networkInfo object with the property names as shows above, for example event.data.networkInfo.wifiName.

In case of error, the error message will be available as event.error.

For all other cases, check the `event.data.status` property for details

## Properties for getNetworkInfo

| Property   | Type | Description |
| :-------   | :--- | :---------- |
| onSuccess  | action  | (Required) call an Action when the network info has been retrieved successfully. Network info will be available under event.data.networkInfo object with properties wifiName, wifiBSSID, wifiIPv4, wifiIPv6, wifiGatewayIP, wifiBroadcast, wifiSubmask |
| onError | action  | (Optional) call an Action when unable to retrieve networkInfo. This could be because the location or wifiinfo is not enabled in the app or the module has not been included. Error is available as `event.error` property |
| onDenied | action | (Optional) call an Action when the user has denied access to the location. Location access is required to get the wifi data. The status could either be `denied` or `deniedForever`. `deniedForver` means that the user has denied the location access and has selected the option to never ask again. |
| onLocationDisabled | action | (Optional) call an Action when the location is disabled. This could be because the location is disabled in the device settings. |

## How to enable the `getNetworkInfo` action for your app

**When using the build system in the [Ensemble Studio](https://studio.ensembleui.com) the following configurations are automatically added for you and your app is automatically built and made available on the appstore and google play for you to then test or submit for approval.**

1. First enable the `ensemble_network_info` module as follows -
- open starter/pubspec.yaml and search for `Uncomment to enable NetworkInfo` and uncomment the `ensemble_network_info` module reference -
```yaml
  ensemble_network_info:
   git:
     url: https://github.com/EnsembleUI/ensemble.git
     ref: main
     path: modules/ensemble_network_info
```
Run `pub get` to get the latest

- open `starter/lib/generated/ensemble_modules.dart` and ...
. uncomment import 'package:ensemble_network_info/network_info.dart';
. set `useNetworkInfo = true;`
. uncomment `GetIt.I.registerSingleton<NetworkInfoManager>(NetworkInfoImpl());`  

2. Configure permissions for iOS and/or Android as follows

### Browser
Note that `getNetworkInfo` action is available only on iOS and Android. On the web, `onError` (if specified) will be called with error `Network info is not supported on the web`. 

### iOS
**Location**
Location and `Precise Location` is required to get the `wifiName` and `wifiBSSID`. Other properties can be retrieved without location permission. When location is not enabled. `wifiName` and `wifiBSSID` will return null. 

Open the `starter/ios/Runner` directory. There you will find the following two files that we need to modify - `info.plist` and `Runner.entitlements`

`info.plist`: add the following.

Add either `NSLocationWhenInUseUsageDescription` or  `NSLocationAlwaysUsageDescription` depending on what your apps needs. 
Make sure to adjust the message to meet your requirements. `PreciseLocation` is a must to get the wifiName and wifiBSSID.

```xml
	<key>NSLocationWhenInUseUsageDescription</key>
	<string>We need your location to provide better services.</string>
	<key>NSLocationAlwaysUsageDescription</key>
	<string>We need your location to provide continuous tracking even when the app is in the background.</string>
	<key>NSLocationUsageDescription</key>
	<string>using location</string>
	<key>NSLocationTemporaryUsageDescriptionDictionary</key>
	<dict>
		<key>PreciseLocation</key>
		<string>We need your precise location to provide location-based services and ensure accurate tracking.</string>
	</dict>
```

`Runner.entitlements`: add the following

```xml
	<key>com.apple.security.personal-information.location</key>
	<true/>
	<key>com.apple.developer.networking.wifi-info</key>
	<true/>
```
You can do the above changes by using the XCode graphical interface as well. Make sure to do a clean build after making the above changes. 

### Android
Android just needs the `Fine Location` permission as follows. 

Under `starter/android/app/src/main`

`AndroidManifest.xml` 

```xml
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
```

## Example

```yaml
View:
  styles:
    useSafeArea: true
    scrollableView: true

  # Optional - set the header for the screen
  header:
    titleText: Home

  # Specify the body of the screen
  body:
    Column:
      styles:
        padding: 24
        gap: 8
      children:
        - TextInput:
            id: wifiName
            label: wifiName
        - TextInput:
            id: wifiBSSID
            label: wifiBSSID
        - TextInput:
            id: wifiIPv4
            label: wifiIPv4
        - TextInput:
            id: wifiIPv6
            label: wifiIPv6
        - TextInput:
            id: wifiGatewayIP
            label: wifiGatewayIP
        - TextInput:
            id: wifiBroadcast
            label: wifiBroadcast 
        - TextInput:
            id: wifiSubmask
            label: wifiSubmask                                    
        - TextInput:
            id: status
            label: status
            multiline: true
            maxLines: 10
            minLines: 4
        - Button:
            label: get wifi info
            onTap:
              getNetworkInfo:
                onSuccess:
                  executeCode:
                    body: |
                      status.value = event.data.status;
                      wifiName.value = event.data.networkInfo.wifiName;
                      wifiBSSID.value = event.data.networkInfo.wifiBSSID;
                      wifiIPv4.value = event.data.networkInfo.wifiIPv4;
                      wifiIPv6.value = event.data.networkInfo.wifiIPv6;
                      wifiGatewayIP.value = event.data.networkInfo.wifiGatewayIP;
                      wifiBroadcast.value = event.data.networkInfo.wifiBroadcast;
                      wifiSubmask.value = event.data.networkInfo.wifiSubmask;
                onError:
                  executeCode:
                    body: |
                      status.value = event.error;
```

---

# getPhoneContacts

The `PhoneContacts` view is designed to retrieve and display phone contacts from Android and iOS physical devices or simulators. It includes a warning note, a button to fetch contacts, and a list view to display individual contact details.

```yaml
- Button:
    label: Get Phone Contacts
    onTap:
      getPhoneContacts:
        id: phoneContactId
        onSuccess: |
          // ***code
          console.log("Phone Number Fetched Successfully");
          ensemble.storage.set('contacts', event.data['contacts']);

        onError: |
          // ***code
          console.log("Something went wrong!");
```
The `onSuccess` and `onError` callbacks for the "Get Phone Contacts" button. In the success callback (onSuccess), the retrieved contacts are logged to the console and stored in the `ensemble.storage.contacts`. In the error callback (onError), a message is logged indicating an issue.

```yaml
- ListView:
    id: listView
    styles:
      expanded: true
    item-template:
      data: ${ensemble.storage.contacts}
      name: contact
      template:
        UserContact:
          inputs:
            contact: ${contact}
```
The `ListView` component displaying a list of contacts (ensemble.storage.contacts). It uses the `UserContact` custom widget template for each item in the list.

---

# getPhoneContactPhoto

```yaml
UserContact:
  inputs:
    - contact
  styles: { gap: 10 }
  onLoad:
    getPhoneContactPhoto:
      id: contactPhotoId
      contactId: ${contact.id}

    # Using JS Code

    # //@code
    # ensemble.getPhoneContactPhoto({
    #    id: "contactPhotoId",
    #   contactId: contact.id
    # });

  body:
    Column:
      styles: { gap: 2 }
      children:
        - Row:
            children:
              - Image:
                  source: ${contactPhotoId.image}
                  width: 100
                  height: 100
                  fallback: ImageFallbackWidget
              - Column:
                  styles: { gap: 2, margin: 10 }
                  children:
                    - Text:
                        textStyle: { fontWeight: bold, fontSize: 18 }
                        text: "${contact.displayName}"
                    - Text:
                        textStyle: { fontWeight: bold, fontSize: 18 }
                        text: "${getPhoneNumber(contact.phones)}"
                    - Shape:
                        styles:
                          height: 10
        - Divider:
```
The `UserContact` component representing the structure for displaying an individual contact. It includes an `Image` and two `Text` components for displaying the contact's display image, name and phone number. The `getPhoneContactPhoto` action is used to get the contact photo with the contactId.

```yaml
Global: |
  //@code

  if (ensemble.storage.contacts == null) {
    ensemble.storage.contacts = [];
  }

  function getPhoneNumber(phones) {
    if (phones.length > 0) {
      return phones[0].number;
    } else {
      return "";
    }
  }
```
The global code block initializes `ensemble.storage.contacts` as an empty array if it's null. It also includes the `getPhoneNumber` function, which extracts the primary phone number from an array of phone numbers.

---

# invokeAPI

To check out examples of the invokeAPI action, go to the [Ensemble Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/e546b0d8-3220-4217-bd5c-181118154073).

## API response object 
Both the `onResponse` and `onError` actions provide reference to the API response object. The `response` object has the following propertuies available to you.

| Property   | Type   | Description                                                                |
| :--------- | :----- | :------------------------------------------------------------------------- |
| statusCode         | number | Http status code. See details [here](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status) |
| body       | String | the actual body of the response. This is where you are mostly interested in. JSON responses are automatically parsed and made available. Other content-types are available as strings.                               |
| headers     | array | Key value pairs of http response headers                  |
| reasonPhrase | String | Phrase that describes the statusCode. Http response statusCode is a 3 digit number and reasonPhrase describes that number. For example - reasonPhrase for statusCode between 200 and 299 (inclusive) is Successful. More [here](https://www.ibm.com/docs/en/cics-ts/5.5?topic=concepts-status-codes-reason-phrases)                                         |
| type | String | By default the invokeAPI action is used to call http(s) APIs whether REST o GraphQL APIs. However, Ensemble has a deep integration with firestore. if the type is specificed as `firestore`, this action will invoke firestore APIs. For details and examples, see [Firestore Operations](pages/firebase/firestore-operations.mdx) |

## API/invokeAPI properties
| Property   | Type   | Description                                                                |
| :--------- | :----- | :------------------------------------------------------------------------- |
| id         | String | Give the API an ID allows you to bind to its result. e.g. ${apiId.body...} |
| name       | String | Name of the API defined in the API section                                 |
| inputs     | Object | Key value pairs ofinputs to be passed to API definition                    |
| onResponse | Action | The action to handle the response. This action can access the `response` object. For example - `response.body` or event overwrite the body as `response.body = myJsonObject;`                                          |
| onError    | Action | The action to handle errors. Just like onResponse, you have the `response` object available here so you can check `response.statusCode` to see what error was sent by the server and then use `response.body` to access the error response                                                |

## Content Types

The API supports different content types for request bodies:

1. **JSON (Default)**
   - If no Content-Type is specified, the body is sent as JSON
   - Content-Type: application/json
   - By default, the Flutter framework sends the content-type header as `application/json; charset=utf-8` for json content. The presence of `charset=utf-8` while perfectly fine can cause issues for some servers. In order to make sure `charset=utf-8` is not appended to the header, set the `content-type` header as a header in your API. `Content-Type: application/json`
  
Example with JSON data:

```yaml
API:
  loginUser:
    uri: https://api.example.com/login
    method: POST
    headers:
      #application/json is the default content-type. You can optionally specify the Content-Type header to make sure framework sends the header as `Content-Type: application/json`. When not specified, header will be sent as `Content-Type: application/json; charset=utf-8`
      Content-Type: application/json
    body: ${json}
```

3. **URL Encoded Form Data**
   - Set Content-Type: application/x-www-form-urlencoded
   - Body will be automatically encoded in URL-encoded format

Example with URL-encoded form data:

```yaml
API:
  loginUser:
    uri: https://api.example.com/login
    method: POST
    headers:
      Content-Type: application/x-www-form-urlencoded
    body:
      username: ${username}
      password: ${password}
```

**invokeAPI** is used for calling an API. You can call an API on events such as a button tap or on screen load. First, you have to declare an API:

```yaml
API:
  getPeople:
    uri: https://randomuser.me/api/?results=8
    method: GET
```

### Usage examples of InvokeAPI

Now to call the API on screen load, use the `onLoad` property of the view, there are two ways to call invokeAPI as well

##### 1. Using ensemble invokeAPI action.

````yaml
View:
  onLoad:
    invokeAPI:
      name: getPeople
  body:
    Column:
      styles: { gap: 16, padding: 24 }
      children:
        - Text:
            text: ${getPeople.body.results.length} records were retrieved from API
        - Markdown:
            text: |
              Here's the API response body:
              ```
              ${getPeople.body}
              ```

API:
  getPeople:
    uri: https://randomuser.me/api/?results=8
    method: GET
````

##### 2. Using JavaScript code block to execute invokeAPI action.



````yaml
View:
  onLoad: |
    //@code
    ensemble.invokeAPI("getPeople");
  body:
    Column:
      styles: { gap: 16, padding: 24 }
      children:
        - Text:
            text: ${getPeople.body.results.length} records were retrieved from API
        - Markdown:
            text: |
              Here's the API response body:
              ```
              ${getPeople.body}
              ```

API:
  getPeople:
    uri: https://randomuser.me/api/?results=8
    method: GET
````



- **Its similar to previous only that we are now using Javascript code block**.

To call an API on button tap, inside the body add a Button with `onTap` property:



```yaml
View:
  body:
    Column:
      styles: { gap: 16, padding: 24 }
      children:
        - Button:
            label: Call API
            onTap:
              invokeAPI:
                name: getPeople
        - Column:
            item-template:
              data: ${getPeople.body.results}
              name: item
              template:
                Text:
                  text: ${item.name.first}

API:
  getPeople:
    uri: https://randomuser.me/api/?results=8
    method: GET
```



## POST calls with input parameters

You can also create a POST request and pass parameters to the API like this



```yaml
View:
  body:
    Column:
      styles: { gap: 16, padding: 24 }
      children:
        - Button:
            label: Call API
            onTap:
              invokeAPI:
                name: createToDo
                inputs:
                  name: "some value"
                onResponse: |
                  //@code
                  var id = response.body.records[0].id;
                  postStatus.text = 'Record created: ' + id;
        - Text:
            id: postStatus

API:
  createToDo:
    inputs:
      - name
    uri: "https://api.airtable.com/v0/appDbkGS4VOiPVQR5/ToDo?api_key=keyyWz426zsnMKavb"
    method: "POST"
    body:
      records:
        - fields:
            desc: "${name}"
```



## Handing errors

To handle Errors, you can use the `onError` property:



```yaml
        - Text:
            text: Handle error
        - Button:
            label: Call API 
            onTap:
              invokeAPI:
                name: createToDoError
                onResponse: |
                  //@code
                  apiStatus.text = 'Call was successful';
                  //you have the response object available here so you access its properties. See top of the page for response object
                  console.log(response.body);//this will print out the full body of the response object. See above for all the properties of a response object
                onError: |
                  //@code
                  apiStatus.text = 'API returned an error';
                  //you have the response object available here so you access its properties. See top of the page for response object
                  console.log(response.statusCode);//this will print out the http status code of the response object. See above for all the properties of a response object
        - Text:
            id: apiStatus

API:
  createToDoError:
    inputs:
      - name
    uri: 'https://api.airtable.com/v0/appDbkGS4VOiPVQR5/ToDo?api_key=keyyWz426zsnMKavb'
    method: 'POST'
    body:
      records: "this is not what the API expects"
```



## Use in code

You can also call an API in code block.



```yaml
        - Button:
            label: Call API
            onTap:
              executeCode:
                body: |
                  //@code

                  // no inputs
                  ensemble.invokeAPI("getNewYorkTime");
        - Text:
            visible: ${getNewYorkTime.body != null}
            text: Current time in NYC is ${getNewYorkTime.body.datetime}

API:
  getNewYorkTime:
    uri: https://worldtimeapi.org/api/timezone/America/New_York
    method: GET
```



## Properties for invokeAPI

| Property   | Type   | Description                                                                |
| :--------- | :----- | :------------------------------------------------------------------------- |
| id         | String | Give the API an ID allows you to bind to its result. e.g. ${apiId.body...} |
| name       | String | Name of the API defined in the API section                                 |
| inputs     | Object | Key value pairs ofinputs to be passed to API definition                    |
| onResponse | Action | The action to handle the response                                          |
| onError    | Action | The action to handle errors                                                |

Details about API [here](/apis/api-overview)

---

# invokeHaptic

invokeHaptic action allows users to play haptics on the device allowing better UX. It supports 5 haptics namely heavyImpact, mediumImpact, lightImpact, selectionClick, and vibrate. They are listed in decreasing order of intensity
and vibrate does a short vibrate pulse. It also supports playing haptic by JavaScript code and also has additional parameters like onTapHaptic or onChangeHaptic added to multiple widgets where haptic would be required.

### Properties

| Property  | Type   | Description                                              |
| :-------- | :----- | :------------------------------------------------------- |
| type      | enum   | The type of haptic to perform. It should be one of heavyImpact, mediumImpact, lightImpact, selectionClick, and vibrate |
| onComplete| action | Execute another Action post executing the haptic |

**Example**



```yaml
View:
  header:
    title: Haptic
  Column:
    styles: { gap: 16, padding: 24 }
    children:
      - Button:
          label: Using Action
          onTap:
            invokeHaptic:
              type: lightImpact
              onComplete: |
                //@code
                console.log("Haptic completed")
      - Button:
          label: Using JavaScript
          onTap: |
            //@code
            invokeHaptic({type: lightImpact})
      - Button:
          label: Using methods
          onTapHaptic: lightImpact
          onTap: |
            //@code
            console.log("Button Press")
```

---

# Action: navigateBack

The `navigateBack` action allows users to navigate back to the previous screen within the app’s navigation stack. It removes the current screen from the navigation history, so when the user navigates back, the previous screen reappears. This action is also useful when working with modal screens, as it closes the modal and returns the user to the originating screen.

### Properties

| Property | Type   | Description                                                                                                     |
| :------- | :----- | :-------------------------------------------------------------------------------------------------------------- |
| data     | object | Data object to send back to the previous screen. This allows you to pass information back when navigating back. |

---

## Example: Navigating Back

In this example, we use the `navigateScreen` action to navigate to another screen, and then use the `navigateBack` action to return to the originating screen. The `data` is used to send data back to the previous screen when navigating back.

### Originating Screen

```yaml
View:
  styles:
    scrollableView: true
  body:
    Column:
      styles:
        padding: 24
      children:
        - Button:
            label: Go to demo screen
            onTap:
              navigateScreen:
                name: navigateBack Demo
                onNavigateBack:
                  showToast:
                    message: ${event.data}
```

### Target Screen

```yaml
View:
  styles:
    scrollableView: true
  body:
    Column:
      styles:
        padding: 24
      children:
        - Button:
            label: Go Back
            onTap:
              navigateBack:
                data:
                  message: This is example of data passed when navigating back.

```
### Explanation

1. **Navigate to Another Screen:**  
   First, the user clicks the "Go to demo screen" button, which triggers the `navigateScreen` action, navigating to a new screen called `navigateBack Demo`.

   ```yaml
     - Button:
        label: Go to demo screen
        onTap:
          navigateScreen:
            name: navigateBack Demo
            onNavigateBack:
              showToast:
                message: ${event.data}
   ```
   
2. **Trigger `navigateBack` on the Target Screen:**  
   On the demo screen, there’s a button with the label "Go Back." When this button is pressed, the `navigateBack` action is triggered, sending a data containing a message back to the previous screen:
   ```yaml
   - Button:
      label: Go Back
      onTap:
        navigateBack:
           data:
             message: This is example of data passed when navigating back.
   ```

3. **Access the data on the Originating Screen:**  
   When the user navigates back using the `navigateBack` action, the `onNavigateBack` event is triggered on the source screen. This event gives you access to the data sent during the `navigateBack` action via `event.data`. You can then use this data to perform actions, such as displaying a message with `showToast` or updating other UI elements on the source screen.
   
   ```yaml
     - Button:
        label: Go to demo screen
        onTap:
          navigateScreen:
            name: navigateBack Demo
            onNavigateBack:
              showToast:
                message: ${event.data}
   ```

You can try complete example [here](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/XjvL2XseLnRvYO4FS82e)

---

# navigateModalScreen

navigateModalScreen action enables users to open a specific screen or page as a modal overlay, creating a temporary and focused view to capture user input or display additional content without losing context of the main app flow.

### Properties

| Property       | Type   | Description                                              |
| :------------- | :----- | :------------------------------------------------------- |
| name           | string | Enter the Name or ID of your screen                      |
| inputs         | object | Specify the key/value pairs to pass into the next Screen |
| onModalDismiss | action | Execute an Action when the modal screen is dismissed     |

#### properties-options

| Property | Type | Description |
| :------- | :--- | :---------- |
| closeToasts | boolean | Determines whether toasts (temporary messages) should be closed automatically. Default is `true`. |

**Note:** To close the modal from within the modal screen, just call the [navigateBack](7-navigateBack.md) action

**Example**



```yaml
View:
  title: "Action: navigateModalScreen"
  styles:
    scrollableView: true

  body:
    Column:
      styles: { gap: 16, padding: 24 }
      children:
        - Markdown:
            text: You can open new screen on above the main screen using action `navigateModalScreen`
        - Button:
            label: Show Modal
            onTap:
              navigateModalScreen:
                name: Actions & events
        - Markdown:
            text: You can navigateModalScreen from code blocks using `ensemble.navigateModalScreen('ScreenName');`.
        - Button:
            label: Show Modal Using Code
            onTap:
              executeCode:
                body: |
                  //@code

                  // no inputs
                  ensemble.navigateModalScreen('Actions & events');
                  //with inputs
                  //ensemble.navigateModalScreen({name: 'Actions & events',inputs:{input1: 'abc', input2: 'ced'}} );
```



You can try complete example [here](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/67ICgJIX0McKswXCybb0?propertyPanelEnabled=true&instantPreviewDisabled=false&editorV2Enabled=true)

---

# navigateScreen

navigateScreen action allows users to transition to a specific screen or page within the app, facilitating seamless navigation and enhancing user interaction with different sections of the application.

Like any other action, navigateScreen may be called in YAML or in the JS code. 

### Properties

| Property       | Type   | Description                                                                             |
| :------------- | :----- | :-------------------------------------------------------------------------------------- |
| name           | string | Enter the Name or ID of your Screen                                                     |
| inputs         | object | Specify the key/value pairs to pass into the next Screen                                |
| options        | object | [see properties](#properties-options)                                                                      |
| onNavigateBack | action | triggers when users returns back to a screen it previously visited using navigateScreen |
| transition | Map | [Screen transition](#screen-transition) , [Screen transition example](#screen-transition-example)

#### Screen Transition
Animate screen transition from one to another.

| Property       | Type   | Description |
| :--- | :--- | :---|
| type | string | [transition type](#transition-type)
| alignment | string | [transition alignment](#transition-alignment)
| duration | integer| duration of transition in millisecond 

#### transition-type
| name |
| :--- |
|fade |
|rightToLeft |
|leftToRight |
|topToBottom |
|bottomToTop |
|scale |
|rotate |
|size |
|rightToLeftWithFade |
|leftToRightWithFade |
|leftToRightPop |
|rightToLeftPop |
|topToBottomPop |
|bottomToTopPop |

#### transition-alignment
|name|
|:---|
|topLeft|
|topCenter|
|topRight|
|centerLeft|
|center|
|centerRight|
|bottomLeft|
|bottomCenter|
|bottomRight|

#### properties-options

| Property             | Type    | Description                                                                                                                                                                                   |
| :------------------- | :------ | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| replaceCurrentScreen | boolean | If true, the new screen will replace the current screen on the navigation history. Navigating back from the new screen will skip the current screen.                                          |
| clearAllScreens      | boolean | If true, clear out all existing screens in the navigation history. This is useful when navigating to a Logout or similar page where users should not be able to go back to the prior screens. |
| closeToasts    | boolean | Determines whether toasts (temporary messages) should be closed automatically. Default is `true`. |

**Example: Calling navigateScreen - Detailed Examples for YAML and JS**



```yaml
View:
  title: "Action: navigateScreen"
  styles:
    scrollableView: true

  Column:
    styles: { gap: 16, padding: 24 }
    children:
      - Markdown:
          text: You can navigate to another screen using action `navigateScreen`
      - Button:
          label: Navigate to Home
          onTap:
            navigateScreen:
              name: Home

      - Markdown:
          text: You can navigateScreen from code blocks using `ensemble.navigateScreen('ScreenName');`.
      - Button:
          label: Navigate to Home using code
          onTap:
            executeCode:
              body: |
                //@code
                ensemble.navigateScreen('Home');

      - Divider

      - Markdown:
          text: |
            #### Pass inputs
            You have the option of passing inputs to the target screen.

      - TextInput:
          id: messageInput
          label: Message to pass
          value: Hello there

      - Button:
          label: Navigate and pass inputs
          onTap:
            navigateScreen:
              name: "Action: navigateScreen inputs demo"
              inputs:
                message: ${messageInput.value}

      - Button:
          label: Navigate and pass inputs using code
          onTap:
            executeCode:
              body: |
                //@code
                ensemble.navigateScreen({
                  "name": "Action: navigateScreen inputs demo",
                  "inputs":  { 
                    "message": messageInput.value
                  }
                });

      - Divider

      - Markdown:
          text: |
            #### options: clearAllScreens
            By default, Ensemble retains your previous screens. On browser, user can press back button and get the previous view. 

            When you need to remove all the previous screens from the history stack, as in a logout scenario, use `clearAllScreens: true`.

      - Button:
          label: Navigate and clear all screen history
          onTap:
            navigateScreen:
              name: Home
              options:
                clearAllScreens: true

      - Divider

      - Markdown:
          text: |
            #### options: replaceCurrentScreen
            Sometimes when navigating to a new screen, you may not want the user to go back to the current screen. An example is after logging in, hitting back should not take the user back to the login screen. Use the flag `replaceCurrentScreen: true` to remove the current screen from the history stack.

      - Button:
          label: Navigate to new screen and replace the current screen
          onTap:
            navigateScreen:
              name: Home
              options:
                replaceCurrentScreen: true
```

  

You can try complete example [here](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/kgGUzKx0YiIWp96auaEO?propertyPanelEnabled=true&instantPreviewDisabled=false&editorV2Enabled=true)

**Example: Calling navigateScreen in Javascript**

```javascript
//navigating to a screen without any options
ensemble.navigateScreen('My Screen');
//navigating to a screen with options
ensemble.navigateScreen({name: 'My Screen',options: {replaceCurrentScreen: true}}
```

### onNavigateBack

We can also make use of onNavigateBack in our navigateScreen action to achieve certain goals like calling an API when returning to screen, updating something which was modified on visited screen etc.

**Example**
Below is only a snippet from a use case where we can perform any action inside the onNavigateBack event. We can call an API or update any particular parameter we want

```yaml
navigateScreen:
  name: "${booking.completion_status == 'confirmed' ? 'ConfirmedTrip' : 'ConfirmTripRequest'}"
  inputs:
    booking: ${booking}
  onNavigateBack: |-
    ensemble.debug("got back")
```

Another example where using in context of a button we are updating certain local storage items inside the context of the onNavigateBack

```yaml
- Button:
    label: Categories
    styles:
      outline: true
      padding: 0
    labelStyle:
      fontSize: 12
      color: 4288060321
    endingIcon:
      name: chevron_right
      color: 4288060321
      size: 16
    onTap: null
    navigateScreen:
      name: Spending
      onNavigateBack: |-
        //@code
        getCategoriesAggregate(ensemble.storage.timeSpan);

```

Note: here we are chaining actions onTap -> navigateScreen -> onNavigateBack etc. Also getCategories(...) is a function used to update certain local storage items.

- We can also pass data from the visited screen to current screen using navigateBack action. let see an example for that as well.

```yaml
View:
  header:
    title: Home
  body:
    Button:
      label: Checkout Ensemble Kitchen Sink
      onTap:
        navigateBack:
          data: #  optional, can be simple or complex
            var1: 1
            var2: "s t r i n g"
```

on visited screen using navigateBack we pass certain variables which can be accessed on previous screen using onNavigateBack event.

```yaml
View:
  header:
    title: Home
  body:
    Button:
      label: Checkout Ensemble Kitchen Sink
      onTap:
        navigateScreen:
          name: nextScreen
          onNavigateBack: |-
            //@code
            console.log("navigated back to main screen");
            console.log(event.data);
```

#### Screen Transition Example

```yaml
View:
  header:
    title: Screen Transition

  body:
    Button:
      label: Navigate transition
      onTap:
        navigateScreen:
          name: <write-your-screen-name-here>
          transition: 
            type: rotate
            duration: 1000
            alignment: center
```

---

# navigateViewGroup

navigateViewGroup action allows users to navigate between menu items while maintaining the menu in place. This simulate the experience when user taps on different nav items.

To use this action, first create your [ViewGroup](/screens-and-widgets/screen-structure#view-group).

### Properties

| Property       | Type    | Description                                                                             |
| :------------- | :------ | :-------------------------------------------------------------------------------------- |
| viewIndex      | integer | The index of the menu item to navigate to, starting from 0                              |
| name           | string  | The name of the ViewGroup. This is the name given to the screen when it was created. If the current screen is part of the ViewGroup, name is not required.  |


### Example


Given the following ViewGroup, named `home`:

```yaml
ViewGroup:
  BottomNavBar:
    items:
      - label: Screen1
        icon:
          name: home
        page: NavigateViewGroupScreen1
      - label: Screen2
        icon:
          name: input
        page: NavigateViewGroupScreen2
      - label: Screen3
        icon:
          name: settings
        page: NavigateViewGroupScreen3

```

Use the `navigateViewGroup` action to nvaigate between the tabs without dismissing the menu. 


```yaml
View:
  styles:
    scrollableView: true
    backgroundColor: 0xFFA2728D

  header:
    title: Screen 2
    styles:
      backgroundColor: 0xFFA2728D

  body:
    Column:
      styles:
        padding: 24
        gap: 8
      children:
        - Button:
            label: Go to NavigateViewGroupScreen1
            onTap:
              navigateViewGroup:
                name: home
                viewIndex: 0

        - Button:
            label: Go to NavigateViewGroupScreen3
            onTap:
              navigateViewGroup:
                name: home
                viewIndex: 2
```


This action will ensure that the menu renders when you navigate to the target screen. In contrast, using `navigateScreen` action will result in only displaying the new screen without the menu.

---

# notification

notifications action provides a comprehensive and customizable solution for managing notifications within the app, including handling incoming notifications, displaying them to users, and implementing notification-related functionalities, enhancing user experience and interaction with timely updates and alerts.

### Properties

| Property  | Type   | Description                                   |
| :-------- | :----- | :-------------------------------------------- |
| onTap     | action | Execute an Action on notification is tap.     |
| onReceive | action | Execute an Action on notification is receive. |

---

## onNavigateBack

---

# openAppSettings
Applicable on iOS/Android only. Opens the app settings page where the user can manage app permissions and settings. If `target` (optional) is provided and supported on the current running platform, it will open the specific setting page, otherwise the "Settings" screen will be opened.

**Inputs**:

`target (optional)`: the specific setting screen (see below) to open.

### Properties
| Target | Supported Platforms | Description |
| ------ | ------------------- | ----------- |
| accessibility       | Android                 | Open the accessibility settings |
| alarm               | Android                 | Open the alarm settings |
| apn                 | Android                 | Open the APN settings |
| appLocale           | Android 13+             | Open the app language settings. This setting is only available on Android 13+ |
| batteryOptimization | Android                 | Open the Battery Optimization settings |
| bluetooth           | Android                 | Open the Bluetooth settings |
| dataRoaming         | Android                 | Open the Data Roaming settings |
| date                | Android                 | Open the date settings |
| developer           | Android                 | Open the Developer settings |
| device              | Android                 | Open the device settings |
| display             | Android                 | Open the display settings |
| hotspot             | Android                 | Open the Hotspot settings |
| internalStorage     | Android                 | Open the internal storage settings |
| location            | Android, iOS                 | Open the location settings |
| lockAndPassword     | Android                 | Open the Lock And Password settings |
| nfc                 | Android                 | Open the NFC settings |
| notification        | Android, iOS 16+        | Open the notification settings |
| security            | Android                 | Open the security settings |
| settings            | Android, iOS            | Open the app settings |
| sound               | Android                 | Open the audio settings |
| subscriptions       | iOS 15+                 | Open the subscription settings |
| vpn                 | Android                 | Open the VPN settings |
| wifi                | Android                 | Open the wifi settings |
| wireless            | Android                 | Open the wireless settings |

---

# openCamera

`OpenCamera` action enables users to access their device's camera, capturing images or videos directly from the app, enhancing interactivity and enabling seamless integration of media functionalities within the application. With `id` property we can bind results of camera. Then use the `onComplete` properties to execute other actions after capture or selection is done.

### Properties

| Property   | Type   | Description                                                                        |
| :--------- | :----- | :--------------------------------------------------------------------------------- |
| id         | string | Give the camera an ID, allows you to bind to its result. e.g. ${cameraId.files...} |
| onComplete | action | Execute an Action after completing capturing media                                 |
| onClose    | action | Execute an Action on camera close                                                  |
| onCapture  | action | Execute an Action on each capture                                                  |
| options    | object | different options to chose for `openCamera` action. [see properties](#)            |

#### properties.options

| Property                | Type    | Description                                                                                                                    |
| :---------------------- | :------ | :----------------------------------------------------------------------------------------------------------------------------- |
| mode                    | string  | Modes of camera. It can be photo only i.e allows to capture just photo. Similarly video or can be both. `photo` `video` `both` |
| initialCamera           | string  | Initialize either camera, back or front. `back` `front`                                                                        |
| allowGalleryPicker      | boolean | Allow users to pick media from gallery. Default (true).                                                                        |
| allowCameraRotate       | boolean | Allow users rotate camera i.e back and front. Default (true).                                                                  |
| allowFlashControl       | boolean | Allow users to control flash options. Default (true).                                                                          |
| preview                 | boolean | If set true, users can view captured/selected media.                                                                           |
| maxCount                | number  | It used to control number of media that can be captured/selected                                                               |
| maxCountMessage         | string  | Custom message to show when captured/selected media is greater than maxCount                                                   |
| minCount                | number  | It used to control number of media that can be captured/selected                                                               |
| minCountMessage         | string  | Custom message to show when captured/selected media is greater than minCount                                                   |
| permissionDeniedMessage | string  | Set custom message when access to camera is denied                                                                             |
| nextButtonLabel         | string  | Set custom label on next button.                                                                                               |
| cameraRotateIcon        | widget  | Set custom icon for camera rotate button. [see here](/widget-reference/Icon)                                                   |
| galleryPickerIcon       | widget  | Set custom icon for gallery picker button. [see here](/widget-reference/Icon)                                                  |
| focusIcon               | widget  | Set custom icon for focus node.                                                                                                |
| assistAngle             | object  | Show assist message whenever angle goes below minAngle or above minAngle. [see properties](#values-for-optionsassistangle)     |
| assistSpeed             | object  | Show assist message whenever camera is moving faster than maxSpeed. [see properties](#values-for-optionsassistspeed)           |
| autoCaptureInterval     | integer | If set any number n, on each n interval camera will capture                                                                    |

##### Values for options.assistAngle

| Property                   | Type   | Description                                   |
| :------------------------- | :----- | :-------------------------------------------- |
| minAngle                   | number | Minimum angle                                 |
| maxAngle                   | number | Maximum Angle                                 |
| maxAngleassistAngleMessage | number | Custom message to show when condition is hit. |

##### Values for options.assistSpeed

| Property           | Type   | Description                                   |
| :----------------- | :----- | :-------------------------------------------- |
| maxSpeed           | number | Maximum speed in km/hr.                       |
| assistSpeedMessage | number | Custom message to show when condition is hit. |

**Usage Examples**



```yaml
View:
  header:
    title: "Action: openCamera"
  styles:
    scrollableView: true
  body:
    Column:
      styles: { gap: 16, padding: 24 }
      children:
        - Button:
            label: Open Camera
            onTap:
              openCamera:
                id: cameraId

                options:
                  mode: photo

        - Conditional:
            conditions:
              - if: ${cameraId.files.length > 0}
                Carousel:
                  item-template:
                    data: ${cameraId.files}
                    name: file
                    template:
                      Image:
                        source: ${file.path}
```



`openCamera` also comes with options



```yaml
- Button:
    label: Camera with options
    onTap:
      openCamera:
        id: cameraId1
        options:
          allowGalleryPicker: true
          allowCameraRotate: true
          allowFlashControl: true
          preview: true
          maxCount: 2
          mode: photo

- Conditional:
    conditions:
      - if: ${cameraId1.files.length > 0}
        Carousel:
          item-template:
            data: ${cameraId1.files}
            name: file
            template:
              Image:
                source: ${file.path}
```



`openCamera` also comes with advance options

- assistAngle, show message when phone angle goes below min angle or goes beyond max angle.
- assistSpeed, show message when phone goes beyond max speed.
- minCount/maxCount, type is a number and can also be set to `minCount: ${ensemble.storage.xyz}` to get a dynamic value



```yaml
- Button:
    label: Camera with advance options.
    onTap:
      openCamera:
        options:
          allowGalleryPicker: true
          allowCameraRotate: true
          allowFlashControl: true
          preview: true

          assistAngle:
            minAngle: 80
            maxAngle: 100
            assistAngleMessage: Please try to keep angle approx. 90 degree.

          assistSpeed:
            maxSpeed: 10
            assistSpeedMessage: Please try to speed below 10 km/hr.
```



You can capture and upload to specified API



```yaml
        - Button:
            label: Capture and upload
            onTap:
              openCamera:
                id: captureMedia
                onComplete:
                  uploadFiles:
                    id: uploader
                    files: ${captureMedia.files}
                    uploadApi: fileUploadApi
                    fieldName: files
                    inputs:
                      url: <specify your url>


        - Markdown:
            text: ${uploader.body}

API:
  fileUploadApi:
    inputs:
      - url
    uri: ${url}
    method: POST
```

You can clear previous camera results while recapturing using `cameraId.clear()`

```yaml
- Button:
    label: Clear Previous Result and Capture
    onTap:
      executeCode:
        body: |
          captureLatest.clear()
        onComplete:
          openCamera:
            id: captureLatest
```



To learn more about openCamera functionalities, test it out here in [Ensemble Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/USuOaOZApSgzE2uVrqlv) app.

---

# openPlaidLink

openPlaidLink action allows users to open external URLs or web links directly from the app, facilitating seamless integration with external content and enhancing the user's browsing experience within the application.
        
### Properties

| Property          | Type    | Description                 |
| :---------------- | :------ | :-------------------------- |
| linkToken         | string  | The Plaid Link Token created from /link/token/create endpoint of Plaid. View Plaid's documation [here](https://plaid.com/docs/api/tokens/#linktokencreate). |
| onSuccess | action | This action is triggered when user successfully complete the Plaid Link flow. |
| onEvent | action | This action is triggered when certain events in the Plaid Link flow have occurred, for example, when the user selected an institution. This enables your application to gain further insight into what is going on as the user goes through the Plaid Link flow. |
| onExit | action | This action is triggered when user exits Plaid Link without successfully linking a financial institution, or when an error occurs during Link initialization. |

---

# openUrl

openUrl action allows users to open external URLs or web links directly from the app, facilitating seamless integration with external content and enhancing the user's browsing experience within the application.

### Properties

| Property          | Type    | Description                 |
| :---------------- | :------ | :-------------------------- |
| url               | string  | The URL to open             |
| openInExternalApp | boolean | Open URL in an external app |

**Example**

1.  This one is simple example related to how one can make use of `openUrl` to open given url inside browser or an external browser app in android or ios.

```yaml
View:
  header:
    title: "Action: openUrl"
  styles:
    scrollableView: true

  body:
    Column:
      styles: { gap: 16, padding: 24 }
      children:
        - Form:
            styles: { mainAxis: center }
            children:
              - TextInput:
                  id: uri
                  value: "https://ensembleui.com"
              - Row:
                  styles: { gap: 8 }
                  children:
                    - Button:
                        label: Open Url in place
                        onTap:
                          openUrl:
                            url: ${uri.value}
```

You can use `openInExternalApp` property, this will open the url in the right app based on the url scheme in native apps. For browser, it doesn't matter

```yaml
- Button:
    label: Open Url in external app
    onTap:
      openUrl:
        url: ${uri.value}
        openInExternalApp: true
```

2. In this example we will open the default email app depending on the device or OS like on Windows its `Mail`.

```yaml
			- TextInput:
				id: email
				value: 'mailto: khurram.mahmood@gmail.com'
			- Button:
				label: Open Url
				onTap:
					openUrl:
						url: ${email.value}
```

To learn more about how to use openUrl action, check out the [Ensemble Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/TnoazbWLihcenxD1NBkr) example.

---

# pauseAudio

The pauseAudio action allows users to pause an already-playing audio file.

### Properties

| Property | Type   | Description                                                                                                            |
| :------- | :----- | :--------------------------------------------------------------------------------------------------------------------- |
| id       | string | A unique identity that's required to refer to the already playing audio. Should be same as that of passed in playAudio |

**Example**

```yaml
View:
  header:
    title: Audio Player
  styles:
    scrollableView: true

  body:
    Column:
      styles:
        gap: 16
        padding: 24
      children:
        - Button:
            label: Play Audio
            onTap:
              playAudio:
                id: My Audio
                source: "https://file-examples.com/storage/fe8119f4e865f33329898be/2017/11/file_example_MP3_700KB.mp3"
                volume: 1 # 0 to 1
                balance: 0 # -1 to 1
                position: 2 # in seconds
                onComplete:
                  executeCode:
                    body: |
                      console.log("Audio Played");

        - Button:
            label: Play Audio 2
            onTap:
              playAudio:
                id: My Audio
                source: audio.mp3
                volume: 1 # 0 to 1
                balance: 0 # -1 to 1
                position: 2 # in seconds
                onComplete:
                  executeCode:
                    body: |
                      console.log("Audio Played");

        - Button:
            label: Pause Audio
            onTap:
              pauseAudio:
                id: My Audio

        - Button:
            label: Stop Audio
            onTap:
              stopAudio:
                id: My Audio

        - Button:
            label: Resume Audio
            onTap:
              resumeAudio:
                id: My Audio

        - Button:
            label: Seek Audio at 4 second
            onTap:
              seekAudio:
                id: My Audio
                position: 20 # in seconds
```

---

# pickFiles

pickFiles action enables users to select files from their device for further processing or usage within the app, offering a seamless way to choose and work with files, enhancing user interactions and content management capabilities.

### Properties

| Property          | Type    | Description                                                                                                      |
| :---------------- | :------ | :--------------------------------------------------------------------------------------------------------------- |
| id                | string  | Give the picker an ID allows you to bind to its result, which can be access anywhere e.g. ${filePicker.files...} |
| allowMultiple     | boolean | Allow users to pick multiple files (default False)                                                               |
| allowCompression  | boolean | It will allow media to apply the default OS compression (default True)                                           |
| allowedExtensions | array   | Allow files with specific extension e.g jpg, png, pdf                                                            |


### Ensemble File object
The files picked using `pickFiles` or created using camera using `openCamera` all shared the same following object.


| Property | Type | Description | 
|:---|:---|:---|
| name | string | name of the file, could be null |
| size | integer | size of file in bytes, could be null |
| ext | string | extension of the file, could be null |
| path | string | file path, null on web, available in native mobile app |
| bytes | dynamic | if path is null i.e for web, we'll have bytes of files |

> [NOTE]  
> Path will be null when you are developing in the web studio. You'll have the path in your native mobile build or ensemble preview / go app.


**Example**



```yaml
View:
  # Optional - style the screen
  styles:
    scrollableView: true

  # Specify the body of the screen
  body:
    Column:
      styles: { gap: 16, padding: 24 }
      children:
        - Markdown:
            text: |
              Use the `uploadFiles`  action  upload files to specify `uploadApi`. 

              Then use the `onComplete`  properties to execute other actions when upload is successful.

        - Button:
            label: Pick Files
            onTap:
              pickFiles:
                id: picker

        - Button:
            label: Upload Picked files
            onTap:
              executeCode:
                body: |
                  //@code
                  loading.visible = true;

                onComplete:
                  uploadFiles:
                    id: fileUploader
                    files: ${picker.files}
                    uploadApi: fileUploadApi
                    inputs:
                      url: https://en09cdal5asztm.x.pipedream.net
                    onComplete: |
                      //@code
                      loading.visible = false;
                    onError: |
                      //@code

                      loading.visible = false;
                    maxFileSize: 100
                    overMaxFileSizeMessage: Please select files less than 100kb

        - Markdown:
            text: ${fileUploader.body}

        - Progress:
            display: circular
            id: loading
            visible: false

        - Divider

        - Markdown:
            text: |
              Chain multiple file actions to pick files and upload them in one go
              - Using `pickFiles` to pick file based on platform picker
              - Using `uploadFiles` to upload selected files from file picker

        - Button:
            label: Pick & Upload
            onTap:
              pickFiles:
                id: filePicker
                onComplete:
                  uploadFiles:
                    files: ${filePicker.files}
                    uploadApi: fileUploadApi
                    inputs:
                      url: https://en09cdal5asztm.x.pipedream.net
                    onComplete: |
                      //@code
                      ensemble.debug('File uploaded');

        - Divider:

        - Markdown:
            text: |
              `pickFiles`  also comes with option such as:

                - `allowMultiple` : To allow muliple file selection from gallery picker default (false)
                - `allowCompression` : It will allow media to apply the default OS compression (default True)
                - `allowedExtensions` : To filter file picking based on extensions like jpg, png, pdf...

              `uploadFiles`  also comes with option such as:

                - `files` : Pass the files that needs to upload e.g ${filePicker.files}

                - `fieldName` : Field name that your server is expecting. (default files).

                - `maxFileSize`: File size that is allowed in kb (default 100 mb), If multiple is allow then sum of all files
                - `overMaxFileSizeMessage`: Error message to show when selected files size is above maxFileSize.

        - Row:
            styles: { mainAxis: spaceBetween, crossAxis: center }
            children:
              - Button:
                  label: Multiple Images
                  onTap:
                    pickFiles:
                      id: images
                      allowMultiple: true
                      allowCompression: false
                      allowedExtensions:
                        - jpg
                        - png

              - Text:
                  text: ${images.files.length}
        - Button:
            label: Upload Multiple images
            onTap:
              uploadFiles:
                id: imageUploader
                uploadApi: fileUploadApi
                files: ${images.files}
                fieldName: files
                inputs:
                  url: https://en09cdal5asztm.x.pipedream.net
                maxFileSize: 100 # in kb
                overMaxFileSizeMessage: Please select files less than 100kb

        - Markdown:
            text: ${imageUploader.body}
        - Divider

        - Markdown:
            text: |
              ### Background file upload
              - Pick and Upload files in background.
              - In unmetered connection (wifi/lan)
              - Also show notification
              - *Not supported on web / studio.

        - Button:
            label: Background upload
            onTap:
              pickFiles:
                id: bgFilePicker
                onComplete:
                  uploadFiles:
                    uploadApi: fileUploadApi
                    files: ${bgFilePicker.files}
                    inputs:
                      url: https://en09cdal5asztm.x.pipedream.net
                    id: bgUploader
                    options:
                      backgroundTask: true
                      showNotification: true
                      networkType: unmetered

        - Divider:

        - Markdown:
            text: |
              _Side Note: If you are using default uploadURL it's using RequestBin_

              _RequestBin has maxFileSize of __100 kb__ above it will fail._

              _You can see you API request [here](https://requestbin.com/r/en09cdal5asztm/2Lzx3lZ071EFF9dFKZCXJTnkJHS)_

        - Divider:

API:
  fileUploadApi:
    inputs:
      - url
    uri: ${url}
    method: POST
```



complete example [here](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/mvFbwP5K5yvAqTlncTga?propertyPanelEnabled=true&instantPreviewDisabled=false&editorV2Enabled=true) including uploadFiles example.

---

# playAudio

The playAudio action allows users to play a given audio file from a URL or asset. It requires a unique ID passed to it so that the audio can be referenced.

### Properties

| Property  | Type   | Description                                              |
| :-------- | :----- | :------------------------------------------------------- |
| id | string | A unique identity that's required to refer to the given audio in the future |
| source | string | The source of the audio file. Can be a file name located in assets or can also be a url |
| volume | double | The volume at which audio to play. It should be between `0` and `1` with `0` being no volume and `1` being maximum volume. The default value is `1` |
| balance | double | The balance between both the left and right speakers for stereo audio. It should be between `-1` and `1` with `-1` being completely left speaker and `1` being completely right speaker. The default value is `0` |
| position | integer | The time stamp from which to play audio from. It should be in seconds. The default value is `0` |

**Example**

```yaml
View:
  header:
    title: Audio Player
  styles:
    scrollableView: true

  body:
    Column:
      styles:
        gap: 16
        padding: 24
      children:
        - Button:
            label: Play Audio
            onTap:
              playAudio:
                id: My Audio
                source: "https://file-examples.com/storage/fe8119f4e865f33329898be/2017/11/file_example_MP3_700KB.mp3"
                volume: 1 # 0 to 1
                balance: 0 # -1 to 1
                position: 2 # in seconds
                onComplete:
                  executeCode:
                    body: |
                      console.log("Audio Played");

        - Button:
            label: Play Audio 2
            onTap:
              playAudio:
                id: My Audio
                source: audio.mp3
                volume: 1 # 0 to 1
                balance: 0 # -1 to 1
                position: 2 # in seconds
                onComplete:
                  executeCode:
                    body: |
                      console.log("Audio Played");

        - Button:
            label: Pause Audio
            onTap:
              pauseAudio:
                id: My Audio

        - Button:
            label: Stop Audio
            onTap:
              stopAudio:
                id: My Audio

        - Button:
            label: Resume Audio
            onTap:
              resumeAudio:
                id: My Audio

        - Button:
            label: Seek Audio at 4 second
            onTap:
              seekAudio:
                id: My Audio
                position: 20 # in seconds
```

**Related Actions: [pause-audio](pause-audio.md) [stop-audio](stop-audio.md) [resume-audio](resume-audio.md) [seek-audio](seek-audio.md)**

---

# Pull To Refresh

Pull to Refresh is a common interaction pattern in mobile app development, allowing users to refresh the content of a view by pulling it down. In Ensemble, you can implement Pull to Refresh using the `onPullToRefresh` event and update the content dynamically. Let's break down the example:

```yaml
 Column:
    styles:
        scrollable: true
        padding: 20 20 200
        gap: 8
    onPullToRefresh: |-
        generateRandomNumber();
    item-template:
        data: ${ensemble.storage.RandomNumbers}
        name: number
        template:
        Text:
            text: ${number}
            styles:
            backgroundColor: cyan
            textAlign: center
Global: |-
  //@code
  ensemble.storage.RandomNumbers = [8, 3, 5];

  function generateRandomNumber() {
    //.....
    }
```

onPullToRefresh Event:
`onPullToRefresh`: |- 
    generateRandomNumber();: 
Specifies the callback function (`generateRandomNumber`) to be executed when the user pulls to refresh. This ensures that new random numbers are generated and the list is updated when the user performs a pull-to-refresh gesture.

Item Template:
`data`: ${ensemble.storage.RandomNumbers}: 
Binds the list of random numbers (stored in ensemble.storage.RandomNumbers) to the item template. This data will be used to populate the list.
`name: number`: Sets a reference name for each item in the list.
`text: ${number}`: Binds each Text widget to a specific number in the list, ensuring that the correct data is displayed for each item.

Global Section (Initialization):
`ensemble.storage.RandomNumbers = [8, 3, 5];`: 
Initializes the RandomNumbers array with some initial values.
`generateRandomNumber` function: 
Generates new random numbers when called. This function is triggered on pull-to-refresh.

---

# rateApp

The "Rate Us" functionality is available only for iOS devices when the app is in production. 

```yaml
View:
  header:
    title: 'Action: RateApp'

  body:
    Column:
      styles:
        padding: 24
        gap: 8
      children:
        - Text:
            text: Works only for iOS when app is in production (will not work for Ensemble Go while on TestFlight)
        - Button:
            label: Rate Us
            onTap:
              rateApp:
```
The rateApp action is triggered when the "Rate Us" button is tapped. It is to handle the logic for prompting users to rate the app.

---

# requestNotificationAccess

requestNotificationAccess action prompts users to grant permission for the app to send notifications to their device, enabling personalized alerts and updates, enhancing user engagement, and ensuring timely delivery of relevant information within the application.

### Properties

| Property     | Type   | Description                                                      |
|:-------------| :----- | :--------------------------------------------------------------- |
| onAuthorized | action | Execute an Action when notification permission has been granted  |
| onDenied     | action | Execute an Action when notification permission has been rejected |

**Example**

The first important thing to consider while implementing notifications is to make sure that its authorized by user itself. Thus first step is to ensure complete access to ensemble. let us see how it works



```yaml
View:
  header:
  title: "Action: showNotification"

  # Specify the body of the screen
  body:
    Column:
    styles:
      padding: 24
      gap: 8
    children:
      - Text:
          text: Hi there!
      - Button:
          label: Checkout Ensemble Kitchen Sink
          onTap:
              requestNotificationAccess:
                onAuthorized:
                    showNotification:
                      title: A Notification
                      body: As you can see me working here
```



When user clicks on button browser pop-up asks for permission and as you allow it notification can be seen at bottom-right corner of screen. You can refer complete example [here](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/NiF1zG2VKspdlxNM2F1n?propertyPanelEnabled=true&instantPreviewDisabled=false&editorV2Enabled=true).

**Output**

![Alt text](/public/images/actions/image-.png)

![Alt text](/public/images/actions/image--2.png)

---

# resumeAudio

The resumeAudio action allows users to resume a previously paused audio

### Properties

| Property | Type   | Description                                                                                                                    |
| :------- | :----- | :----------------------------------------------------------------------------------------------------------------------------- |
| id       | string | A unique identity that's required to refer to the audio that was paused in past. Should be same as that of passed in playAudio |

**Example**

```yaml
View:
  header:
    title: Audio Player
  styles:
    scrollableView: true

  body:
    Column:
      styles:
        gap: 16
        padding: 24
      children:
        - Button:
            label: Play Audio
            onTap:
              playAudio:
                id: My Audio
                source: "https://file-examples.com/storage/fe8119f4e865f33329898be/2017/11/file_example_MP3_700KB.mp3"
                volume: 1 # 0 to 1
                balance: 0 # -1 to 1
                position: 2 # in seconds
                onComplete:
                  executeCode:
                    body: |
                      console.log("Audio Played");

        - Button:
            label: Play Audio 2
            onTap:
              playAudio:
                id: My Audio
                source: audio.mp3
                volume: 1 # 0 to 1
                balance: 0 # -1 to 1
                position: 2 # in seconds
                onComplete:
                  executeCode:
                    body: |
                      console.log("Audio Played");

        - Button:
            label: Pause Audio
            onTap:
              pauseAudio:
                id: My Audio

        - Button:
            label: Stop Audio
            onTap:
              stopAudio:
                id: My Audio

        - Button:
            label: Resume Audio
            onTap:
              resumeAudio:
                id: My Audio

        - Button:
            label: Seek Audio at 4 second
            onTap:
              seekAudio:
                id: My Audio
                position: 20 # in seconds
```

---

# saveFile

The `saveFile` action saves media files (e.g., images) to the default media storage and documents to the default documents directory on Android and IOS. On the web, it downloads the file to the browser's default download folder.

### Properties

| Property  | Type   | Description                                   |
| :-------- | :----- | :-------------------------------------------- |
| source    | string | The source URL of the file     |
| blobData  | string | Blob data of the file in base64 string     |
| type      | string | Type of the file which are `image` or `document`. If type is `document` then the action will consider the source or blobData to be of document file and will save the file in the default device document folder     |
| onComplete | action | Action to be executed on successful file saving on mobile device and successful downloading on web |
| onError | action | Action to be executed on error saving file |

**Example**

#### 1. For `blobData` input: ####
 In case the type is image, action will save image in default Pictures path of device, in case of web, it will download the file 
```yaml
Button:
  onTap:
     saveFile:
       fileName: 'Test.png'
       type: image
       blobData:  # blob string for image
```

 In case the type is document, action will save document in default Documents path of device, in case of web, it will download the file 
```yaml
In case the type is document, it'll be saved in Documents
Button:
  onTap:
     saveFile:
       fileName: 'Test.pdf'
       type: document # pdf, docx, txt
       blobData:  # blob string for document
       onComplete:
         showToast:
           message: File saved successfuly
       onError:
         showToast:
           message: File saving failed
```
#### 2. For `source` input: ####
```yaml
Button:
  onTap:
     saveFile:
       fileName: 'Test.pdf'
       type: document # pdf, docx, txt
       source: https://pdfobject.com/pdf/sample.pdf  # source-url for document
       onComplete:
         showToast:
           message: File saved successfuly
       onError:
         showToast:
           message: File saving failed
```
You can try complete example [here](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/9rgeMobpDsSosMoL2Hxv)

---

# seekAudio

The seekAudio action allows users to pause a already-playing audio file

### Properties

| Property | Type    | Description                                                                                                            |
| :------- | :------ | :--------------------------------------------------------------------------------------------------------------------- |
| id       | string  | A unique identity that's required to refer to the already playing audio. Should be same as that of passed in playAudio |
| position | integer | The time stamp at which to skip the audio to. It should be in seconds. The default value is `0`                        |

**Example**

```yaml
View:
  header:
    title: Audio Player
  styles:
    scrollableView: true

  body:
    Column:
      styles:
        gap: 16
        padding: 24
      children:
        - Button:
            label: Play Audio
            onTap:
              playAudio:
                id: My Audio
                source: "https://file-examples.com/storage/fe8119f4e865f33329898be/2017/11/file_example_MP3_700KB.mp3"
                volume: 1 # 0 to 1
                balance: 0 # -1 to 1
                position: 2 # in seconds
                onComplete:
                  executeCode:
                    body: |
                      console.log("Audio Played");

        - Button:
            label: Play Audio 2
            onTap:
              playAudio:
                id: My Audio
                source: audio.mp3
                volume: 1 # 0 to 1
                balance: 0 # -1 to 1
                position: 2 # in seconds
                onComplete:
                  executeCode:
                    body: |
                      console.log("Audio Played");

        - Button:
            label: Pause Audio
            onTap:
              pauseAudio:
                id: My Audio

        - Button:
            label: Stop Audio
            onTap:
              stopAudio:
                id: My Audio

        - Button:
            label: Resume Audio
            onTap:
              resumeAudio:
                id: My Audio

        - Button:
            label: Seek Audio at 4 second
            onTap:
              seekAudio:
                id: My Audio
                position: 20 # in seconds
```

---

# Share

Using the native sharing capabilities of the device to provide users with the ability to share text and files.

### Properties

| Property   | Type   | Description                                                                                |
| :--------- | :----- | :----------------------------------------------------------------------------------------- |
| title         | string | Optional title (e.g. email's title)     |
| text          | string | Text and/or URL to share                                                        |
| files         | string | Binded files from sources like camera or picker. e.g ${filePicker.files}, ${camerId.files}                                        |

**Example**

The share action is triggered when the "Open Share Sheet" button is tapped. It typically opens the native share sheet on the device, allowing users to share content. In this case, it shares a title ("EnsembleUI") and a URL ("https://ensembleui.com/").

```yaml
  - Button:
      label: Open Share Sheet
      onTap:
        share:
          title: EnsembleUI
          text: https://ensembleui.com/
  - Text:
      text: Works only on Native iOS and Android
```
**Share Sheet Screenshot**
<div style="display: flex; flex-direction: column; align-items: center; margin-top: 10px;">
  <img src="public/images/actions/sharesheetiphone.png" style="text-align: center;" alt="Output Screenshot" width="250"/>
  <p>Clicking the "Open Share Sheet" will open share sheet to share the provided text and title</p>
</div>

Here's the example of how you can share files using `share` action
```yaml
- Button:
        label: Share Files
        onTap:
          pickFiles:
            id: filePicker
            source: files
            onComplete:
              share:
                files: ${filePicker.files}
                text: I selected this file
```

complete example [here](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/Dnv8CceAHCHlEpS61DEE)

---

# showBottomModal

The `showBottomModal` action enables the display of content on a modal that slides from the bottom of the device, providing a user experience similar to iOS Sheets.

```yaml
    - Button:
        label: Show Modal Using Code
        onTap:
            showBottomModal:
                widget: 
                    ActionsSheet:
                    inputs:
                        action1: Action 1
                        action2: Action 2
                styles: 
                    backgroundColor: white
                    barrierColor: 0x22000000
                options: 
                    enableDrag: true
                    enableDragHandler: true
```

The `showBottomModal` action is configured to call an `ActionsSheet` widget with two inputs: `action1` and `action2`. These inputs are then utilized within the `ActionsSheet` widget to customize its content.

## Properties

| Property      | Type      | Description  |
|:--------------|:----------|:-------------|
| widget        | [Widget](/widgets/) | Constructs the UI of the bottom modal using widgets. |
| styles        | [Styles](#styles) | Applies styles to customize the appearance of the modal. |
| options       | [Options](#options) | Offers customization options for the modal behavior. |
| onDismiss     | Action  | Execute predefined functions or custom code on modal dismiss. |

## Styles

| Property      | Type      | Description  |
|:--------------|:----------|:-------------|
| backgroundColor | string | Set the background color of the modal. |
| barrierColor | string | Sets the color of the barrier behind the modal. |

## Options

| Property      | Type      | Description  |
|:--------------|:----------|:-------------|
| enableDrag | boolean | Enable the user to drag the modal up and down. |
| enableDragHandler | boolean | Determines whether the drag handler is displayed. |

---

# showDialog

showDialog action triggers the display of a modal dialog box within the app, presenting users with important information, notifications, or customizable content while pausing the main app flow, ensuring clear and focused communication with users.

### Properties

| Property        | Type    | Description                                                                                            |
| :-------------- | :------ | :----------------------------------------------------------------------------------------------------- |
| widget          | widget  | Return an inline widget or specify a custom widget's name to use in the dialog.                        |
| options         | object  | [see properties](#propertiesoptions)                                                                   |
| dismissible     | boolean | This property denotes whether the dialog can be dismissed by tapping outside of it. Default is `true`. |
| onDialogDismiss | action  | Execute an Action when the dialog is dismissed.                                                        |

#### properties.options

| Property         | Type    | Description                                                                                                                                                                           |
| :--------------- | :------ | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| minWidth         | integer |                                                                                                                                                                                       |
| maxWidth         | integer |                                                                                                                                                                                       |
| minHeight        | integer |                                                                                                                                                                                       |
| horizontalOffset | number  | Offset the dialog's position horizontally, with -1.0 for the screen's left and 1.0 for the screen's right. (default is 0 for centering horizontally) minimum `-1.0` and maximum `1.0` |
| verticalOffset   | number  | Offset the dialog's position vertically, with -1.0 for the screen's top and 1.0 for the screen's bottom. (default is 0 for centering vertically) minimum `-1.0` and maximum `1.0`     |
| style            | string  | Render the dialog with a default style. You can also specify 'none' and control your own styles in your widget. `default` `none`                                                      |

**Example**

Here we are gonna see how we can



```yaml
View:
  header:
    title: Dialog
  onLoad:
    showDialog:
      widget: MyStartingDialog

  body:
    Column:
      styles: { margin: 10, gap: 5 }
      children:
        # use inline widget
        - Text:
            text: Your dialog can also be an inline widget
        - Button:
            label: Show Dialog
            onTap:
              showDialog:
                widget:
                  Text:
                    text: This dialog declares the widget inline and uses the default style.

        - Spacer:
            styles:
              size: 20

        # use custom styling
        - Text:
            text: You can customize the dialog style
        - Button:
            label: Show Custom Dialog
            onTap:
              showDialog:
                widget: MyCustomDialog
                options:
                  # no default style - zero margin/padding, no background color
                  style: none
                  # move it up half way between the top and the center of the screen
                  verticalOffset: -0.5

# Custom Widget
MyStartingDialog:
  body:
    Column:
      styles:
        gap: 10
      children:
        - Text:
            text: Welcome to Ensemble
            styles:
              fontSize: 16
              fontWeight: bold
        - Text:
            text: This dialog pops up when the user first visits the page.
        - Button:
            label: Close dialog
            onTap: closeAllDialogs

MyCustomDialog:
  body:
    Column:
      styles:
        gap: 10
        backgroundColor: 0xffD7BFA8
        borderRadius: 10
        margin: 20
        padding: 20
      children:
        - Text:
            text: |-
              This dialog set its own margin/padding and background color.

              It also offset the dialog position vertically.
```

Try complete example [here](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/HRIajN2i8bDDVTL32j8m?propertyPanelEnabled=true&instantPreviewDisabled=false&editorV2Enabled=true)


**Example with inputs**

We can also make use of inputs property for `showDialog` action to pass any input parameters to be used with dialog. Lets look at the previous example but this time with some input values.

```yaml
View:
  header:
    title: Dialog
  onLoad:
    showDialog:
      widget: MyStartingDialog
  body:
    Column:
      styles: { margin: 10, gap: 5 }
      children:
	- Text:
            text: You can customize the dialog style and provide inputs as well
        - Button:
            label: Show Custom Dialog
            onTap:
              showDialog:
                widget:
                  MyCustomDialog:
                    inputs:
                      name: Peter
                options:
                  # no default style - zero margin/padding, no background color
                  style: none
                  # move it up half way between the top and the center of the screen
                  verticalOffset: -0.5

                onDialogDismiss: |
                  //@code
                  console.log("dialog dismissed");

MyCustomDialog:
  inputs:
    - name
  body:
    Column:
      styles:
        gap: 10
        backgroundColor: 0xffD7BFA8
        borderRadius: 10
        margin: 20
        padding: 20
      children:
        - Text:
            text: |-
              Hi ${name}
              This dialog set its own margin/padding and background color.

              It also offset the dialog position vertically.
```

**Explanation**

- In the code for showDialog we are passing an input `name` with value `Peter` which can be seen clearly in the output.

**Example with Controlled dismissible property**

We can use `dismissble` property to control whether the dialog can be dismissble while tapping outside of it or not. If `dismissble` is `false`, dialog will not dismiss on tapping outside of it and vice verca. Default `dismissble`state of dialog is true. If you don't specify the property then the dialog will be dismissble.  

```yaml
View:
  header:
    title: Dialog
  body:
    Column:
      styles:
        padding: 24
        gap: 16
      children:
        - Button:
            label: Show undismissible dialog
            onTap:
              showDialog:
                dismissible: false
                body:
                  Text:
                    text: This is undismissible dialog
        - Button:
            label: Show Undismissble dialog (Custom dismiss implementation )
            onTap:
              showDialog:
                dismissible: false
                body:
                  Column:
                    children:
                      - Text:
                          text: This is undismissible dialog
                      - Button:
                          label: Dismiss
                          onTap:
                            dismissDialog:
```

---

# showNotification

showNotification action triggers the display of local notifications within the app, notifying users of important events or information even when the app is in the background or closed, enhancing user engagement and ensuring timely communication with users.

### Properties

| Property | Type   | Description           |
| :------- | :----- | :-------------------- |
| title    | string | Title of notification |
| body     | string | Body of notification  |

**Example**

You can refer [here](/actions/request-notification-access) for example related to notification. Can also refer complete example [here](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/zbIn4f6tD3yQkC1MJRj1?propertyPanelEnabled=true&instantPreviewDisabled=false&editorV2Enabled=true).

---

# showToast

The ShowToast enables the display of informative toast messages, providing temporary and non-intrusive notifications or alerts within your application for important updates or messages.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/LBertkIs2inDfUn87NrI)

## Properties

| Property  | Type   | Description                    |
| :-------- | :----- | :----------------------------- |
| showToast | object | Showing a toast message        |
| options   | object | Select a built-in toast style. |
| styles    | object | Toast's styles                 |

### showToast

| Property | Type   | Description                                                                                            |
| :------- | :----- | :----------------------------------------------------------------------------------------------------- |
| message  | string | The toast message. Either this message or a widget must be provided.                                   |
| widget   | object | The custom widget to show as the Toast's body. Either this widget or a toast message must be provided. |
| options  | object | Select a built-in toast style.                                                                         |
| styles   | object | Toast's styles                                                                                         |

### options

| Property    | Type    | Description                                                                                                               |
| :---------- | :------ | :------------------------------------------------------------------------------------------------------------------------ |
| type        | string  | Select a built-in toast style. One of the following - 'success', 'error', 'warning', 'info'                                                                                           |
| dismissible | boolean | Whether to show a dismiss button (default is True)                                                                        |
| alignment    | string  | Toast's position. Can be one of: `top`, `topLeft`, `topRight`, `center`, `centerLeft`, `centerRight`, `bottom`, `bottomLeft`, `bottomRight` |
| duration    | integer | The number of seconds before the toast is dismissed. Minimum value is 1.                                                  |

### styles

| Property        | Type             | Description                                                                                                                                          |
| :-------------- | :--------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------- |
| backgroundColor |                  | Toast's background color starting with '0xFF' for full opacity e.g 0xFFCCCCCC                                                                        |
| shadowColor     | string or number | Box shadow color starting with '0xFF' for full opacity.                                                                                              |
| shadowRadius    | integer          | Toast's shadow radius. Minimum value is 0.                                                                                                           |
| shadowOffset    | array            | Toast's shadow offset.                                                                                                                               |
| borderRadius    |                  | Toast's border radius.                                                                                                                               |
| expanded        | boolean          | If the parent is a Row or Column, this flag will stretch this widget in the appropriate direction. (e.g stretch horizontally for parent of type Row) |
| size            | integer          | Specifies the width (progress bar) or the diameter (circular progress indicator)                                                                     |
| thickness       | integer          | Specifies the thickness of the indicator (for progress bar this is the height)                                                                       |
| color           |                  | Progress indicator color.                                                                                                                            |

---

# startTimer

Use the `onTimer` action to start a timer. Then use the `onTimer` and/or `onTimerComplete` properties to execute other actions once the timer finishes.

### Properties

| Property        | Type   | Description                                                        |
| :-------------- | :----- | :----------------------------------------------------------------- |
| id              | string | Give this timer an ID so it can be cancelled by a stopTimer action |
| onTimer         | action | Execute an Action every time the timer triggers                    |
| onTimerComplete | action | Execute an Action when the timer has completed and will terminate  |
| options         | object | [see properties](#propertiesoptions)                               |

#### properties.options

| Property                                                                                                                                                                        | Type     | Description                                                                                                                                                                                                                                                                                                                                |
| :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| isGlobal                                                                                                                                                                        | boolean  | Marking this timer as global will ensure the timer, if repeating indefinitely, will continue to run even if the user navigates away from the screen, until explicitly stopped by the stopTimer action. Note that there can only ever be one global timer. Creating a new global timer will automatically cancel the previous global timer. |
| In the example below, we start a time that calls an API after 5 seconds, and repeat this action 3 times. That means after 15 seconds, the `onTimerComplete` action is executed. |
| startAfter                                                                                                                                                                      | integer  | Delay the timer's start by this number of seconds. If not specified and repeat is true, repeatInterval will be used. If none is specified, there will be no initial delay                                                                                                                                                                  |
| repeat                                                                                                                                                                          | boolean  | Whether the time should repeat and trigger at every repeatInterval seconds. This Timer will run continuously unless a maxNumberOfTimes is specified                                                                                                                                                                                        |
| repeatInterval                                                                                                                                                                  | integral | Trigger the timer periodically at this repeatInterval (in seconds)                                                                                                                                                                                                                                                                         |
| maxNumberOfTimes                                                                                                                                                                | integer  | Set the max number of times the timer will triggers, if repeat is true                                                                                                                                                                                                                                                                     |

**Usage Examples**

In the example below, we start a time that calls an API after 5 seconds, and repeat this action 3 times. That means after 15 seconds, the `onTimerComplete` action is executed.



```yaml
View:
  header:
    title: "Action: startTimer"
  styles:
    scrollableView: true

  body:
    Column:
      styles:
        gap: 16
        padding: 24
      children:
        - Button:
            label: Start Timer
            onTap:
              startTimer:
                onTimer:
                  invokeAPI:
                    name: getNYCTime
                options:
                  repeat: true
                  maxNumberOfTimes: 3
                  repeatInterval: 5
                onTimerComplete:
                  executeCode:
                    body: |
                      //@code
                      timerComplete.text = 'Timer completed';

        - Text:
            text: |
              API response:
              ${getNYCTime.body.datetime}

        - Text:
            id: timerComplete

API:
  getNYCTime:
    authentication: none
    method: GET
    uri: https://worldtimeapi.org/api/timezone/America/New_York
```



To learn more about how to use `startTimer` action, check out the [Ensemble Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/86fba216-4f96-408b-abff-d3ddcfbdcf49) example.

---

# stopAudio

The stopAudio action allows users to stop a already playing audio file

### Properties

| Property  | Type   | Description                                              |
| :-------- | :----- | :------------------------------------------------------- |
| id | string | A unique identity that's required to refer to the already playing audio. Should be same as that of passed in playAudio |

**Example**

```yaml
View:
  header:
    title: Audio Player
  styles:
    scrollableView: true

  body:
    Column:
      styles:
        gap: 16
        padding: 24
      children:
        - Button:
            label: Play Audio
            onTap:
              playAudio:
                id: My Audio
                source: "https://file-examples.com/storage/fe8119f4e865f33329898be/2017/11/file_example_MP3_700KB.mp3"
                volume: 1 # 0 to 1
                balance: 0 # -1 to 1
                position: 2 # in seconds
                onComplete:
                  executeCode:
                    body: |
                      console.log("Audio Played");

        - Button:
            label: Play Audio 2
            onTap:
              playAudio:
                id: My Audio
                source: audio.mp3
                volume: 1 # 0 to 1
                balance: 0 # -1 to 1
                position: 2 # in seconds
                onComplete:
                  executeCode:
                    body: |
                      console.log("Audio Played");

        - Button:
            label: Pause Audio
            onTap:
              pauseAudio:
                id: My Audio

        - Button:
            label: Stop Audio
            onTap:
              stopAudio:
                id: My Audio

        - Button:
            label: Resume Audio
            onTap:
              resumeAudio:
                id: My Audio

        - Button:
            label: Seek Audio at 4 second
            onTap:
              seekAudio:
                id: My Audio
                position: 20 # in seconds
```

---

# stopTimer

stopTimer action allows developers to halt or pause a running timer within the app, providing control over time-sensitive processes and facilitating efficient handling of time-related events, enhancing user interactions and application behavior.

### Properties

| Property | Type   | Description                                  |
| :------- | :----- | :------------------------------------------- |
| id       | string | Stop the timer with this ID if it is running |

**Example**



```yaml
Joke:
  body:
    Column:
      styles: { gap: 10 }
      children:
        - Text:
            text: Click the button to show a Chuck Norris joke every 10 seconds. Click Stop when you have enough.
        - Row:
            styles: { gap: 10 }
            children:
              - Button:
                  label: Tell me a joke
                  onTap:
                    startTimer:
                      id: jokeTimer
                      options:
                        isGlobal: true
                        repeat: true
                        repeatInterval: 10
                        startAfter: 0
                      onTimer:
                        invokeAPI:
                          name: jokeAPI
                          onResponse: |-
                            //@code
                            output.text = response.body.value;

              - Button:
                  label: Stop
                  onTap:
                    stopTimer:
                      id: jokeTimer
        - Text:
            id: output
```



see the complete example [here](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/86fba216-4f96-408b-abff-d3ddcfbdcf49?propertyPanelEnabled=true&instantPreviewDisabled=false&editorV2Enabled=true) to understand usage

---

# takeScreenshot

takeScreenshot action allows you to capture a screenshot of read-only widgets using its widgetId. The screenshot is saved to the gallery on mobile platforms or downloaded directly on the web, while also providing the image bytes for further use. It's an efficient solution for exporting visual content in high quality.
### Properties

| Property   | Type   | Description                                                                                |
| :--------- | :----- | :----------------------------------------------------------------------------------------- |
| widgetId   | string | The ID of the target widget to be captured as a screenshot.          |
| onSuccess  | action | Action to be excecuted on successful screenshot capture.                                     |
| onError    | action | Action to be excecuted on error during screenshot capture.|

### Event Data

When the `onSuccess` action is executed, the following data is available under `event.data`:

- **imageBytes**: Provides bytes of the screenshot.
- **size**: Provides total size of image in bytes, e.g. if screenshot has size of 1KB then `size` will return 1024.
- **dimensions**: Provides dimentions of the image as `dimensions.width` and `dimensions.height`

When the `onError` action is executed, the following data is available under `event.data`:

- **error**: Error message describing the issue.
- 

**Example**

```yaml
View:
  styles:
    scrollableView: true
  header:
    title: "Action: takeScreenshot"

  Column:
    styles:
      gap: 16
      padding: 24
    children:
      - Column:
          id: section1
          styles:
            gap: 16
          children:
            - Button:
                label: Test Button 1
            - Button:
                label: Test Button 2
        # Take Screenshot using `takeScreenshot` action
      - Button:
          label: Take Screenshot
          onTap:
            takeScreenshot:
              widgetId: ${section1}
              onSuccess:
                executeCode:
                  body: |
                    console.log(event.data.imageBytes)
                    console.log(event.data.size)
                    console.log(event.data.dimensions)

        # Take Screenshot using ensemble object in JavaScript `ensemble.takeScreenshot`
      - Button:
          label: Take Screenshot with JS
          onTap:  
             executeCode:
                body: |
                   ensemble.takeScreenshot({widgetId: section1})
```



complete example [here](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/C3zALhZvHQHyFISY9Yvo)

---

# uploadFiles

uploadFiles action allows users to select and upload files from their device to the app, enabling easy data transfer and content sharing, supporting various file formats, and enhancing the app's versatility and user engagement.

### Properties

| Property   | Type   | Description                                                                                |
| :--------- | :----- | :----------------------------------------------------------------------------------------- |
| id         | string | Give the uploadApi an ID, allows you to bind to its result. e.g. ${apiId.body...}          |
| uploadApi  | string | Enter the name of your defined API                                                         |
| onComplete | action | Execute another Action upon successful upload of files                                     |
| onError    | action | Execute an Action when uploader fails with error(s)                                        |
| inputs     | array  | Define the list of input names that upload API accepts                                     |
| fieldName  | string | Field name that your server is expecting (default files)                                   |
| files      | string | Binded files from sources like camera or picker. e.g ${filePicker.files}, ${camerId.files} |
| options    | object | [see properties](#propertiesoptions)                                                       |

#### properties.option

| Property               | Type    | Description                                                                                                             |
| :--------------------- | :------ | :---------------------------------------------------------------------------------------------------------------------- |
| maxFileSize            | integer | File size that is allowed (default 100 mb), If multiple is allow then sum of all files                                  |
| overMaxFileSizeMessage | string  | Error message to show when selected files size is above maxFileSize.                                                    |
| backgroundTask         | boolean | If set true, uploading will be done in background.                                                                      |
| showNotification       | boolean | If set true, progress will be show in notification bar.                                                                 |
| networkType            | object  | An enumeration of network types. `connected` `metered` `not_required` `not_roaming` `unmetered` `temporarily_unmetered` |

**Example**



```yaml
View:
  # Optional - style the screen
  styles:
    scrollableView: true

  # Optional - set the header for the screen
  header:
    title: "Action: uploadFiles"

  # Specify the body of the screen
  body:
    Column:
      styles: { gap: 16, padding: 24 }
      children:
        - Markdown:
            text: |
              Use the `uploadFiles`  action  upload files to specify `uploadApi`. 

              Then use the `onComplete`  properties to execute other actions when upload is successful.

        - Button:
            label: Pick Files
            onTap:
              pickFiles:
                id: picker

        - Button:
            label: Upload Picked files
            onTap:
              executeCode:
                body: |
                  //@code
                  loading.visible = true;

                onComplete:
                  uploadFiles:
                    id: fileUploader
                    files: ${picker.files}
                    uploadApi: fileUploadApi
                    inputs:
                      url: https://en09cdal5asztm.x.pipedream.net
                    onComplete: |
                      //@code
                      loading.visible = false;
                    onError: |
                      //@code

                      loading.visible = false;
                    maxFileSize: 100
                    overMaxFileSizeMessage: Please select files less than 100kb

        - Markdown:
            text: ${fileUploader.body}

        - Progress:
            display: circular
            id: loading
            visible: false

        - Divider

        - Markdown:
            text: |
              Chain multiple file actions to pick files and upload them in one go
              - Using `pickFiles` to pick file based on platform picker
              - Using `uploadFiles` to upload selected files from file picker

        - Button:
            label: Pick & Upload
            onTap:
              pickFiles:
                id: filePicker
                onComplete:
                  uploadFiles:
                    files: ${filePicker.files}
                    uploadApi: fileUploadApi
                    inputs:
                      url: https://en09cdal5asztm.x.pipedream.net
                    onComplete: |
                      //@code
                      ensemble.debug('File uploaded');

        - Divider:

        - Markdown:
            text: |
              `pickFiles`  also comes with option such as:

                - `allowMultiple` : To allow muliple file selection from gallery picker default (false)
                - `allowCompression` : It will allow media to apply the default OS compression (default True)
                - `allowedExtensions` : To filter file picking based on extensions like jpg, png, pdf...

              `uploadFiles`  also comes with option such as:

                - `files` : Pass the files that needs to upload e.g ${filePicker.files}

                - `fieldName` : Field name that your server is expecting. (default files).

                - `maxFileSize`: File size that is allowed in kb (default 100 mb), If multiple is allow then sum of all files
                - `overMaxFileSizeMessage`: Error message to show when selected files size is above maxFileSize.

        - Row:
            styles: { mainAxis: spaceBetween, crossAxis: center }
            children:
              - Button:
                  label: Multiple Images
                  onTap:
                    pickFiles:
                      id: images
                      allowMultiple: true
                      allowCompression: false
                      allowedExtensions:
                        - jpg
                        - png

              - Text:
                  text: ${images.files.length}
        - Button:
            label: Upload Multiple images
            onTap:
              uploadFiles:
                id: imageUploader
                uploadApi: fileUploadApi
                files: ${images.files}
                fieldName: files
                inputs:
                  url: https://en09cdal5asztm.x.pipedream.net
                maxFileSize: 100 # in kb
                overMaxFileSizeMessage: Please select files less than 100kb

        - Markdown:
            text: ${imageUploader.body}
        - Divider

        - Markdown:
            text: |
              ### Background file upload
              - Pick and Upload files in background.
              - In unmetered connection (wifi/lan)
              - Also show notification
              - *Not supported on web / studio.

        - Button:
            label: Background upload
            onTap:
              pickFiles:
                id: bgFilePicker
                onComplete:
                  uploadFiles:
                    uploadApi: fileUploadApi
                    files: ${bgFilePicker.files}
                    inputs:
                      url: https://en09cdal5asztm.x.pipedream.net
                    id: bgUploader
                    options:
                      backgroundTask: true
                      showNotification: true
                      networkType: unmetered

        - Divider:

        - Markdown:
            text: |
              _Side Note: If you are using default uploadURL it's using RequestBin_

              _RequestBin has maxFileSize of __100 kb__ above it will fail._

              _You can see you API request [here](https://requestbin.com/r/en09cdal5asztm/2Lzx3lZ071EFF9dFKZCXJTnkJHS)_

        - Divider:

API:
  fileUploadApi:
    inputs:
      - url
    uri: ${url}
    method: POST
```



complete example [here](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/mvFbwP5K5yvAqTlncTga?propertyPanelEnabled=true&instantPreviewDisabled=false&editorV2Enabled=true)

---

# Formatter

Ensemble provide convenience formatter utilities for handling date/time and common tasks.

Access these formatters with prefix `ensemble.formatter.*`.

### prettyDate()
Accepts an ISO date-time string and output the most common user-friendly format based on the user's detected locale.
- `ISO string`: the string to convert to a user-friendly date string. 

```yaml
Text:
  # output "Dec 2, 2022" or "2 Dec 2022" depending on detected locale.
  text: ${ensemble.formatter.prettyDate("2022-12-02T14:20:05-0700")}

Button:
  onTap: |-
    // same output in Javascript.
    console.log(ensemble.formatter.prettyDate("2022-12-02"));
```
For a more complete Date operations, see [Date](../javascript-reference/Date.md)

### prettyTime()
Accepts an ISO date-time string and outputs the most common user-friendly time format based on the user's detected locale.
- ISO string: The string to convert to a user-friendly time string.

```yaml
Text:
  # output "2:20 PM" or "14:20" depending on detected locale.
  text: ${ensemble.formatter.prettyTime("2022-12-02T14:20:05-0700")}
```

### prettyDateTime()
Accepts an ISO date-time string and outputs the most common user-friendly date and time format based on the user's detected locale.
- ISO string: The string to convert to a user-friendly date and time string.

```yaml
Text:
  # output "Dec 2, 2022, 2:20 PM" or "2 Dec 2022, 14:20" depending on detected locale.
  text: ${ensemble.formatter.prettyDateTime("2022-12-02T14:20:05-0700")}
```

### customDateTime()
Accepts an ISO date-time string and a pattern that, then outputs the date and time formatted according to the provided pattern (user locale will be ignored).
- ISO string: The string to convert to a formatted date and time string.
- Pattern: The pattern to use for formatting the date and time string.

```yaml
Text:
  # output 2022-12-02 14:20" for all locales
  text: ${ensemble.formatter.customDateTime('2022-12-02T14:20:05-0700', 'yyyy-MM-dd HH:mm')}
```

---


# Device

Ensemble provides convenient access to device information and capabilities. This includes device information, such as the device model, operating system, and screen size.

Access these properties/methods with the prefix `ensemble.device.*`.

---

# checkPermission

`checkPermission` is designed to check the permission status. It includes components for checking notification, location, contacts, and camera permissions.

**Inputs**
`type`: applicable types are `notification`, `location`, `contacts`, and `camera`.

**Callbacks**
1. `onAuthorized`: Executes when the components permission to authorized. Updates the text of the component to "Authorized."

2. `onDenied`: Executes when the components permission to denied. Updates the text of the component to "Denied."

3. `onNotDetermined`: Executes when the components permission to not determined. Updates the text of the component to "Not Determined."

```yaml
- Button:
    label: Notification Permission
    onTap:
        checkPermission:
        type: notification
        onAuthorized: |
            //@code
            notificationStatus.text = "Authorized";
            console.log("onAuthorized called");
        onDenied: |
            //@code
            notificationStatus.text = "Denied"
            console.log("onDenied called");
        onNotDetermined: |
            //@code
            notificationStatus.text = "Not Determined"
            console.log("onNotDetermined called");
```
When a user taps the "Notification Permission" button, the app checks the notification permission status. Depending on the status, one of the specified callbacks (onAuthorized, onDenied, or onNotDetermined) is executed. 

---

# getLocation

getLocation action enables users to retrieve their device's current location, facilitating location-based functionalities within the app, such as mapping, navigation, or personalized content delivery, enhancing user experience and context-aware interactions. It requests user's permission to get his/her current location

### Module (ensemble_location)
Enable Location service in Ensemble code

By default, Ensemble does not include the location module to avoid installing unnecessary packages. Here, we uncomment a few lines of code to get the necessary packages.

Inside the directory where you cloned Ensemble Starter, open `/lib/generated/ensemble_modules.dart`.

* Search for this line and uncomment it:
```
// import 'package:ensemble_location/location_manager.dart';
```

* Search for this line and uncomment it:
```
      // GetIt.I.registerSingleton<LocationManager>(LocationManagerImpl());
```

* Search for this line and set it to true
```
  static const useLocation = false;
```

---

### Properties

| Property           | Type   | Description                                                                                           |
| :----------------- | :----- | :---------------------------------------------------------------------------------------------------- |
| options            | object | [see properties](#propertiesoptions)                                                                  |
| onLocationReceived | action | Callback Action once we get the device location                                                       |
| onError            | action | Callback Action if we are unable to get the device location. Reason is available under 'reason' field |

#### properties.options

| Property                | Type    | Description                                                                                                                                                                                                  |
| :---------------------- | :------ | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| recurring               | boolean | Whether to continuously get the device location on this screen. Note that a screen can only have one recurring location listener. Adding multiple recurring location listeners will cancel the previous one. |
| recurringDistanceFilter | integer | If recurring, the minimum distance (in meters) the device has moved before new location is returned. (default: 1000 meters, minimum: 50 meters)                                                              |

**Example**



```yaml
View:
  # Optional - style the screen
  styles:
    scrollableView: true

  # Optional - set the header for the screen
  header:
    title: "Action: getLocation"

  # Specify the body of the screen
  body:
    Column:
      styles:
        padding: 24
        gap: 8
      children:
        - Text:
            text: Get location via Action
            styles:
              font: subtitle
        - Markdown:
            text: Use `getLocation` Action to get the location, with the option to continuously get location change updates.
        - Button:
            label: Listen for location changes
            onTap:
              getLocation:
                options:
                  recurring: true # while on this page, location changes will continue to execute onLocationReceived
                  recurringDistanceFilter: 50 # only dispatch if the new location is more than 50 meters away from the previous location
                onLocationReceived: |-
                  //@code
                  status.text = 'Lat: ' + latitude + ', Lng: ' + longitude;
                onError: |-
                  //@code
                  status.text = reason;
        - Text:
            id: status
```



complete example [here](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/uH9b2ZnmSS3HT7BsECu4?propertyPanelEnabled=true&instantPreviewDisabled=false&editorV2Enabled=true)

---

# getPhoneContacts

The `PhoneContacts` view is designed to retrieve and display phone contacts from Android and iOS physical devices or simulators. It includes a warning note, a button to fetch contacts, and a list view to display individual contact details.

```yaml
- Button:
    label: Get Phone Contacts
    onTap:
      getPhoneContacts:
        id: phoneContactId
        onSuccess: |
          // ***code
          console.log("Phone Number Fetched Successfully");
          ensemble.storage.set('contacts', event.data['contacts']);

        onError: |
          // ***code
          console.log("Something went wrong!");
```
The `onSuccess` and `onError` callbacks for the "Get Phone Contacts" button. In the success callback (onSuccess), the retrieved contacts are logged to the console and stored in the `ensemble.storage.contacts`. In the error callback (onError), a message is logged indicating an issue.

```yaml
- ListView:
    id: listView
    styles:
      expanded: true
    item-template:
      data: ${ensemble.storage.contacts}
      name: contact
      template:
        UserContact:
          inputs:
            contact: ${contact}
```
The `ListView` component displaying a list of contacts (ensemble.storage.contacts). It uses the `UserContact` custom widget template for each item in the list.

```yaml
UserContact:
  inputs:
    - contact
  styles: { gap: 10 }
  onLoad:
    getPhoneContactPhoto:
      id: contactPhotoId
      contactId: ${contact.id}

    # Using JS Code

    # //@code
    # ensemble.getPhoneContactPhoto({
    #    id: "contactPhotoId",
    #   contactId: contact.id
    # });

  body:
    Column:
      styles: { gap: 2 }
      children:
        - Row:
            children:
              - Image:
                  source: ${contactPhotoId.image}
                  width: 100
                  height: 100
                  fallback: ImageFallbackWidget
              - Column:
                  styles: { gap: 2, margin: 10 }
                  children:
                    - Text:
                        textStyle: { fontWeight: bold, fontSize: 18 }
                        text: "${contact.displayName}"
                    - Text:
                        textStyle: { fontWeight: bold, fontSize: 18 }
                        text: "${getPhoneNumber(contact.phones)}"
                    - Shape:
                        styles:
                          height: 10
        - Divider:
```
The `UserContact` component representing the structure for displaying an individual contact. It includes an `Image` and two `Text` components for displaying the contact's display image, name and phone number. The `getPhoneContactPhoto` action is used to get the contact photo with the contactId.

```yaml
Global: |
  //@code

  if (ensemble.storage.contacts == null) {
    ensemble.storage.contacts = [];
  }

  function getPhoneNumber(phones) {
    if (phones.length > 0) {
      return phones[0].number;
    } else {
      return "";
    }
  }
```
The global code block initializes `ensemble.storage.contacts` as an empty array if it's null. It also includes the `getPhoneNumber` function, which extracts the primary phone number from an array of phone numbers.

---

# invokeAPI

To check out examples of the invokeAPI action, go to the [Ensemble Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/e546b0d8-3220-4217-bd5c-181118154073).

## API response object 
Both the `onResponse` and `onError` actions provide reference to the API response object. The `response` object has the following propertuies available to you.

| Property   | Type   | Description                                                                |
| :--------- | :----- | :------------------------------------------------------------------------- |
| statusCode         | number | Http status code. See details [here](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status) |
| body       | String | the actual body of the response. This is where you are mostly interested in. JSON responses are automatically parsed and made available. Other content-types are available as strings.                               |
| headers     | array | Key value pairs of http response headers                  |
| reasonPhrase | String | Phrase that describes the statusCode. Http response statusCode is a 3 digit number and reasonPhrase describes that number. For example - reasonPhrase for statusCode between 200 and 299 (inclusive) is Successful. More [here](https://www.ibm.com/docs/en/cics-ts/5.5?topic=concepts-status-codes-reason-phrases)                                         |

## API/invokeAPI properties
| Property   | Type   | Description                                                                |
| :--------- | :----- | :------------------------------------------------------------------------- |
| id         | String | Give the API an ID allows you to bind to its result. e.g. ${apiId.body...} |
| name       | String | Name of the API defined in the API section                                 |
| inputs     | Object | Key value pairs ofinputs to be passed to API definition                    |
| onResponse | Action | The action to handle the response. This action can access the `response` object. For example - `response.body` or event overwrite the body as `response.body = myJsonObject;`                                          |
| onError    | Action | The action to handle errors. Just like onResponse, you have the `response` object available here so you can check `response.statusCode` to see what error was sent by the server and then use `response.body` to access the error response                                                |

**invokeAPI** is used for calling an API. You can call an API on events such as a button tap or on screen load. First, you have to declare an API:

```yaml
API:
  getPeople:
    uri: https://randomuser.me/api/?results=8
    method: GET
```

### Usage examples of InvokeAPI

Now to call the API on screen load, use the `onLoad` property of the view, there are two ways to call invokeAPI as well

##### 1. Using ensemble invokeAPI action.



````yaml
View:
  onLoad:
    invokeAPI:
      name: getPeople
  body:
    Column:
      styles: { gap: 16, padding: 24 }
      children:
        - Text:
            text: ${getPeople.body.results.length} records were retrieved from API
        - Markdown:
            text: |
              Here's the API response body:
              ```
              ${getPeople.body}
              ```

API:
  getPeople:
    uri: https://randomuser.me/api/?results=8
    method: GET
````



##### 2. Using JavaScript code block to execute invokeAPI action.



````yaml
View:
  onLoad: |
    //@code
    ensemble.invokeAPI("getPeople");
  body:
    Column:
      styles: { gap: 16, padding: 24 }
      children:
        - Text:
            text: ${getPeople.body.results.length} records were retrieved from API
        - Markdown:
            text: |
              Here's the API response body:
              ```
              ${getPeople.body}
              ```

API:
  getPeople:
    uri: https://randomuser.me/api/?results=8
    method: GET
````



- **Its similar to previous only that we are now using Javascript code block**.

To call an API on button tap, inside the body add a Button with `onTap` property:



```yaml
View:
  body:
    Column:
      styles: { gap: 16, padding: 24 }
      children:
        - Button:
            label: Call API
            onTap:
              invokeAPI:
                name: getPeople
        - Column:
            item-template:
              data: ${getPeople.body.results}
              name: item
              template:
                Text:
                  text: ${item.name.first}

API:
  getPeople:
    uri: https://randomuser.me/api/?results=8
    method: GET
```



## POST calls with input parameters

You can also create a POST request and pass parameters to the API like this



```yaml
View:
  body:
    Column:
      styles: { gap: 16, padding: 24 }
      children:
        - Button:
            label: Call API
            onTap:
              invokeAPI:
                name: createToDo
                inputs:
                  name: "some value"
                onResponse: |
                  //@code
                  var id = response.body.records[0].id;
                  postStatus.text = 'Record created: ' + id;
        - Text:
            id: postStatus

API:
  createToDo:
    inputs:
      - name
    uri: "https://api.airtable.com/v0/appDbkGS4VOiPVQR5/ToDo?api_key=keyyWz426zsnMKavb"
    method: "POST"
    body:
      records:
        - fields:
            desc: "${name}"
```



## Handing errors

To handle Errors, you can use the `onError` property:



```yaml
        - Text:
            text: Handle error
        - Button:
            label: Call API 
            onTap:
              invokeAPI:
                name: createToDoError
                onResponse: |
                  //@code
                  apiStatus.text = 'Call was successful';
                  //you have the response object available here so you access its properties. See top of the page for response object
                  console.log(response.body);//this will print out the full body of the response object. See above for all the properties of a response object
                onError: |
                  //@code
                  apiStatus.text = 'API returned an error';
                  //you have the response object available here so you access its properties. See top of the page for response object
                  console.log(response.statusCode);//this will print out the http status code of the response object. See above for all the properties of a response object
        - Text:
            id: apiStatus

API:
  createToDoError:
    inputs:
      - name
    uri: 'https://api.airtable.com/v0/appDbkGS4VOiPVQR5/ToDo?api_key=keyyWz426zsnMKavb'
    method: 'POST'
    body:
      records: "this is not what the API expects"
```



## Use in code

You can also call an API in code block.



```yaml
        - Button:
            label: Call API
            onTap:
              executeCode:
                body: |
                  //@code

                  // no inputs
                  ensemble.invokeAPI("getNewYorkTime");
        - Text:
            visible: ${getNewYorkTime.body != null}
            text: Current time in NYC is ${getNewYorkTime.body.datetime}

API:
  getNewYorkTime:
    uri: https://worldtimeapi.org/api/timezone/America/New_York
    method: GET
```



## Properties for invokeAPI

| Property   | Type   | Description                                                                |
| :--------- | :----- | :------------------------------------------------------------------------- |
| id         | String | Give the API an ID allows you to bind to its result. e.g. ${apiId.body...} |
| name       | String | Name of the API defined in the API section                                 |
| inputs     | Object | Key value pairs ofinputs to be passed to API definition                    |
| onResponse | Action | The action to handle the response                                          |
| onError    | Action | The action to handle errors                                                |

Details about API [here](/build/user-interface/1-page-structure)

---

# invokeHaptic

invokeHaptic action allows users to play haptics on the device allowing better UX. It supports 5 haptics namely heavyImpact, mediumImpact, lightImpact, selectionClick, and vibrate. They are listed in decreasing order of intensity
and vibrate does a short vibrate pulse. It also supports playing haptic by JavaScript code and also has additional parameters like onTapHaptic or onChangeHaptic added to multiple widgets where haptic would be required.

### Properties

| Property  | Type   | Description                                              |
| :-------- | :----- | :------------------------------------------------------- |
| type      | enum   | The type of haptic to perform. It should be one of heavyImpact, mediumImpact, lightImpact, selectionClick, and vibrate |
| onComplete| action | Execute another Action post executing the haptic |

**Example**



```yaml
View:
  header:
    title: Haptic
  Column:
    styles: { gap: 16, padding: 24 }
    children:
      - Button:
          label: Using Action
          onTap:
            invokeHaptic:
              type: lightImpact
              onComplete: |
                //@code
                console.log("Haptic completed")
      - Button:
          label: Using JavaScript
          onTap: |
            //@code
            invokeHaptic({type: lightImpact})
      - Button:
          label: Using methods
          onTapHaptic: lightImpact
          onTap: |
            //@code
            console.log("Button Press")
```

---

# navigateBack

`navigateBack` action allows users to go back to the previous screen or page within the app's navigation stack, enhancing user experience and facilitating smooth app navigation. Navigating back to the previous screen if possible. The current screen will be removed from the navigation history. This also works for a modal screen.

**Example**

Using navigateBack is straight forward. In ensemble when you visit a screen using [navigateScreen]() by default there is a back button in the header ( if there is a header ). Otherwise you can also associate navigateBack action with either a custom button or icon as you wish.



```yaml
View:
  title: "Action: navigateBack"
  styles:
    scrollableView: true

  Column:
    styles: { gap: 16, padding: 24 }
    children:
      - Markdown:
          text: You can open a new screen above the current one and use "navigateScreen" to navigate back to this main screen.
      - Button:
          label: Show Detail Page
          onTap:
            navigateModalScreen:
              name: "Action: navigateBackModal"
```



can see complete example [here](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/XjvL2XseLnRvYO4FS82e?propertyPanelEnabled=true&instantPreviewDisabled=false&editorV2Enabled=true)

---

# navigateModalScreen

navigateModalScreen action enables users to open a specific screen or page as a modal overlay, creating a temporary and focused view to capture user input or display additional content without losing context of the main app flow.

### Properties

| Property       | Type   | Description                                              |
| :------------- | :----- | :------------------------------------------------------- |
| name           | string | Enter the Name or ID of your screen                      |
| inputs         | object | Specify the key/value pairs to pass into the next Screen |
| onModalDismiss | action | Execute an Action when the modal screen is dismissed     |

**Note:** To close the modal from within the modal screen, just call the [navigateBack](7-navigateBack.md) action

**Example**



```yaml
View:
  title: "Action: navigateModalScreen"
  styles:
    scrollableView: true

  body:
    Column:
      styles: { gap: 16, padding: 24 }
      children:
        - Markdown:
            text: You can open new screen on above the main screen using action `navigateModalScreen`
        - Button:
            label: Show Modal
            onTap:
              navigateModalScreen:
                name: Actions & events
        - Markdown:
            text: You can navigateModalScreen from code blocks using `ensemble.navigateModalScreen('ScreenName');`.
        - Button:
            label: Show Modal Using Code
            onTap:
              executeCode:
                body: |
                  //@code

                  // no inputs
                  ensemble.navigateModalScreen('Actions & events');
                  //with inputs
                  //ensemble.navigateModalScreen({name: 'Actions & events',inputs:{input1: 'abc', input2: 'ced'}} );
```



You can try complete example [here](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/67ICgJIX0McKswXCybb0?propertyPanelEnabled=true&instantPreviewDisabled=false&editorV2Enabled=true)

---

# navigateScreen

navigateScreen action allows users to transition to a specific screen or page within the app, facilitating seamless navigation and enhancing user interaction with different sections of the application.

Like any other action, navigateScreen may be called in YAML or in the JS code. 

### Properties

| Property       | Type   | Description                                                                             |
| :------------- | :----- | :-------------------------------------------------------------------------------------- |
| name           | string | Enter the Name or ID of your Screen                                                     |
| inputs         | object | Specify the key/value pairs to pass into the next Screen                                |
| options        | object | [see properties]()                                                                      |
| onNavigateBack | action | triggers when users returns back to a screen it previously visited using navigateScreen |
| transition | Map | [Screen transition](#screen-transition) , [Screen transition example](#screen-transition-example)

#### Screen Transition
Animate screen transition from one to another.

| Property       | Type   | Description |
| :--- | :--- | :---|
| type | string | [transition type](#transition-type)
| alignment | string | [transition alignment](#transition-alignment)
| duration | integer| duration of transition in millisecond 

#### transition-type
| name |
| :--- |
|fade |
|rightToLeft |
|leftToRight |
|topToBottom |
|bottomToTop |
|scale |
|rotate |
|size |
|rightToLeftWithFade |
|leftToRightWithFade |
|leftToRightPop |
|rightToLeftPop |
|topToBottomPop |
|bottomToTopPop |

#### transition-alignment
|name|
|:---|
|topLeft|
|topCenter|
|topRight|
|centerLeft|
|center|
|centerRight|
|bottomLeft|
|bottomCenter|
|bottomRight|

#### properties.options

| Property             | Type    | Description                                                                                                                                                                                   |
| :------------------- | :------ | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| replaceCurrentScreen | boolean | If true, the new screen will replace the current screen on the navigation history. Navigating back from the new screen will skip the current screen.                                          |
| clearAllScreens      | boolean | If true, clear out all existing screens in the navigation history. This is useful when navigating to a Logout or similar page where users should not be able to go back to the prior screens. |

**Example: Calling navigateScreen - Detailed Examples for YAML and JS**



```yaml
View:
  title: "Action: navigateScreen"
  styles:
    scrollableView: true

  Column:
    styles: { gap: 16, padding: 24 }
    children:
      - Markdown:
          text: You can navigate to another screen using action `navigateScreen`
      - Button:
          label: Navigate to Home
          onTap:
            navigateScreen:
              name: Home

      - Markdown:
          text: You can navigateScreen from code blocks using `ensemble.navigateScreen('ScreenName');`.
      - Button:
          label: Navigate to Home using code
          onTap:
            executeCode:
              body: |
                //@code
                ensemble.navigateScreen('Home');

      - Divider

      - Markdown:
          text: |
            #### Pass inputs
            You have the option of passing inputs to the target screen.

      - TextInput:
          id: messageInput
          label: Message to pass
          value: Hello there

      - Button:
          label: Navigate and pass inputs
          onTap:
            navigateScreen:
              name: "Action: navigateScreen inputs demo"
              inputs:
                message: ${messageInput.value}

      - Button:
          label: Navigate and pass inputs using code
          onTap:
            executeCode:
              body: |
                //@code
                ensemble.navigateScreen({
                  "name": "Action: navigateScreen inputs demo",
                  "inputs":  { 
                    "message": messageInput.value
                  }
                });

      - Divider

      - Markdown:
          text: |
            #### options: clearAllScreens
            By default, Ensemble retains your previous screens. On browser, user can press back button and get the previous view. 

            When you need to remove all the previous screens from the history stack, as in a logout scenario, use `clearAllScreens: true`.

      - Button:
          label: Navigate and clear all screen history
          onTap:
            navigateScreen:
              name: Home
              options:
                clearAllScreens: true

      - Divider

      - Markdown:
          text: |
            #### options: replaceCurrentScreen
            Sometimes when navigating to a new screen, you may not want the user to go back to the current screen. An example is after logging in, hitting back should not take the user back to the login screen. Use the flag `replaceCurrentScreen: true` to remove the current screen from the history stack.

      - Button:
          label: Navigate to new screen and replace the current screen
          onTap:
            navigateScreen:
              name: Home
              options:
                replaceCurrentScreen: true
```

  

You can try complete example [here](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/kgGUzKx0YiIWp96auaEO?propertyPanelEnabled=true&instantPreviewDisabled=false&editorV2Enabled=true)

**Example: Calling navigateScreen in Javascript**

```javascript
//navigating to a screen without any options
ensemble.navigateScreen('My Screen');
//navigating to a screen with options
ensemble.navigateScreen({name: 'My Screen',options: {replaceCurrentScreen: true}}
```

### onNavigateBack

We can also make use of onNavigateBack in our navigateScreen action to achieve certain goals like calling an API when returning to screen, updating something which was modified on visited screen etc.

**Example**
Below is only a snippet from a use case where we can perform any action inside the onNavigateBack event. We can call an API or update any particular parameter we want

```yaml
navigateScreen:
  name: "${booking.completion_status == 'confirmed' ? 'ConfirmedTrip' : 'ConfirmTripRequest'}"
  inputs:
    booking: ${booking}
  onNavigateBack: |-
    ensemble.debug("got back")
```

Another example where using in context of a button we are updating certain local storage items inside the context of the onNavigateBack

```yaml
- Button:
    label: Categories
    styles:
      outline: true
      padding: 0
    labelStyle:
      fontSize: 12
      color: 4288060321
    endingIcon:
      name: chevron_right
      color: 4288060321
      size: 16
    onTap: null
    navigateScreen:
      name: Spending
      onNavigateBack: |-
        //@code
        getCategoriesAggregate(ensemble.storage.timeSpan);

```

Note: here we are chaining actions onTap -> navigateScreen -> onNavigateBack etc. Also getCategories(...) is a function used to update certain local storage items.

- We can also pass data from the visited screen to current screen using navigateBack action. let see an example for that as well.

```yaml
View:
  header:
    title: Home
  body:
    Button:
      label: Checkout Ensemble Kitchen Sink
      onTap:
        navigateBack:
          data: #  optional, can be simple or complex
            var1: 1
            var2: "s t r i n g"
```

on visited screen using navigateBack we pass certain variables which can be accessed on previous screen using onNavigateBack event.

```yaml
View:
  header:
    title: Home
  body:
    Button:
      label: Checkout Ensemble Kitchen Sink
      onTap:
        navigateScreen:
          name: nextScreen
          onNavigateBack: |-
            //@code
            console.log("navigated back to main screen");
            console.log(event.data);
```

#### Screen Transition Example

```yaml
View:
  header:
    title: Screen Transition

  body:
    Button:
      label: Navigate transition
      onTap:
        navigateScreen:
          name: <write-your-screen-name-here>
          transition: 
            type: rotate
            duration: 1000
            alignment: center
```

---

# notification

notifications action provides a comprehensive and customizable solution for managing notifications within the app, including handling incoming notifications, displaying them to users, and implementing notification-related functionalities, enhancing user experience and interaction with timely updates and alerts.

### Properties

| Property  | Type   | Description                                   |
| :-------- | :----- | :-------------------------------------------- |
| onTap     | action | Execute an Action on notification is tap.     |
| onReceive | action | Execute an Action on notification is receive. |

---

# openCamera

`OpenCamera` action enables users to access their device's camera, capturing images or videos directly from the app, enhancing interactivity and enabling seamless integration of media functionalities within the application. With `id` property we can bind results of camera. Then use the `onComplete` properties to execute other actions after capture or selection is done.

### Properties

| Property   | Type   | Description                                                                        |
| :--------- | :----- | :--------------------------------------------------------------------------------- |
| id         | string | Give the camera an ID, allows you to bind to its result. e.g. ${cameraId.files...} |
| onComplete | action | Execute an Action after completing capturing media                                 |
| onClose    | action | Execute an Action on camera close                                                  |
| onCapture  | action | Execute an Action on each capture                                                  |
| options    | object | different options to chose for `openCamera` action. [see properties](#)            |

#### properties.options

| Property                | Type    | Description                                                                                                                    |
| :---------------------- | :------ | :----------------------------------------------------------------------------------------------------------------------------- |
| mode                    | string  | Modes of camera. It can be photo only i.e allows to capture just photo. Similarly video or can be both. `photo` `video` `both` |
| initialCamera           | string  | Initialize either camera, back or front. `back` `front`                                                                        |
| allowGalleryPicker      | boolean | Allow users to pick media from gallery. Default (true).                                                                        |
| allowCameraRotate       | boolean | Allow users rotate camera i.e back and front. Default (true).                                                                  |
| allowFlashControl       | boolean | Allow users to control flash options. Default (true).                                                                          |
| preview                 | boolean | If set true, users can view captured/selected media.                                                                           |
| maxCount                | number  | It used to control number of media that can be captured/selected                                                               |
| maxCountMessage         | string  | Custom message to show when captured/selected media is greater than maxCount                                                   |
| minCount                | number  | It used to control number of media that can be captured/selected                                                               |
| minCountMessage         | string  | Custom message to show when captured/selected media is greater than minCount                                                   |
| permissionDeniedMessage | string  | Set custom message when access to camera is denied                                                                             |
| nextButtonLabel         | string  | Set custom label on next button.                                                                                               |
| cameraRotateIcon        | widget  | Set custom icon for camera rotate button. [see here](/widgets/Icon)                                                   |
| galleryPickerIcon       | widget  | Set custom icon for gallery picker button. [see here](/widgets/Icon)                                                  |
| focusIcon               | widget  | Set custom icon for focus node.                                                                                                |
| assistAngle             | object  | Show assist message whenever angle goes below minAngle or above minAngle. [see properties](#values-for-optionsassistangle)     |
| assistSpeed             | object  | Show assist message whenever camera is moving faster than maxSpeed. [see properties](#values-for-optionsassistspeed)           |
| autoCaptureInterval     | integer | If set any number n, on each n interval camera will capture                                                                    |

##### Values for options.assistAngle

| Property                   | Type   | Description                                   |
| :------------------------- | :----- | :-------------------------------------------- |
| minAngle                   | number | Minimum angle                                 |
| maxAngle                   | number | Maximum Angle                                 |
| maxAngleassistAngleMessage | number | Custom message to show when condition is hit. |

##### Values for options.assistSpeed

| Property           | Type   | Description                                   |
| :----------------- | :----- | :-------------------------------------------- |
| maxSpeed           | number | Maximum speed in km/hr.                       |
| assistSpeedMessage | number | Custom message to show when condition is hit. |

**Usage Examples**



```yaml
View:
  header:
    title: "Action: openCamera"
  styles:
    scrollableView: true
  body:
    Column:
      styles: { gap: 16, padding: 24 }
      children:
        - Button:
            label: Open Camera
            onTap:
              openCamera:
                id: cameraId

                options:
                  mode: photo

        - Conditional:
            conditions:
              - if: ${cameraId.files.length > 0}
                Carousel:
                  item-template:
                    data: ${cameraId.files}
                    name: file
                    template:
                      Image:
                        source: ${file.path}
```



`openCamera` also comes with options



```yaml
- Button:
    label: Camera with options
    onTap:
      openCamera:
        id: cameraId1
        options:
          allowGalleryPicker: true
          allowCameraRotate: true
          allowFlashControl: true
          preview: true
          maxCount: 2
          mode: photo

- Conditional:
    conditions:
      - if: ${cameraId1.files.length > 0}
        Carousel:
          item-template:
            data: ${cameraId1.files}
            name: file
            template:
              Image:
                source: ${file.path}
```



`openCamera` also comes with advance options

- assistAngle, show message when phone angle goes below min angle or goes beyond max angle.
- assistSpeed, show message when phone goes beyond max speed.
- minCount/maxCount, type is a number and can also be set to `minCount: ${ensemble.storage.xyz}` to get a dynamic value



```yaml
- Button:
    label: Camera with advance options.
    onTap:
      openCamera:
        options:
          allowGalleryPicker: true
          allowCameraRotate: true
          allowFlashControl: true
          preview: true

          assistAngle:
            minAngle: 80
            maxAngle: 100
            assistAngleMessage: Please try to keep angle approx. 90 degree.

          assistSpeed:
            maxSpeed: 10
            assistSpeedMessage: Please try to speed below 10 km/hr.
```



You can capture and upload to specified API



```yaml
        - Button:
            label: Capture and upload
            onTap:
              openCamera:
                id: captureMedia
                onComplete:
                  uploadFiles:
                    id: uploader
                    files: ${captureMedia.files}
                    uploadApi: fileUploadApi
                    fieldName: files
                    inputs:
                      url: <specify your url>


        - Markdown:
            text: ${uploader.body}

API:
  fileUploadApi:
    inputs:
      - url
    uri: ${url}
    method: POST
```



To learn more about openCamera functionalities, test it out here in [Ensemble Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/USuOaOZApSgzE2uVrqlv) app.

---

# pickFiles

pickFiles action enables users to select files from their device for further processing or usage within the app, offering a seamless way to choose and work with files, enhancing user interactions and content management capabilities.

### Properties

| Property          | Type    | Description                                                                                                      |
| :---------------- | :------ | :--------------------------------------------------------------------------------------------------------------- |
| id                | string  | Give the picker an ID allows you to bind to its result, which can be access anywhere e.g. ${filePicker.files...} |
| allowMultiple     | boolean | Allow users to pick multiple files (default False)                                                               |
| allowCompression  | boolean | It will allow media to apply the default OS compression (default True)                                           |
| allowedExtensions | array   | Allow files with specific extension e.g jpg, png, pdf                                                            |


### Ensemble File object
The files picked using `pickFiles` or created using camera using `openCamera` all shared the same following object.


| Property | Type | Description | 
|:---|:---|:---|
| name | string | name of the file, could be null |
| size | integer | size of file in bytes, could be null |
| ext | string | extension of the file, could be null |
| path | string | file path, null on web, available in native mobile app |
| bytes | dynamic | if path is null i.e for web, we'll have bytes of files |

> [NOTE]  
> Path will be null when you are developing in the web studio. You'll have the path in your native mobile build or ensemble preview / go app.


**Example**



```yaml
View:
  # Optional - style the screen
  styles:
    scrollableView: true

  # Specify the body of the screen
  body:
    Column:
      styles: { gap: 16, padding: 24 }
      children:
        - Markdown:
            text: |
              Use the `uploadFiles`  action  upload files to specify `uploadApi`. 

              Then use the `onComplete`  properties to execute other actions when upload is successful.

        - Button:
            label: Pick Files
            onTap:
              pickFiles:
                id: picker

        - Button:
            label: Upload Picked files
            onTap:
              executeCode:
                body: |
                  //@code
                  loading.visible = true;

                onComplete:
                  uploadFiles:
                    id: fileUploader
                    files: ${picker.files}
                    uploadApi: fileUploadApi
                    inputs:
                      url: https://en09cdal5asztm.x.pipedream.net
                    onComplete: |
                      //@code
                      loading.visible = false;
                    onError: |
                      //@code

                      loading.visible = false;
                    maxFileSize: 100
                    overMaxFileSizeMessage: Please select files less than 100kb

        - Markdown:
            text: ${fileUploader.body}

        - Progress:
            display: circular
            id: loading
            visible: false

        - Divider

        - Markdown:
            text: |
              Chain multiple file actions to pick files and upload them in one go
              - Using `pickFiles` to pick file based on platform picker
              - Using `uploadFiles` to upload selected files from file picker

        - Button:
            label: Pick & Upload
            onTap:
              pickFiles:
                id: filePicker
                onComplete:
                  uploadFiles:
                    files: ${filePicker.files}
                    uploadApi: fileUploadApi
                    inputs:
                      url: https://en09cdal5asztm.x.pipedream.net
                    onComplete: |
                      //@code
                      ensemble.debug('File uploaded');

        - Divider:

        - Markdown:
            text: |
              `pickFiles`  also comes with option such as:

                - `allowMultiple` : To allow muliple file selection from gallery picker default (false)
                - `allowCompression` : It will allow media to apply the default OS compression (default True)
                - `allowedExtensions` : To filter file picking based on extensions like jpg, png, pdf...

              `uploadFiles`  also comes with option such as:

                - `files` : Pass the files that needs to upload e.g ${filePicker.files}

                - `fieldName` : Field name that your server is expecting. (default files).

                - `maxFileSize`: File size that is allowed in kb (default 100 mb), If multiple is allow then sum of all files
                - `overMaxFileSizeMessage`: Error message to show when selected files size is above maxFileSize.

        - Row:
            styles: { mainAxis: spaceBetween, crossAxis: center }
            children:
              - Button:
                  label: Multiple Images
                  onTap:
                    pickFiles:
                      id: images
                      allowMultiple: true
                      allowCompression: false
                      allowedExtensions:
                        - jpg
                        - png

              - Text:
                  text: ${images.files.length}
        - Button:
            label: Upload Multiple images
            onTap:
              uploadFiles:
                id: imageUploader
                uploadApi: fileUploadApi
                files: ${images.files}
                fieldName: files
                inputs:
                  url: https://en09cdal5asztm.x.pipedream.net
                maxFileSize: 100 # in kb
                overMaxFileSizeMessage: Please select files less than 100kb

        - Markdown:
            text: ${imageUploader.body}
        - Divider

        - Markdown:
            text: |
              ### Background file upload
              - Pick and Upload files in background.
              - In unmetered connection (wifi/lan)
              - Also show notification
              - *Not supported on web / studio.

        - Button:
            label: Background upload
            onTap:
              pickFiles:
                id: bgFilePicker
                onComplete:
                  uploadFiles:
                    uploadApi: fileUploadApi
                    files: ${bgFilePicker.files}
                    inputs:
                      url: https://en09cdal5asztm.x.pipedream.net
                    id: bgUploader
                    options:
                      backgroundTask: true
                      showNotification: true
                      networkType: unmetered

        - Divider:

        - Markdown:
            text: |
              _Side Note: If you are using default uploadURL it's using RequestBin_

              _RequestBin has maxFileSize of __100 kb__ above it will fail._

              _You can see you API request [here](https://requestbin.com/r/en09cdal5asztm/2Lzx3lZ071EFF9dFKZCXJTnkJHS)_

        - Divider:

API:
  fileUploadApi:
    inputs:
      - url
    uri: ${url}
    method: POST
```



complete example [here](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/mvFbwP5K5yvAqTlncTga?propertyPanelEnabled=true&instantPreviewDisabled=false&editorV2Enabled=true) including uploadFiles example.

---

# rateApp

The "Rate Us" functionality is available only for iOS devices when the app is in production. 

```yaml
View:
  header:
    title: 'Action: RateApp'

  body:
    Column:
      styles:
        padding: 24
        gap: 8
      children:
        - Text:
            text: Works only for iOS when app is in production (will not work for Ensemble Go while on TestFlight)
        - Button:
            label: Rate Us
            onTap:
              rateApp:
```
The rateApp action is triggered when the "Rate Us" button is tapped. It is to handle the logic for prompting users to rate the app.

---

# requestNotificationAccess

requestNotificationAccess action prompts users to grant permission for the app to send notifications to their device, enabling personalized alerts and updates, enhancing user engagement, and ensuring timely delivery of relevant information within the application.

### Properties

| Property | Type   | Description                                                      |
| :------- | :----- | :--------------------------------------------------------------- |
| onAccept | action | Execute an Action when notification permission has been granted  |
| onReject | action | Execute an Action when notification permission has been rejected |

**Example**

The first important thing to consider while implementing notifications is to make sure that its authorized by user itself. Thus first step is to ensure complete access to ensemble. let us see how it works



```yaml
View:
  header:
  title: "Action: showNotification"

  # Specify the body of the screen
  body:
    Column:
    styles:
      padding: 24
      gap: 8
    children:
      - Text:
          text: Hi there!
      - Button:
          label: Checkout Ensemble Kitchen Sink
          onTap:
          requestNotificationAccess:
            onAccept:
            showNotification:
              title: A Notification
              body: As you can see me working here
```



When user clicks on button browser pop-up asks for permission and as you allow it notification can be seen at bottom-right corner of screen. You can refer complete example [here](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/NiF1zG2VKspdlxNM2F1n?propertyPanelEnabled=true&instantPreviewDisabled=false&editorV2Enabled=true).

**Output**

![Alt text](/public/images/actions/image-.png)

![Alt text](/public/images/actions/image--2.png)

---

# Share

Using the native sharing capabilities of the device to provide users with the ability to share a specific piece of content.

```yaml
  - Button:
      label: Open Share Sheet
      onTap:
        share:
          title: EnsembleUI
          text: https://ensembleui.com/
  - Text:
      text: Works only on Native iOS and Android
```
The share action is triggered when the "Open Share Sheet" button is tapped. It typically opens the native share sheet on the device, allowing users to share content. In this case, it shares a title ("EnsembleUI") and a URL ("https://ensembleui.com/").

---

# showDialog

showDialog action triggers the display of a modal dialog box within the app, presenting users with important information, notifications, or customizable content while pausing the main app flow, ensuring clear and focused communication with users.

### Properties

| Property        | Type   | Description                                                                     |
| :-------------- | :----- | :------------------------------------------------------------------------------ |
| widget          | widget | Return an inline widget or specify a custom widget's name to use in the dialog. |
| options         | object | [see properties](#propertiesoptions)                                            |
| onDialogDismiss | action | Execute an Action when the dialog is dismissed.                                 |

#### properties.options

| Property         | Type    | Description                                                                                                                                                                           |
| :--------------- | :------ | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| minWidth         | integer |                                                                                                                                                                                       |
| maxWidth         | integer |                                                                                                                                                                                       |
| minHeight        | integer |                                                                                                                                                                                       |
| horizontalOffset | number  | Offset the dialog's position horizontally, with -1.0 for the screen's left and 1.0 for the screen's right. (default is 0 for centering horizontally) minimum `-1.0` and maximum `1.0` |
| verticalOffset   | number  | Offset the dialog's position vertically, with -1.0 for the screen's top and 1.0 for the screen's bottom. (default is 0 for centering vertically) minimum `-1.0` and maximum `1.0`     |
| style            | string  | Render the dialog with a default style. You can also specify 'none' and control your own styles in your widget. `default` `none`                                                      |

**Example**

Here we are gonna see how we can



```yaml
View:
  header:
    title: Dialog
  onLoad:
    showDialog:
      widget: MyStartingDialog

  body:
    Column:
      styles: { margin: 10, gap: 5 }
      children:
        # use inline widget
        - Text:
            text: Your dialog can also be an inline widget
        - Button:
            label: Show Dialog
            onTap:
              showDialog:
                widget:
                  Text:
                    text: This dialog declares the widget inline and uses the default style.

        - Spacer:
            styles:
              size: 20

        # use custom styling
        - Text:
            text: You can customize the dialog style
        - Button:
            label: Show Custom Dialog
            onTap:
              showDialog:
                widget: MyCustomDialog
                options:
                  # no default style - zero margin/padding, no background color
                  style: none
                  # move it up half way between the top and the center of the screen
                  verticalOffset: -0.5

# Custom Widget
MyStartingDialog:
  body:
    Column:
      styles:
        gap: 10
      children:
        - Text:
            text: Welcome to Ensemble
            styles:
              fontSize: 16
              fontWeight: bold
        - Text:
            text: This dialog pops up when the user first visits the page.
        - Button:
            label: Close dialog
            onTap: closeAllDialogs

MyCustomDialog:
  body:
    Column:
      styles:
        gap: 10
        backgroundColor: 0xffD7BFA8
        borderRadius: 10
        margin: 20
        padding: 20
      children:
        - Text:
            text: |-
              This dialog set its own margin/padding and background color.

              It also offset the dialog position vertically.
```

Try complete example [here](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/HRIajN2i8bDDVTL32j8m?propertyPanelEnabled=true&instantPreviewDisabled=false&editorV2Enabled=true)



**Output**

![Alt text](/public/images/actions/image--4.png)

![Alt text](/public/images/actions/image--5.png)

**Example with inputs**

We can also make use of inputs property for `showDialog` action to pass any input parameters to be used with dialog. Lets look at the previous example but this time with some input values.

```yaml
View:
  header:
    title: Dialog
  onLoad:
    showDialog:
      widget: MyStartingDialog
  body:
    Column:
      styles: { margin: 10, gap: 5 }
      children:
		- Text:
            text: You can customize the dialog style and provide inputs as well
        - Button:
            label: Show Custom Dialog
            onTap:
              showDialog:
                widget:
                  MyCustomDialog:
                    inputs:
                      name: Peter
                options:
                  # no default style - zero margin/padding, no background color
                  style: none
                  # move it up half way between the top and the center of the screen
                  verticalOffset: -0.5

                onDialogDismiss: |
                  //@code
                  console.log("dialog dismissed");

MyCustomDialog:
  inputs:
    - name
  body:
    Column:
      styles:
        gap: 10
        backgroundColor: 0xffD7BFA8
        borderRadius: 10
        margin: 20
        padding: 20
      children:
        - Text:
            text: |-
              Hi ${name}
              This dialog set its own margin/padding and background color.

              It also offset the dialog position vertically.
```

**Explanation**

- In the code for showDialog we are passing an input `name` with value `Peter` which can be seen clearly in the output.

**Output**

![Alt text](/public/images/actions/image--1.png)

![Alt text](/public/images/actions/image--3.png)

---

# showNotification

showNotification action triggers the display of local notifications within the app, notifying users of important events or information even when the app is in the background or closed, enhancing user engagement and ensuring timely communication with users.

### Properties

| Property | Type   | Description           |
| :------- | :----- | :-------------------- |
| title    | string | Title of notification |
| body     | string | Body of notification  |

**Example**

You can refer [here](/device-capabilities/request-notification-access) for example related to notification. Can also refer complete example [here](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/zbIn4f6tD3yQkC1MJRj1?propertyPanelEnabled=true&instantPreviewDisabled=false&editorV2Enabled=true).

---

# uploadFiles

uploadFiles action allows users to select and upload files from their device to the app, enabling easy data transfer and content sharing, supporting various file formats, and enhancing the app's versatility and user engagement.

### Properties

| Property   | Type   | Description                                                                                |
| :--------- | :----- | :----------------------------------------------------------------------------------------- |
| id         | string | Give the uploadApi an ID, allows you to bind to its result. e.g. ${apiId.body...}          |
| uploadApi  | string | Enter the name of your defined API                                                         |
| onComplete | action | Execute another Action upon successful upload of files                                     |
| onError    | action | Execute an Action when uploader fails with error(s)                                        |
| inputs     | array  | Define the list of input names that upload API accepts                                     |
| fieldName  | string | Field name that your server is expecting (default files)                                   |
| files      | string | Binded files from sources like camera or picker. e.g ${filePicker.files}, ${camerId.files} |
| options    | object | [see properties](#propertiesoptions)                                                       |

#### properties.option

| Property               | Type    | Description                                                                                                             |
| :--------------------- | :------ | :---------------------------------------------------------------------------------------------------------------------- |
| maxFileSize            | integer | File size that is allowed (default 100 mb), If multiple is allow then sum of all files                                  |
| overMaxFileSizeMessage | string  | Error message to show when selected files size is above maxFileSize.                                                    |
| backgroundTask         | boolean | If set true, uploading will be done in background.                                                                      |
| showNotification       | boolean | If set true, progress will be show in notification bar.                                                                 |
| networkType            | object  | An enumeration of network types. `connected` `metered` `not_required` `not_roaming` `unmetered` `temporarily_unmetered` |

**Example**



```yaml
View:
  # Optional - style the screen
  styles:
    scrollableView: true

  # Optional - set the header for the screen
  header:
    title: "Action: uploadFiles"

  # Specify the body of the screen
  body:
    Column:
      styles: { gap: 16, padding: 24 }
      children:
        - Markdown:
            text: |
              Use the `uploadFiles`  action  upload files to specify `uploadApi`. 

              Then use the `onComplete`  properties to execute other actions when upload is successful.

        - Button:
            label: Pick Files
            onTap:
              pickFiles:
                id: picker

        - Button:
            label: Upload Picked files
            onTap:
              executeCode:
                body: |
                  //@code
                  loading.visible = true;

                onComplete:
                  uploadFiles:
                    id: fileUploader
                    files: ${picker.files}
                    uploadApi: fileUploadApi
                    inputs:
                      url: https://en09cdal5asztm.x.pipedream.net
                    onComplete: |
                      //@code
                      loading.visible = false;
                    onError: |
                      //@code

                      loading.visible = false;
                    maxFileSize: 100
                    overMaxFileSizeMessage: Please select files less than 100kb

        - Markdown:
            text: ${fileUploader.body}

        - Progress:
            display: circular
            id: loading
            visible: false

        - Divider

        - Markdown:
            text: |
              Chain multiple file actions to pick files and upload them in one go
              - Using `pickFiles` to pick file based on platform picker
              - Using `uploadFiles` to upload selected files from file picker

        - Button:
            label: Pick & Upload
            onTap:
              pickFiles:
                id: filePicker
                onComplete:
                  uploadFiles:
                    files: ${filePicker.files}
                    uploadApi: fileUploadApi
                    inputs:
                      url: https://en09cdal5asztm.x.pipedream.net
                    onComplete: |
                      //@code
                      ensemble.debug('File uploaded');

        - Divider:

        - Markdown:
            text: |
              `pickFiles`  also comes with option such as:

                - `allowMultiple` : To allow muliple file selection from gallery picker default (false)
                - `allowCompression` : It will allow media to apply the default OS compression (default True)
                - `allowedExtensions` : To filter file picking based on extensions like jpg, png, pdf...

              `uploadFiles`  also comes with option such as:

                - `files` : Pass the files that needs to upload e.g ${filePicker.files}

                - `fieldName` : Field name that your server is expecting. (default files).

                - `maxFileSize`: File size that is allowed in kb (default 100 mb), If multiple is allow then sum of all files
                - `overMaxFileSizeMessage`: Error message to show when selected files size is above maxFileSize.

        - Row:
            styles: { mainAxis: spaceBetween, crossAxis: center }
            children:
              - Button:
                  label: Multiple Images
                  onTap:
                    pickFiles:
                      id: images
                      allowMultiple: true
                      allowCompression: false
                      allowedExtensions:
                        - jpg
                        - png

              - Text:
                  text: ${images.files.length}
        - Button:
            label: Upload Multiple images
            onTap:
              uploadFiles:
                id: imageUploader
                uploadApi: fileUploadApi
                files: ${images.files}
                fieldName: files
                inputs:
                  url: https://en09cdal5asztm.x.pipedream.net
                maxFileSize: 100 # in kb
                overMaxFileSizeMessage: Please select files less than 100kb

        - Markdown:
            text: ${imageUploader.body}
        - Divider

        - Markdown:
            text: |
              ### Background file upload
              - Pick and Upload files in background.
              - In unmetered connection (wifi/lan)
              - Also show notification
              - *Not supported on web / studio.

        - Button:
            label: Background upload
            onTap:
              pickFiles:
                id: bgFilePicker
                onComplete:
                  uploadFiles:
                    uploadApi: fileUploadApi
                    files: ${bgFilePicker.files}
                    inputs:
                      url: https://en09cdal5asztm.x.pipedream.net
                    id: bgUploader
                    options:
                      backgroundTask: true
                      showNotification: true
                      networkType: unmetered

        - Divider:

        - Markdown:
            text: |
              _Side Note: If you are using default uploadURL it's using RequestBin_

              _RequestBin has maxFileSize of __100 kb__ above it will fail._

              _You can see you API request [here](https://requestbin.com/r/en09cdal5asztm/2Lzx3lZ071EFF9dFKZCXJTnkJHS)_

        - Divider:

API:
  fileUploadApi:
    inputs:
      - url
    uri: ${url}
    method: POST
```



complete example [here](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/mvFbwP5K5yvAqTlncTga?propertyPanelEnabled=true&instantPreviewDisabled=false&editorV2Enabled=true)

---

# Add logic using JavaScript

Welcome to the Ensemble Javascript manual. It provides how-to guides, API reference documentation and examples.

## Limitations

Ensemble's javascript is a limited subset of the javascript you may be used to. It is used primarily for manipulating the JSON response from the server, performing UI logic when handling events or writing re-usable functions.

Following are the key limitations of the javascript in Ensemble.

- Only supports ES5. Which means that it does _not_ support any of the ES6 features listed [here](https://www.w3schools.com/js/js_es6.asp). There is _no_ support for arrow function synatx (=>), let keyword and many other features you may be used to.
- No support for importing libraries. Limited to what's provided outside the box.
- No support for `.prototype` or defining new objects. This may come in the future.

Let us know on our [Discord server](https://discord.gg/k4CJeuRc) if you need any of these capabilities or open a [ticket](https://github.com/EnsembleUI/ensemble/issues)

## Where is Javascript code used?

Javascript is the language to build your logic in Ensemble. It is used either as code blocks or as inline expressions. We discuss both below.

### Code Block

Each code block must start with `//@code` as the first line. This tells the platform to process the text as code.

- Use code blocks to handling events or processing API responses.
- Each code block must be in the `body` of the `executeCode` action.

See below the two use cases where code blocks are used.

#### Handling Events

Specified as the `executeCode` action.
Example -

```js
    Button:
      label: Click Me
      onTap:
        executeCode:
          body: |
            //@code
            myText.text = 'tapped out';
```

#### Process API responses

Another common place code blocks are used is when the API response has to be handled to extract values to be set on widgets or response to be set so that one or more `item-template` on the page may get the data in the format that they expect. See both examples below.
Example 1: set widget property in API response

```js
    API:
      getDummyData:
        uri: https://dummyjson.com/users/1
        method: GET
        onResponse:
          executeCode:
            body: |
              //@code
              myText.text = 'Got Response!';
```

Example 2: processing response and setting it for the `item-template` that are bound to this API to use

```js
    API:
      getDummyData:
        uri: https://dummyjson.com/users/1
        method: GET
        onResponse:
          executeCode:
            body: |
              //@code
              //this will replace the response and be used by the item-templates that bind to this API
              response.body.data = [{"field1:"value1"}];
```

### Inline Expressions and bindings

Use inline expressions for dynamically assigning values to widget properties. Inline expressions automatically update the properties of widgets by `binding` them to API responses or template data.

More details coming soon... TBD

## Referencing Ensemble widgets and their properties inside javascript

All widgets on a screen can be referenced within the code block by their `id` field. This also means that ids need to be unique on a screen. Don't set id on your re-usable custom widgets.
No need to call a function, simply use the id of the widget and start accessing its properties. For example, if your widget has `id: myText`, you can reference it in code block or inside an expression as just `myText`. See below.

```js
  Column:
    styles:
      padding: 24
      gap: 8
    children:
      - Text:
          id: myText
          text: Hi there!
      - Button:
          label: Click Me
          onTap:
            executeCode:
              body: |
                //@code
                myText.text = 'tapped out';
```

Widgets within an item-template can be referenced by their index in the array using the `this.selectedItemIndex` syntax.
For example.

```js
  ListView:
    id: listView
    onItemTap:
      navigateScreen:
        name: ListView - Detail Page
        inputs:
          doc_type: ${getPeople.body.users[this.selectedItemIndex]}
    styles: {expanded: true }
    itemTemplate:
      data: ${getPeople.body.users}
      name: users
      template:
        MyRow:
          inputs:
            p: ${users}
```

## Core Libraries

- [The `ensemble` object](/javascript-reference/Ensemble)
- [String](/javascript-reference/String)
- [Numbers](/javascript-reference/Numbers)
- [Date](/javascript-reference/Date)
- [Object and Array](/javascript-reference/Map-and-Array)
- [Globals](/javascript-reference/Global)
- [Math](/javascript-reference/Math)
- [JSON](/javascript-reference/JSON)
- [JsonPath](/javascript-reference/JsonPath)

## Common Errors and Logging/Debugging

TBD

---

# JavaScript Date
The Date object is a built-in JavaScript object that represents a single moment in time, based on the number of milliseconds since January 1, 1970, 00:00:00 UTC.

- Let us know on our [Discord server](https://discord.gg/k4CJeuRc) if you need any of other capabilities
- or open a [ticket](https://github.com/EnsembleUI/ensemble/issues)

## Constructors

### Date()
Creates a new Date object with the current date and time.

Example:
```js
var date = new Date();
console.log(date.toString()); // Example output: "Fri Jun 02 2022 12:49:07 GMT+0200 (Central European Summer Time)"
```

### Date(milliseconds)
Creates a new Date object with the time set to the number of milliseconds since January 1, 1970, 00:00:00 UTC.

Example:
```js
var date = new Date(1622633347521);
console.log(date.toString()); // Example output: "Fri Jun 02 2022 12:49:07 GMT+0200 (Central European Summer Time)"
```
### Date(dateString)
Creates a new Date object with the time set to the value specified by the dateString.

**Note: The function parses a subset of ISO 8601, which includes the subset accepted by RFC 3339.**

The accepted inputs are currently:

* A date: A signed four-to-six digit year, two digit month and two digit day, optionally separated by - characters. Examples: "19700101", "-0004-12-24", "81030-04-01".
* An optional time part, separated from the date by either T or a space. The time part is a two digit hour, then optionally a two digit minutes value, then optionally a two digit seconds value, and then optionally a '.' or ',' followed by at least a one digit second fraction. The minutes and seconds may be separated from the previous parts by a ':'. Examples: "12", "12:30:24.124", "12:30:24,124", "123010.50".
* An optional time-zone offset part, possibly separated from the previous by a space. The time zone is either 'z' or 'Z', or it is a signed two digit hour part and an optional two digit minute part. The sign must be either "+" or "-", and cannot be omitted. The minutes may be separated from the hours by a ':'. Examples: "Z", "-10", "+01:30", "+1130".
* This includes the output of both toString and toIso8601String, which will be parsed back into a DateTime object with the same time as the original.

The result is always in either local time or UTC. If a time zone offset other than UTC is specified, the time is converted to the equivalent UTC time.

Examples of accepted strings:

* "2012-02-27"
* "2012-02-27 13:27:00"
* "2012-02-27 13:27:00.123456789z"
* "2012-02-27 13:27:00,123456789z"
* "20120227 13:27:00"
* "20120227T132700"
* "20120227"
* "+20120227"
* "2012-02-27T14Z"
* "2012-02-27T14+00:00"
* "-123450101 00:00:00 Z": in the year -12345.
* "2002-02-27T14:00:00-0500": Same as "2002-02-27T19:00:00Z"

This method accepts out-of-range component values and interprets them as overflows into the next larger component. For example, "2020-01-42" will be parsed as 2020-02-11, because the last valid date in that month is 2020-01-31, so 42 days is interpreted as 31 days of that month plus 11 days into the next month.

Example:
```js
var date = new Date("2022-06-02T10:49:07.521Z");
console.log(date.toString()); // Example output: "Fri Jun 02 2022 12:49:07 GMT+0200 (Central European Summer Time)"
```
### Date(year, month[, day[, hour[, minutes[, seconds[, milliseconds]]]]])
Creates a new Date object with the specified date and time components. The month parameter is 0-indexed (0 for January, 1 for February, etc.).

Example:
```js
var date = new Date(2022, 5, 2, 10, 49, 7, 521);
console.log(date.toString()); // Example output: "Thu Jun 02 2022 10:49:07 GMT+0200 (Central European Summer Time)"
```
## Methods

### Date.UTC(year, month[, day[, hour[, minutes[, seconds[, milliseconds]]]]])
Returns the number of milliseconds since January 1, 1970, 00:00:00 UTC for the specified date and time components.

Example:
```js
var utc = Date.UTC(2022, 5, 2, 10, 49, 7, 521);
console.log(utc); // Example output: 1654259347521
```
### getTime()
Returns the number of milliseconds since January 1, 1970, 00:00:00 UTC.

Example:
```js
var date = new Date();
var time = date.getTime();
console.log(time); // Example output: 1622633347521
```
### getFullYear()
Returns the year according to the local time.

Example:
```js
var date = new Date();
var year = date.getFullYear();
console.log(year); // Example output: 2022
```
### getMonth()
Returns the month according to the local time (0-indexed).

Example:
```js
var date = new Date();
var month = date.getMonth();
console.log(month); // Example output: 5 (for June)
```
### getDate()
Returns the day of the month according to the local time.

Example:
```js
var date = new Date();
var dayOfMonth = date.getDate();
console.log(dayOfMonth); // Example output: 2
```
### getHours()
An integer, between 0 and 23, representing the hours for the given date according to local time.

Example:
```js
var birthday = new Date('March 13, 08 04:20');
console.log(birthday.getHours());// Expected output: 4
```
### getMinutes()
Returns the minutes according to the local time.

Example:
```js
var date = new Date();
var minutes = date.getMinutes();
console.log(minutes); // Example output: 49
```
### getSeconds()
Returns the seconds according to the local time.

Example:
```js
var date = new Date();
var seconds = date.getSeconds();
console.log(seconds); // Example output: 7
```
### getMilliseconds()
Returns the milliseconds according to the local time.

Example:
```js
var date = new Date();
var milliseconds = date.getMilliseconds();
console.log(milliseconds); // Example output: 521
```
### getDay()
Returns the day of the week according to the local time.

Example:
```js
var date = new Date();
var dayOfWeek = date.getDay();
console.log(dayOfWeek); // Example output: 4 (for Thursday)
```
### toISOString()
Returns the Date object as a ISO8601 string. It does not support internationalized strings.
This string can be parsed back into the Date object using the parse() method

Example:
```js
var event = new Date('2023-11-02 17:07:35.053068');
var str = date.toISOString()
console.log(str); // Example output: "2023-11-03T00:07:35.053068Z"
```
### toJSON()
Returns the Date object as an ISO 8601 formatted string in UTC.

Example:
```js
var date = new Date();
var jsonString = date.toJSON();
console.log(jsonString); // Example output: "2022-06-02T10:49:07.521Z"
```
### toLocaleDateString()
Returns the date formatted with locale conventions.
- locale (optional): A string with a BCP 47 language tag that forces a specific locale to be used. If no locale is passed in, Ensemble will automatically use the user-detected locale.

Example:
```js
var event = new Date('2023-11-02T17:07:35.053Z');

// "11/2/2023" (US) or "2/11/2023" (UK) depending on detected locale 
console.log(event.toLocaleDateString());

// Force a locale (British English). Output 2/11/2023
console.log(event.toLocaleDateString('en-GB');
```

### toLocaleTimeString()
Returns the time portion of the Date object as a string, using locale conventions.
- locale (optional): A string with a BCP 47 language tag that forces a specific locale to be used. If no locale is passed in, Ensemble will automatically use the user-detected locale.

```js
var event = new Date('2023-11-02T17:07:35.053Z');
var str = event.toLocaleTimeString();

// output: "5:07:35 PM" or "17:07:35" depending on the detected locale
console.log(str);

// force es locale, outputing "17:07:35"
console.log(event.toLocaleTimeString("es"));

```

### toLocaleString()
Returns the full date and time according to locale-specific conventions.
- locale (optional): A string with a BCP 47 language tag that forces a specific locale to be used. If no locale is passed in, Ensemble will automatically use the user-detected locale.

```js
var event = new Date('2023-11-02T17:07:35.053Z');

// output "11/2/2023, 5:07:35 PM" or "2/11/2023, 17:07:35" depending on detected locale
console.log(event.toLocaleString());

// force a locale, outputing "2/11/2023, 17:07:35"
console.log(event.toLocaleString("es");
```

### toString()
Returns the Date object as a human readable string. It does not support internationalized strings.
This string can be parsed back into the Date object using the parse() method

Example:
```js
var date = new Date();
var str = date.toString()
console.log(str); // Example output: "2023-11-02 17:03:32.094453"
```
### valueOf()
Returns the primitive value of the Date object, which is the number of milliseconds since midnight of January 1, 1970 UTC.

Example:
```js
var event = new Date('2023-11-02T17:07:35.053Z');
var val = event.valueOf();
console.log(val); // Example output: 1698947255053
```

### setTime(timeValue)
Sets the Date object to the time represented by the number of milliseconds since January 1, 1970, 00:00:00 UTC.

Example:
```js
var date = new Date();
date.setTime(1622633347521);
console.log(date.toString()); // Example output: "Fri Jun 02 2022 12:49:07 GMT+0200 (Central European Summer Time)"
```
### setDate()
Description: Sets the day of the month for a specified date according to local time.
Syntax: dateObj.setDate(dayValue)
Parameters:
dayValue: An integer from 1 to 31, representing the day of the month.
Example:
```js
var date = new Date();
date.setDate(15);
```
### setMonth()
Description: Sets the month for a specified date according to local time.
Syntax: dateObj.setMonth(monthValue)
Parameters:
monthValue: An integer from 0 (January) to 11 (December) representing the month.
Example:
```js
var date = new Date();
date.setMonth(5); // Sets the month to June
```
### setFullYear()
Description: Sets the full year for a specified date according to local time.
Syntax: dateObj.setFullYear(yearValue)
Parameters:
yearValue: An integer specifying the numeric value of the year, e.g., 1995.
Example:
```js
var date = new Date();
date.setFullYear(2024);
```
### setHours()
Description: Sets the hours for a specified date according to local time.
Syntax: dateObj.setHours(hoursValue)
Parameters:
hoursValue: An integer from 0 to 23, representing the hour.
Example:
```js
var date = new Date();
date.setHours(13);
```
### setMinutes()
Description: Sets the minutes for a specified date according to local time.
Syntax: dateObj.setMinutes(minutesValue)
Parameters:
minutesValue: An integer from 0 to 59, representing the minutes.
Example:
```js
var date = new Date();
date.setMinutes(45);
```
### setUTCDate()
Description: Sets the day of the month for a specified date according to UTC.
Syntax: dateObj.setUTCDate(dayValue)
Parameters:
dayValue: An integer from 1 to 31, representing the day of the month.
Example:
```js
var date = new Date();
date.setUTCDate(15);
```
### setUTCMonth()
Description: Sets the month for a specified date according to UTC.
Syntax: dateObj.setUTCMonth(monthValue)
Parameters:
monthValue: An integer from 0 (January) to 11 (December) representing the month.
Example:
```js
var date = new Date();
date.setUTCMonth(5); // Sets the month to June
```
### setUTCFullYear()
Description: Sets the full year for a specified date according to UTC.
Syntax: dateObj.setUTCFullYear(yearValue)
Parameters:
yearValue: An integer specifying the numeric value of the year, e.g., 1995.
Example:
```js
var date = new Date();
date.setUTCFullYear(2024);
```
### setUTCHours()
Description: Sets the hours for a specified date according to UTC.
Syntax: dateObj.setUTCHours(hoursValue)
Parameters:
hoursValue: An integer from 0 to 23, representing the hour.
Example:
```js
var date = new Date();
date.setUTCHours(13);
```
### setUTCMinutes()
Description: Sets the minutes for a specified date according to UTC.
Syntax: dateObj.setUTCMinutes(minutesValue)
Parameters:
minutesValue: An integer from 0 to 59, representing the minutes.
Example:
```js
var date = new Date();
date.setUTCMinutes(45);
```
### setUTCSeconds()
Description: Sets the seconds for a specified date according to UTC.
Syntax: dateObj.setUTCSeconds(secondsValue)
Parameters:
secondsValue: An integer from 0 to 59, representing the seconds.
Example:
```js
var date = new Date();
date.setUTCSeconds(30);
```
### setUTCMilliseconds()
Description: Sets the milliseconds for a specified date according to UTC.
Syntax: dateObj.setUTCMilliseconds(millisecondsValue)
Parameters:
millisecondsValue: An integer from 0 to 999, representing the milliseconds.
Example:
```js
var date = new Date();
date.setUTCMilliseconds(500);
```

## UTC Methods
These methods are similar to their local-time counterparts but use UTC time instead of local time.
### getUTCFullYear()
Example:
```js
var date = new Date();
var utcFullYear = date.getUTCFullYear();
console.log(utcFullYear); // Example output: 2022
```
### getUTCMonth()
Example:
```js
var date = new Date();
var utcMonth = date.getUTCMonth();
console.log(utcMonth); // Example output: 5 (for June)
```
### getUTCDate()
Example:
```js
var date = new Date();
var utcDate = date.getUTCDate();
console.log(utcDate); // Example output: 2
```
### getUTCHours()
Example:
```js
var date = new Date();
var utcHours = date.getUTCHours();
console.log(utcHours); // Example output: 10
```
### getUTCMinutes()
Example:
```js
var date = new Date();
var utcMinutes = date.getUTCMinutes();
console.log(utcMinutes); // Example output: 49
```
### getUTCSeconds()
Example:
```js
var date = new Date();
var utcSeconds = date.getUTCSeconds();
console.log(utcSeconds); // Example output: 7
```
### getUTCMilliseconds()
Example:
```js
var date = new Date();
var utcMilliseconds = date.getUTCMilliseconds();
console.log(utcMilliseconds); // Example output: 521
```
### getUTCDay()
Example:
```js
var date = new Date();
var utcDay = date.getUTCDay();
console.log(utcDay); // Example output: 4 (for Thursday)
```
## Arithmatic Operations with Date
You can use a Date object as a primitive and add, subtract, multiply etc. as follows. 
Example
```js
var date = new Date(2022, 5, 2, 10, 49, 7, 521);
var yesterday = date - 1000 * 60 * 60 * 24;   // current date's milliseconds - 1,000 ms * 60 s * 60 mins * 24 hrs * (# of days beyond one to go back)
yesterday = new Date(yesterday);
console.log(yesterday); //Example output: 1
```

---

# Ensemble Objects and their properties

# The `app` object
`app` object provides app and theme configuration related properties and methods. 
## Properties

### baseUrl
Returns the `baseUrl` if one is specified in configuration. NOTE: `baseUrl` cannot be set and can only be retrieved. 
```yaml
API:
 myAPI:
  url: ${app.baseUrl}/path/file.json
```
or in js - 
```js
var url = app.baseUrl;
```
### useMockResponse
Sets or Returns the value of `useMockResponse`. See [this](https://docs.ensembleui.com/#/build/use-mock-api-response?id=mocking-api-responses-to-develop-and-test-your-app) for details on how to mock responses for your APIs during development or testing. 
```js
app.useMockResponse = true;
var isInMockResponseMode = app.useMockResponse; //returns true
```
### Theme
Sets or Returns the value of the current theme. See [this](/theme-and-styling/theme) for details on how themes work and how to set/get a theme. 

### Themes
Returns the current set of themes that were configured in the app. NOTE: you can only retrieve the list of pre-configured themes, you cannot add to the list or set the list to a different list. 

See [this](/theme-and-styling/theme#checking-and-switching-themes-in-javascript) on how to configure multiple themes.

**Example:**

Bind the `themes` to a dropdown and let user switch themes from all the available themes. 
```yaml
        - Dropdown:
            label: Pick a Theme
            items: ${app.themes}
            value: ${app.theme}
            onChange:
              executeCode:
                body: |
                  app.theme = this.value;
```
## Methods
### saveTheme
Saves the theme name passed as argument into the persistent storage. This theme is then automatically applied on the next re-launch of the app. See [this](/theme-and-styling/theme#savings-themes-in-storage-so-they-can-be-applied-across-application-sessions) for details.

### getSavedTheme
Retrieves the saved theme. See [this](/theme-and-styling/theme#savings-themes-in-storage-so-they-can-be-applied-across-application-sessions) for details.

### removeSavedTheme
Clear out the saved theme. See [this](/theme-and-styling/theme#savings-themes-in-storage-so-they-can-be-applied-across-application-sessions) for details.

---

# Exception Handling in Javascript

Ensemble supports try/catch/finally in ES5 and the throw clause as well. In JavaScript ES5, the try/catch/finally structure, along with the throw statement, provides robust error-handling capabilities. These constructs allow developers to handle runtime errors gracefully, ensuring that code can respond to unexpected issues without crashing. 

The try block contains code that might throw an error, and if an error occurs, control immediately moves to the catch block, where the error can be handled. 

The finally block, which is optional, executes regardless of whether an error was caught, making it useful for cleanup tasks (like closing connections or freeing up resources). 

The throw statement allows you to generate custom errors by “throwing” an error that can be caught by catch. This is particularly useful for input validation and other scenarios where specific conditions need to be enforced.

In the following example, the function `divide` is throwing an error that is then caught in the catch clause and a toast message is shown.

```yaml
View:
  styles:
    useSafeArea: true

  # Optional - set the header for the screen
  header:
    titleText: Home

  # Specify the body of the screen
  body:
    Column:
      styles:
        padding: 24
        gap: 8
      children:
        - Text:
            text: Hi there!
        - Button:
            label: Checkout Ensemble Kitchen Sink
            onTap:
              executeCode:
                body: |-
                  try {
                    console.log(divide(10, 0)); // Will throw an error
                  } catch (error) {
                    console.log("Caught an error: " + error.message);
                    var payload = {
                      message: error.message,
                      options: {
                        type: 'error',
                        duration: 3,
                        alignment: 'bottomRight'
                      }
                    };
                    ensemble.showToast(payload);
                  } finally {
                    console.log("Execution completed.");
                  }

Global: |-
  // Javascript code
  function divide(a, b) {
    if (b === 0) {
        throw new Error("Division by zero is not allowed"); // Custom error
        //You can just throw a string as well as follows -
        //throw "Division by zero is not allowed";
    }
    return a / b;
  } 

```

---

# Defining and Re-using Javascript Code

There are two ways to re-use js code as follows - 

- `Global` block within a screen definition. This, despite its name, is limited to the screen it is defined in and cannot be referenced in other screens
- `Scripts` a script that is defined independent of a screen (see video below) may be used anywhere in the app by simply importing it. 

In both cases above, you can define javascript variables (only `var` is supported as this is ES5, see [here](/javascript-reference/intro)) or functions. 

## Example of `Global` code block within a screen

```yaml
View:
  #your screen definition
Global: |-
  //code block
  function sum(a,b) {
    return a + b;
  }
```

## Example of re-usable `Script` defined outside a screen and imported in any screen or widget
A script defined outside a screen, however, can be imported on any screen or widget across the app by simply doing - 

```yaml
Import:
  - myScript
```
Watch the following video for how to define a js library and re-use it across the app

## Demo

<div style="position: relative; padding-bottom: calc(55.463451394122075% + 41px); height: 0; width: 100%;"><iframe src="https://demo.arcade.software/6YFOTXvqE5kmEs8mJptS?embed&show_copy_link=true" title="Demo" frameborder="0" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen allow="clipboard-write" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;color-scheme: light;"></iframe>

---

- Let us know on our [Discord server](https://discord.gg/k4CJeuRc) if you need any of other capabilities
- or open a [ticket](https://github.com/EnsembleUI/ensemble/issues)

For `parseInt`, `parseFloat`, see [String.tryParseInt](/javascript-reference/String) and [String.tryParseDouble](/javascript-reference/String) respectively.

### console.log

The `console.log()` function is used to print messages to the console. It can be used for debugging purposes or to display information.

**Example:**

```javascript
console.log("Hello, World!"); // Output: Hello, World!
```

### regexp.test

The `regexp.test()` function is used to test if a given string matches a regular expression pattern. It returns `true` if the string matches the pattern, and `false` otherwise.

**Example:**

```javascript
var pattern = /hello/;
var str = "Hello, World!";
console.log(pattern.test(str)); // Output: false
str = "hello, how are you?";
console.log(pattern.test(str)); // Output: true
```
### btoa

The `btoa()` function is used to encode a string in base64 format. It takes a string as input and returns a base64 encoded string.

**Example:**

```javascript
var str = "Hello, World!";
console.log(btoa(str)); // Output: SGVsbG8sIFdvcmxkIQ==
```

### atob

The `atob()` function is used to decode a base64 encoded string. It takes a base64 encoded string as input and returns the decoded string.

**Example:**

```javascript
var base64Str = "SGVsbG8sIFdvcmxkIQ==";
console.log(atob(base64Str)); // Output: Hello, World!
```
### encodeURIComponent 
The `encodeURIComponent(str)` function encodes a URI component by escaping all characters except alphabetic characters, decimal digits, and a few special characters (-, _, ., !, ~, *, ', (, )). It is used to encode the values of query string parameters to ensure special characters do not interfere with the way the URI is interpreted by browsers and servers. For example, it encodes spaces as %20 and = as %3D.
[Detailed documentation](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent)

**Example:**
```javascript
var myParam = 'This & That';
var encodedParam = encodeURIComponent(myParam);
console.log(encodedParam); // Outputs: This%20%26%20That
```
### decodeURIComponent 
`decodeURIComponent(str)` function decodes a URI component previously created by encodeURIComponent or by a similar routine. It reverses the encoding process by replacing percent-encoded characters with their corresponding ASCII characters.
[Detailed documentation](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/decodeURIComponent)

**Example:**
```javascript
var decodedParam = decodeURIComponent(encodedParam);
console.log(decodedParam); // Outputs: This & That
```

### encodeURI 
`encodeURI(uri)`: Unlike encodeURIComponent, this function is intended to encode a complete URI without escaping characters that have special meanings in URIs (like :, /, ?, &, =). It encodes the necessary components of the URI to make it safe for transmission by escaping all characters except those considered safe.
[Detailed documentation](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURI)

**Example:**
```javascript
var uri = 'https://mozilla.org/?x=шеллы';
var encoded = encodeURI(uri);
console.log(encoded);
// Expected output: "https://mozilla.org/?x=%D1%88%D0%B5%D0%BB%D0%BB%D1%8B"
```

### decodeURI
`decodeURI(encodedURI)`: This function is used to decode a URI that was previously encoded using encodeURI. It decodes the entire URI but will not decode characters that are part of the URI syntax itself (like ? and # in query strings and fragments).
[Detailed documentation](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/decodeURI)

**Example:**
```javascript
var uri = 'https://mozilla.org/?x=шеллы';
var encoded = encodeURI(uri);
console.log(encoded);
// Expected output: "https://mozilla.org/?x=%D1%88%D0%B5%D0%BB%D0%BB%D1%8B"

console.log(decodeURI(encoded));
// Expected output: "https://mozilla.org/?x=шеллы"

```

---

# JSON
Ensemble Javascript provides two key methods to deal with the JSON objects.

## Methods
### parse()
The JSON.parse() static method parses a JSON string, constructing the JavaScript object described by the string. 

#### Returns
Returns a Javascript object

Example - 
```js
const json = '{"result":true, "count":42}';
const obj = JSON.parse(json);

console.log(obj.count);
// Expected output: 42

console.log(obj.result);
// Expected output: true
```
### stringify()
The JSON.stringify() static method converts a JavaScript value to a JSON string.

Types that are directly converted to json strings - string, number, array, object (map), boolean and date. Date objects are converted to string by calling the [toISOString()](/javascript-reference/Date#toisostring) method. 

#### Returns
Returns a string representing the json object 

Example - 
```js
console.log(JSON.stringify({ x: 5, y: 6 }));
// Expected output: '{"x":5,"y":6}'
```

---

TBD

---

# Object
Any property of a javascript object may be accessed using either the parenthesis `['propname']` or the dot `myObj.propname`. 

- It the property does not exist on the object, it will return null. Exception will *not* be thrown. 
- Let us know on our [Discord server](https://discord.gg/k4CJeuRc) if you need any of other capabilities
- or open a [ticket](https://github.com/EnsembleUI/ensemble/issues)

## Constructor

```js
var obj = {a: 1, b: 'abc'};//creates a new object with properties a and b
var obj2 = new Object(); //creates a new empty object
obj2['a'] = 1; //adds property a to the object
obj2['b'] = 'abc';
```

## Static Methods
### Object.keys(value)
See Object.keys in javascript. Returns an array of a given object's own enumerable property names.

Example - 
```js
var result = Object.keys({a: 1, b: 2, c: 3});
// result: ['a', 'b', 'c']
```
### Object.values(value)
See Object.values in javascript. Returns an array of a given object's own enumerable property values.
Example - 
```js
var result = Object.values({a: 1, b: 2, c: 3});
// result: [1, 2, 3]
```
### Object.entries(value)
See Object.entries in javascript. Returns an array of a given object's own enumerable property [key, value] pairs.
Example - 
```js
var result = Object.entries({a: 1, b: 2, c: 3});
// result: [['a', 1], ['b', 2], ['c', 3]]
```

### hasOwnProperty(value, key)

Checks if the provided key exists as an own property of the object.

Example - 
```js
var obj = { a: 1, b: 2 };
var result = hasOwnProperty(obj, 'a'); 
// result: true
```

### getPropertyNames(value)

Retrieves an array of all enumerable property names (keys) of the object.

Example - 
```js
var obj = { a: 1, b: 2, c: 3 };
var result = getPropertyNames(obj);
// result: ['a', 'b', 'c']
```

### toString(value)

Converts the value to a string representation.

Example - 

```js
var obj = { a: 1, b: 2 };
var result = toString(obj);
// result: '[object Object]'
```

### toJSON(value)

Converts the value into a JSON string. Works with objects, arrays, or other types.

Example - 
```js
var obj = { a: 1, b: 2 };
var result = toJSON(obj);
// result: '{"a":1,"b":2}'
```

### defineProperty(value, key, property)

Defines a new property on the object or updates an existing one. If the value is not an object, this function does nothing.

Example - 
```js
var obj = { a: 1 };
var result = defineProperty(obj, 'b', 2);
// result: { a: 1, b: 2 }
```

### deleteProperty(value, key)

Deletes the specified property from the object. If the key does not exist, it does nothing.

Example - 
```js
var obj = { a: 1, b: 2 };
var result = deleteProperty(obj, 'b');
// result: { a: 1 }
```

### has(value, key)

Checks if the specified key exists in the object. Works like hasOwnProperty.

Example - 
```js
var obj = { a: 1, b: 2 };
var result = has(obj, 'b');
// result: true
```

### propertyIsEnumerable(value, key)

Checks if the given property key is enumerable in the object.

Example - 
```js
var obj = { a: 1, b: 2 };
var result = propertyIsEnumerable(obj, 'a');
// result: true
```

## Instance Methods
### keys()
Just like the Object.keys() method in javascript. Returns an array containing the keys (propery names) of an object. 

#### Returns
Returns an array containing the keys (propery names) of an object. 

Example - 
```js
var headers = {};
headers['abc'] = 'xyz';
headers['def'] = 123;
headers['ghi'] = '456';      
var keys = headers.keys();
keys.forEach(function(key) {
  console.log(key + ':' + headers[key]);
});
/* outputs
abc:xyz
def:123
ghi:456
*/
```
### values()
Just like the Object.values() method in javascript. Returns an array containing the values (propery values) of an object. 

#### Returns
Returns an array containing the values (propery values) of an object. 

Example - 
```js
var headers = {};
headers['abc'] = 'xyz';
headers['def'] = 123;
headers['ghi'] = '456';      
headers.values().forEach(function(val) {
  console.log(val);
});
/* outputs
xyz
123
456
*/
```
### entries()
Just like the Object.entries() method in javascript. Returns an array containing the entries  of an object where each entry is an object - {key:<key>,value:<value>} 

#### Returns
Returns an array containing the values (propery values) of an object. 

Example - 
```js
var headers = {};
headers['abc'] = 'xyz';
headers['def'] = 123;
headers['ghi'] = '456';      
headers.entries().forEach(function(entry) {
  console.log(entry.key + ':' + entry.value);
});  
/* outputs
abc:xyz
def:123
ghi:456
*/
```
### path(jsonPath,mapFunction)
The `path` method is a function that takes a JSON path as a string and an optional mapping function as arguments. The function traverses the object using the provided path and returns a list of the values found at that path.

The optional mapFunction argument is a function that transforms the values found at the JSON path. If a mapFunction is provided, it is applied to each value found at the path.

#### Parameters
jsonPath (String): The JSON path at which to look for values.</br>
mapFunction (Function, optional): A function to transform the values found at the path. This function is called with one argument: a list containing the current value. Pass `null` if not needed

#### Returns
A list of values found at the specified JSON path. If mapFunction is provided, the list will contain the transformed values.

Example - 
```js
var obj = {
  'name': 'John',
  'age': 30,
  'city': 'New York'
};

var result = obj.path('$.name', (val) => val[0].toUpperCase());
console.log(result); // Outputs: ["J"]
```
# Array
Arrays behave exactly as they would in regular javascript. You can access an item in the array with the index e.g. `myArray[0]`
- Let us know on our [Discord server](https://discord.gg/k4CJeuRc) if you need any of other capabilities
- or open a [ticket](https://github.com/EnsembleUI/ensemble/issues)

## Properties
### length
Returns the length of the array. Works exactly like the javascript arrays. 

**Example:**

```javascript
var numbers = [1, 4, 9];
console.log(roots.length); // 3
```

## Methods
### map

The `map()` method creates a new array populated with the results of calling a provided function on every element in the calling array.

**Parameters:**

- `callback`: Function that produces an element of the new array, taking two arguments:
  - `currentValue`: The current element being processed in the array.
  - `index`: The index of the current element being processed in the array.

**Return value:**

A new array with each element being the result of the callback function.

**Example:**

```javascript
var numbers = [1, 4, 9];
var squares = numbers.map(function(num, index) {
  return num * num;
});
console.log(squares); // [1, 16, 81]
```

### forEach

Executes a provided function once for each array element.

**Parameters:**

- `callback`: Function to execute on each element, taking two arguments:
  - `currentValue`: The current element being processed.
  - `index`: The index of the current element being processed.

**Return value:**

`undefined`.

**Example:**

```javascript
var numbers = [1, 2, 3];
numbers.forEach(function(num, index) {
  console.log('Number:', num, 'at index:', index);
});
```

### reduce

The `reduce()` method executes a reducer function on each element of the array, resulting in a single output value.

**Parameters:**

- `callback`: A function to execute on each element in the array (except for the first, if no initialValue is provided), taking four arguments:
  - `accumulator`: The accumulator accumulates the callback's return values.
  - `currentValue`: The current element being processed.
- `initialValue` (optional): A value to use as the first argument to the first call of the callback.

**Return value:**

The single value that results from the reduction.

**Example:**

```javascript
var numbers = [1, 2, 3, 4];
var sum = numbers.reduce(function(total, num) {
  return total + num;
}, 0);
console.log(sum); // 10
```

### indexOf

Returns the first index at which a given element can be found in the array, or -1 if it is not present.

**Parameters:**

- `searchElement`: The element to locate in the array.

**Return value:**

The first index of the element in the array; -1 if not found.

**Example:**

```javascript
var fruits = ['apple', 'banana', 'cantaloupe', 'blueberry'];
var index = fruits.indexOf('banana');
console.log(index); // 1
```

### join

Joins all elements of an array into a string.

**Parameters:**

- `separator` (optional): Specifies a string to separate each pair of adjacent elements of the array. The separator is converted to a string if necessary. If omitted, the array elements are separated with a comma.

**Return value:**

A string with all array elements joined.

**Example:**

```javascript
var elements = ['Fire', 'Air', 'Water'];
console.log(elements.join());      // "Fire,Air,Water"
console.log(elements.join(''));    // "FireAirWater"
console.log(elements.join('-'));   // "Fire-Air-Water"
```

### pop

Removes the last element from an array and returns that element. This method changes the length of the array.

**Parameters:**

None.

**Return value:**

The removed element from the array; `undefined` if the array is empty.

**Example:**

```javascript
var plants = ['broccoli', 'cauliflower', 'cabbage', 'kale', 'tomato'];
console.log(plants.pop()); // "tomato"
console.log(plants); // ["broccoli", "cauliflower", "cabbage", "kale"]
```

### push

Adds one or more elements to the end of an array and returns the new length of the array.

**Parameters:**

- `elementN`: The elements to add to the end of the array.

**Return value:**

The new length of the array.

**Example:**

```javascript
var animals = ['pigs', 'goats', 'sheep'];
var count = animals.push('cows');
console.log(count);  // 4
console.log(animals); // ["pigs", "goats", "sheep", "cows"]
```

### slice

The `slice()` method returns a shallow copy of a portion of an array into a new array object selected from `start` to `end` (end not included) where `start` and `end` represent the index of items in that array. The original array will not be modified.

**Parameters:**

- `start`: Zero-based index at which to start extraction.
- `end` (optional): Zero-based index before which to end extraction. The slice extracts up to but not including `end`.

**Return value:**

A new array containing the extracted elements.

**Example:**

```javascript
var fruits = ['Banana', 'Orange', 'Lemon', 'Apple', 'Mango'];
var citrus = fruits.slice(1, 3);
console.log(citrus); // ['Orange', 'Lemon']
```

### some

The `some()` method tests whether at least one element in the array passes the test implemented by the provided function. It returns a Boolean value.

**Parameters:**

- `callback`: Function to test for each element, taking one argument:
  - `currentValue`: The current element being processed in the array.

**Return value:**

`true` if the callback function returns a truthy value for any array element; otherwise, `false`.

**Example:**

```javascript
var array = [1, 2, 3, 4, 5];
var even = function(element) {
  return element % 2 === 0;
};
console.log(array.some(even)); // true
```

### every

The `every()` method tests whether all elements in the array pass the test implemented by the provided function. It returns a Boolean value.

**Parameters:**

- `callback`: Function to test for each element, taking one argument:
  - `currentValue`: The current element being processed in the array.

**Return value:**

`true` if the callback function returns a truthy value for every array element; otherwise, `false`.

**Example:**

```javascript
var isBelowThreshold = function(currentValue) {
  return currentValue < 40;
};
var array = [1, 30, 39, 29, 10, 13];
console.log(array.every(isBelowThreshold)); // true
```

### findIndex

The `findIndex()` method returns the index of the first element in the array that satisfies the provided testing function. Otherwise, it returns -1, indicating that no element passed the test.

**Parameters:**

- `callback`: Function to execute on each value in the array, taking one argument:
  - `currentValue`: The current element being processed.

**Return value:**

The index of the first element in the array that passes the test; otherwise, -1.

**Example:**

```javascript
var array = [5, 12, 8, 130, 44];
var isLargeNumber = function(element) {
  return element > 13;
};
console.log(array.findIndex(isLargeNumber)); // 3
```

### fill

The `fill()` method changes all elements in an array to a static value, from a start index (default zero) to an end index (default array.length). It returns the modified array.

**Parameters:**

- `value`: Value to fill the array with.
- `start` (optional): Start index, default 0.
- `end` (optional): End index, default array length.

**Return value:**

The modified array.

**Example:**

```javascript
var array = [1, 2, 3, 4];
console.log(array.fill(0, 2, 4)); // [1, 2, 0, 0]
console.log(array.fill(5, 1)); // [1, 5, 5, 5]
console.log(array.fill(6)); // [6, 6, 6, 6]
```

### shift

The `shift()` method removes the first element from an array and returns that removed element. This method changes the length of the array.

**Parameters:**

None.

**Return value:**

The removed element from the array; `null` if the array is empty.

**Example:**

```javascript
var myFish = ['angel', 'clown', 'mandarin', 'surgeon'];
console.log('Before:', JSON.stringify(myFish));
var shifted = myFish.shift();
console.log('After:', JSON.stringify(myFish));
console.log('Removed:', shifted);
// Before: ["angel", "clown", "mandarin", "surgeon"]
// After: ["clown", "mandarin", "surgeon"]
// Removed: angel
```

### unshift

The `unshift()` method adds one or more elements to the beginning of an array and returns the new length of the array.

**Parameters:**

- `...elements`: The elements to add to the front of the array.

**Return value:**

The new length of the array.

**Example:**

```javascript
var myArray = [1, 2, 3];
console.log(myArray.unshift(4, 5)); // 5
console.log(myArray); // [4, 5, 1, 2, 3]
```

### splice

The `splice()` method changes the contents of an array by removing or replacing existing elements and/or adding new elements in place.

**Parameters:**

- `start`: The index at which to start changing the array.
- `deleteCount`: The number of elements in the array to remove from `start`.
- `...items`: The elements to add to the array, beginning from `start`.

**Return value:**

An array containing the deleted elements.

**Example:**

```javascript
var myFish = ['angel', 'clown', 'drum', 'mandarin', 'sturgeon'];
var removed = myFish.splice(3, 2);
console.log(myFish); // ["angel", "clown", "drum"]
console.log(removed); // ["mandarin", "sturgeon"]
```

### find

The `find()` method returns the value of the first element in the provided array that satisfies the provided testing function. If no values satisfy the testing function, `-1` is returned.

**Parameters:**

- `callback`: A function to execute on each value in the array until the function returns true, indicating that the satisfying element was found.

**Return value:**

The first element in the array that passes the test; `-1` if no elements pass the test.

**Example:**

```javascript
var array = [5, 12, 8, 130, 44];
var found = array.find(function(element) {
  return element > 10;
});
console.log(found); // 12
```

### includes

The `includes()` method determines whether an array includes a certain value among its entries, returning true or false as appropriate.

**Parameters:**

- `searchElement`: The element to search for.

**Return value:**

`true` if the array includes the element, and `false` otherwise.

**Example:**

```javascript
var array = [1, 2, 3];
console.log(array.includes(2)); // true
console.log(array.includes(4)); // false
```

---

# JavaScript Math
Provides most of the functions exposed by the [Math library](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math) in JS. 

1. **Math.floor()**:
   - Returns the largest integer less than or equal to a given number.
   ```javascript
   console.log(Math.floor(4.7));  // Output: 4
   ```

2. **Math.abs()**:
   - Returns the absolute value of a number.
   ```javascript
   console.log(Math.abs(-4.7));  // Output: 4.7
   ```

3. **Math.ceil()**:
   - Returns the smallest integer greater than or equal to a given number.
   ```javascript
   console.log(Math.ceil(4.4));  // Output: 5
   ```

4. **Math.round()**:
   - Rounds a number to the nearest integer.
   ```javascript
   console.log(Math.round(4.4));  // Output: 4
   ```

5. **Math.trunc()**:
   - Truncates the decimal part of a number, returning the integer part.
   ```javascript
   console.log(Math.trunc(4.7));  // Output: 4
   ```

6. **Math.log()**:
   - Returns the natural logarithm (base e) of a number.
   ```javascript
   console.log(Math.log(10));  // Output: 2.302585092994046
   ```

7. **Math.pow()**:
   - Returns the base to the exponent power.
   ```javascript
   console.log(Math.pow(2, 3));  // Output: 8
   ```

8. **Math.acos()**:
   - Returns the arccosine (in radians) of a number.
   ```javascript
   console.log(Math.acos(0.5));  // Output: 1.0471975511965979
   ```

9. **Math.asin()**:
   - Returns the arcsine (in radians) of a number.
   ```javascript
   console.log(Math.asin(0.5));  // Output: 0.5235987755982989
   ```

10. **Math.atan()**:
    - Returns the arctangent (in radians) of a number.
    ```javascript
    console.log(Math.atan(1));  // Output: 0.7853981633974483
    ```

11. **Math.atan2()**:
    - Returns the arctangent of the quotient of its arguments.
    ```javascript
    console.log(Math.atan2(1, 1));  // Output: 0.7853981633974483
    ```

12. **Math.cos()**:
    - Returns the cosine of a number.
    ```javascript
    console.log(Math.cos(0));  // Output: 1
    ```

13. **Math.exp()**:
    - Returns e^x, where x is the argument.
    ```javascript
    console.log(Math.exp(1));  // Output: 2.718281828459045
    ```

14. **Math.max()**:
    - Returns the largest of zero or more numbers.
    ```javascript
    console.log(Math.max(10, 20));  // Output: 20
    ```

15. **Math.min()**:
    - Returns the smallest of zero or more numbers.
    ```javascript
    console.log(Math.min(10, 20));  // Output: 10
    ```

16. **Math.sin()**:
    - Returns the sine of a number.
    ```javascript
    console.log(Math.sin(0));  // Output: 0
    ```

17. **Math.sqrt()**:
    - Returns the square root of a number.
    ```javascript
    console.log(Math.sqrt(9));  // Output: 3
    ```

18. **Math.tan()**:
    - Returns the tangent of a number.
    ```javascript
    console.log(Math.tan(0));  // Output: 0
    ```

19. **Math.random()**:
    - Returns a random number between 0 and 1.
    ```javascript
    console.log(Math.random());  // Output: a random number between 0 and 1
    ```

Each of these functions can be called using the `Math` object followed by the function name and the necessary arguments enclosed in parentheses.

---

# Number Functions

This document covers JavaScript Number functions available in Ensemble with examples. Each function is briefly explained and followed by an example demonstrating its usage.

### toFixed

The `toFixed()` method in JavaScript is used to format a number using fixed-point notation. It takes one argument, which is the number of digits to appear after the decimal point. The method returns a string representation of the number with the specified number of decimal places.

**Syntax:**

```javascript
numObj.toFixed(digits);
```

**Parameters:**

- `digits`: An integer specifying the number of digits to appear after the decimal point. This is required unlike in js where it is optional. 

**Example:**

```javascript
var num = 123.456;
var fixedNum = num.toFixed(2);

console.log(fixedNum); // Output: "123.46"
```

In this example, the `toFixed()` method is called on the `num` variable with the argument `2`. This means that the number will be formatted with two decimal places. The result is the string `"123.46"`.

---

### toString

The `toString()` method in JavaScript is used to convert a number to a string. It can also be used to represent the number in a different base (radix) by providing an optional argument.

**Syntax:**

```javascript
numObj.toString([radix]);
```

**Parameters:**

- `radix` (Optional): An integer between 2 and 36 that represents the base to use for representing numeric values. The default value is 10.

**Example:**

```javascript
var num = 42;
var numStr = num.toString();
var numStrInBase16 = num.toString(16);

console.log(numStr); // Output: "42"
console.log(numStrInBase16); // Output: "2a"
```

In this example, the `toString()` method is called on the `num` variable without any arguments, which means that the number will be converted to a string in base 10 (decimal). The result is the string `"42"`.

The `toString()` method is then called again on the `num` variable, but this time with the argument `16`. This means that the number will be converted to a string in base 16 (hexadecimal). The result is the string `"2a"`.

---

# String Functions

This document covers JavaScript String functions available in Ensemble with examples. Each function is briefly explained and followed by an example demonstrating its usage.

- [Code:String in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/bf9e503e-286b-437a-a692-14d0d5814918) has examples for using the String functions. Copy it into your own app and play around.
- Let us know on our [Discord server](https://discord.gg/k4CJeuRc) if you need any of other capabilities
- or open a [ticket](https://github.com/EnsembleUI/ensemble/issues)

### length

The `length` property returns the length of the string

**Example:**

```javascript
var str = "Hello";
var len = str.length;
console.log(len); // 5
```

### indexOf

The `indexOf()` method returns the index of the first occurrence of the specified value in a string.

**Example:**

```javascript
var str = "Hello, world!";
var index = str.indexOf("world");
console.log(index); // 7
```

### lastIndexOf

The `lastIndexOf()` method returns the index of the last occurrence of the specified value in a string.

**Example:**

```javascript
var str = "Hello, world! world!";
var index = str.lastIndexOf("world");
console.log(index); // 14
```

### charAt

The `charAt()` method returns the character at the specified index in a string.

**Example:**

```javascript
var str = "Hello, world!";
var char = str.charAt(7);
console.log(char); // 'w'
```

### endsWith

The `endsWith()` method determines whether a string ends with the characters of a specified string.

**Example:**

```javascript
var str = "Hello, world!";
var result = str.endsWith("world!");
console.log(result); // true
```

### includes

The `includes()` method determines whether a string contains the characters of a specified string.

**Example:**

```javascript
var str = "Hello, world!";
var result = str.includes("world");
console.log(result); // true
```

### toLowerCase

The `toLowerCase()` method returns the calling string value converted to lowercase.

**Example:**

```javascript
var str = "Hello, World!";
var lowerCaseStr = str.toLowerCase();
console.log(lowerCaseStr); // "hello, world!"
```

### toUpperCase

The `toUpperCase()` method returns the calling string value converted to uppercase.

**Example:**

```javascript
var str = "Hello, World!";
var upperCaseStr = str.toUpperCase();
console.log(upperCaseStr); // "HELLO, WORLD!"
```
### trim
The trim() method removes whitespace from both ends of a string.

```js
var str = "   Hello, world!   ";
var result = str.trim();
console.log(result); // "Hello, world!"
```
### trimStart
The trimStart() method removes whitespace from the beginning of a string.

```js
var str = "   Hello, world!";
var result = str.trimStart();
console.log(result); // "Hello, world!"
```
### trimEnd
The trimEnd() method removes whitespace from the end of a string.

```js
var str = "Hello, world!   ";
var result = str.trimEnd();
console.log(result); // "Hello, world!"
```
### repeat
The `repeat()` method constructs and returns a new string which contains the specified number of copies of the string on which it was called, concatenated together.

```js
var str = "Hello ";
var result = str.repeat(3);
console.log(result); // "Hello Hello Hello "
```

### search
The `search()` method executes a search for a match between a regular expression and this String object.

```js
var str = "Hello, world!";
var result = str.search(/world/);
console.log(result); // 7
```

### slice
The `slice()` method extracts a section of a string and returns it as a new string, without modifying the original string.

```js
var str = "Hello, world!";
var result = str.slice(7, 12);
console.log(result); // "world"
```

### substr
The `substr()` method returns a portion of the string, starting at the specified index and extending for a given number of characters afterward.

```js
var str = "Hello, world!";
var result = str.substr(7, 5);
console.log(result); // "world"
```

### match

The `match()` method retrieves the result of matching a string against a regular expression and returns null in case there is no match.

***Note:*** You can specify the regex flags such as i, g, m, s and u. When `g` (global) is specified, the operation will be executed on the whole string. See the following example. 

**Example:**

```javascript
var str = "Hello, world! world!";
var regex = /world/;
var result = str.match(regex);
console.log(result); // "world"

regex = /world/g; //`g` flag has been specified
var result = str.match(regex); //due to the `g` flag, this is the same as String.matchAll
console.log(matches[0]); // "world"
console.log(matches[1]); // "world"
```

### matchAll

The `matchAll()` method returns an array of all the matched strings or an empty array in case there is no match.

**Example:**

```javascript
var str = "Hello, world! world!";
var regex = /world/;
var matches = str.matchAll(regex);//same as specifying the `g` flag in the regex
console.log(matches[0]); // "world"
console.log(matches[1]); // "world"
```

### padStart

The `padStart()` method pads the current string with another string (multiple times, if needed) on the left until the resulting string reaches the given length.

- If width is already smaller than or equal to `this.length`, no padding is added. A negative `width` is treated as zero.
- The second argument (string to be padded with) is optional. When not specified, space is used for padding
- If padding has length different from 1, the result will not have length width. This may be useful for cases where the padding is a longer string representing a single character, like "&nbsp;" or "\u{10002}". In that case, the user should make sure that this.length is the correct measure of the string's length.

**Example:**

```javascript
var str = "world";
var paddedStr = str.padStart(6, "Hello");
console.log(paddedStr); // "Helloworld"
paddedStr = str.padStart(10, "Hello");
console.log(paddedStr); // "HelloHelloHelloHelloHelloworld"
paddedStr = str.padStart(8, "<");
console.log(paddedStr); // "<<<world"
```

### padEnd

The `padEnd()` method pads the current string with another string (multiple times, if needed) on the right until the resulting string reaches the given length.

- If width is already smaller than or equal to `this.length`, no padding is added. A negative `width` is treated as zero.
- The second argument (string to be padded with) is optional. When not specified, space is used for padding
- If padding has length different from 1, the result will not have length width. This may be useful for cases where the padding is a longer string representing a single character, like "&nbsp;" or "\u{10002}". In that case, the user should make sure that this.length is the correct measure of the string's length.

**Example:**

```javascript
var str = "world";
var paddedStr = str.padEnd(6, "Hello");
console.log(paddedStr); // "worldHello"
paddedStr = str.padEnd(10, "Hello");
console.log(paddedStr); // "worldHelloHelloHelloHelloHello"
paddedStr = str.padEnd(8, "<");
console.log(paddedStr); // "world<<<"
```

### replace

The `replace()` function replaces the first occurrence of a specified substring or regular expression with a new substring. It returns a new string with the replaced content while leaving the original string unchanged.

***Note:*** You can specify the regex flags such as i, g, m, s and u. When `g` (global) is specified, the operation will be executed on the whole string. See the following example. 

**Syntax:**
```javascript
replace(pattern, replacement);
```
**Example:**

```javascript
var p = 'The quick brown fox jumps over the lazy dog. If the dog reacted, was it really lazy?';

console.log(p.replace('dog', 'monkey'));
// Expected output: "The quick brown fox jumps over the lazy monkey. If the dog reacted, was it really lazy?"

var regex = /Dog/i;
console.log(p.replace(regex, 'ferret'));
// Expected output: "The quick brown fox jumps over the lazy ferret. If the dog reacted, was it really lazy?"

var regex = /Dog/ig; //global flag has been specified, all occurances of dog will be replaced even though it is a replace function and not a replaceAll
console.log(p.replace(regex, 'ferret'));
// Expected output: "The quick brown fox jumps over the lazy ferret. If the ferret reacted, was it really lazy?"
```

### replaceAll

The `replaceAll()` method of String values returns a new string with all matches of a pattern replaced by a replacement. The pattern can be a string or a RegExp, and the replacement can be a string or a function to be called for each match. The original string is left unchanged.

**Syntax:**
```javascript
replaceAll(pattern, replacement)
```
**Example:**

```javascript
const p = 'The quick brown fox jumps over the lazy dog. If the dog reacted, was it really lazy?';

console.log(p.replaceAll('dog', 'monkey'));
// Expected output: "The quick brown fox jumps over the lazy monkey. If the monkey reacted, was it really lazy?"

// Global flag required when calling replaceAll with regex
const regex = /Dog/gi;
console.log(p.replaceAll(regex, 'ferret'));
// Expected output: "The quick brown fox jumps over the lazy ferret. If the ferret reacted, was it really lazy?"
```

### split

The `split()` method divides a string into an ordered list of substrings, puts these substrings into an array, and returns the array.

**Example:**

```javascript
var str = "Hello, world!";
var arr = str.split(", ");
console.log(arr); // ["Hello", "world!"]
```

### startsWith

The `startsWith()` method determines whether a string begins with the characters of a specified string.

**Example:**

```javascript
var str = "Hello, world!";
var result = str.startsWith("Hello");
console.log(result); // true
```

### substring

The `substring()` method returns the part of the string between the start and end indexes, or to the end of the string.

**Example:**

```javascript
var str = "Hello, world!";
var substr = str.substring(7, 12);
console.log(substr); // "world"
```
### btoa

The `btoa()` method creates a base-64 encoded ASCII string from a string of binary data.

**Example:**

```javascript
var str = "Hello, world!";
var base64 = btoa(str);
console.log(base64); // "SGVsbG8sIHdvcmxkIQ=="
```

### atob

The `atob()` method decodes a base-64 encoded string, returning the original binary data.

**Example:**

```javascript
var base64 = "SGVsbG8sIHdvcmxkIQ==";
var decodedStr = atob(base64);
console.log(decodedStr); // "Hello, world!"
```

### tryParseInt

The `tryParseInt()` method parses as string as `int` and returns null if it is not an integer. `parseInt()' throws an error when the passed in argument cannot be parsed as an integer

**Example:**

```javascript
var str = "123";
var i = str.tryParseInt(); // 123
str = "xyz";
i = tryParseInt(); // null
```

### tryParseDouble

The `tryParseDouble()` method parses as string as `double` and returns null if it is not a double. `parseDouble()' throws an error when the passed in argument cannot be parsed as a double

**Example:**

```javascript
var str = "123.05";
var i = str.tryParseDouble(); // 123.05
str = "xyz";
i = tryParseDouble(); // null
```

### Concatenate a string in an inline expression

We can concatenate strings with variables or other strings simply by wrapping them in single quotes if the inner strings are wrapped in double quotes or vise versa. This example is specifically for inline expressions used in ensembleUI.

**Example**

```yaml
Column:
  children:
    - Text:
        id: helloId
        text: Apple
    - Text:
        text: '${helloId.text + "It's me SwiftUI"}'     # correct way
    - Text:
        text: ${helloId.text} + It's me SwiftUI New     # wrong way
    - Text:
        text: Apple + It's me SwiftUI New 2

```

---

# AppInfo object

Get metadata (information) about your app from Ensemble and from Appstore/Google Play. Does not apply to webapps. 

- appId - Ensemble AppId (ex: GJ4nZIEFlZTv2HQGw)
- appName - App name from Appstore/Google Play
- packageName - Android package name or iOS bundleId
- version - app's version from Appstore/Google Play
- bundleNumber - app's Build Number from Appstore/Google Play
- theme - The app's current theme
- themes - List of all configured themes

See the [themes docs](/theme-and-styling/theme) for more details.

```yaml
View:
  styles:
    scrollableView: true
  header:
    title: AppInfo
  body:
    Column:
      styles:
        gap: 16
        padding: 24
      children:
        - Text:
            text: "${appInfo.appId}"
        - Text:
            text: "${appInfo.appName}"
        - Text:
            text: "${appInfo.packageName}"
        - Text:
            text: "${appInfo.version}"
        - Text:
            text: "${appInfo.buildNumber}"
```

---

# Getting help from Ensemble team

Ran into an issue or not sure how to build part of your app? Ask us on Discord.

## Join us on Discord

[Join our server](https://dsc.gg/ensembleui).

## Post your question

Add your question [Builder Support channel](https://discord.com/channels/1031982848485359626/1088664937288699992).

Make sure to provide us with details. If you have an existing screen, share a link to your screen in Ensemble Studio. To allow others to access it, make your app public. You can undo this after your issue is resolved.


![Make app public](/public/images/make-app-public.jpg)

---

# Custom BottomNavBar item styling

Beside the default styling for the Bottom Navbar items you can style them according to your needs and desire. Ensemble allows user to style items based on many features concept inherited from the CSS and Flutter technologies such as active, non-active states styling etc. Let us move to the code directly and see how it works practically.

- [Icon Without Label](/tips-and-tricks/icon-with-label)
- [Profile Picture as Item](/tips-and-tricks/profile-picture-item)

---

# Building responsive UIs



## In a nutshell:

1. Use `${device.width}` to modify properties according to device width
2. Use the [GridView widget's](/widgets/gridview) built-in responsive breakpoints
3. Use the [Flow widget](/widgets/flow) to wrap content
4. Use the [Flex widget](/widgets/flex) to toggle between horizontal and vertical layouts
5. Avoid setting explicit width and height, specially for container widgets (Rows, Columns, GridView, etc.)


## 1. Modify properties based on device width

You can get the device width and height and modify properties conditionally. In the below example, the column's gap is set to 16 when device width is more than 480, otherwise it is set to 8.

```yaml
Column:
    styles:
        gap: "${ device.width > 480 ? 16 : 8 }"
```


## 2. GridView's built-in breakpoints

[GridView widget](/widgets/gridview) includes built-in responsive breakpoints. 

You can pass 1, 3, or 5 values to `horizontalTileCount` property to make the grid responsive based on predefined set of breakpoints.

| Breakpoint | Width |  
| --- | --- |
| xSmall | width <= 480 |
| Small  |  width > 480 && width <= 800 |
| Medium |  width > 800 && width <= 1200 |
| Large  |  width > 1200 && width <= 1600 |
| XLarge |  width > 1600 |

GridView's horizontalTileCount can be:

- 1 number - number of tiles for all breakpoints
- 3 numbers
    * first number corresponds to xSmall and Small,
    * second number corresponds to Medium
    * last numner corresponds to xLarge and Large
- 5 numbers, corresponding to each breakpoint

When not specified, the horizontal tile count is automatic based on resolution.

---

In this example, depending on the available width, there will be 3 to 5 items per row.

```yaml
GridView:
  styles:
    horizontalTileCount: 3 4 5

# Full example here:
# https://studio.ensembleui.com/app/nWsD5baeykm3W772kkSw/screen/WS6fad3K96prUBXM4Hde
```

![Flex](/public/images/responsive-grid.png)

## 3. Wrap content with Flow widget

[Flow widget](/widgets/flow) displays its children horizontally and wraps the children when it runs out of horizontal space.

```yaml
Flow:
  styles:
    gap: 16
    lineGap: 16
  children:
    - MyItem

# Full example here:
# https://studio.ensembleui.com/app/nWsD5baeykm3W772kkSw/screen/YbsqXNaXL5kpxKavlGKQ    
```

![Flow](/public/images/responsive-flow.png)

## 4. Toggle between horizontal and vertical layouts with Flex widget

[Flex widget](/widgets/flex) dynamically switches between a Row or a Column based on the `direction` property.

```yaml
Flex:
  styles:
    direction: '${device.width > 500 ? "horizontal" : "vertical"}'

# Full example here:
# https://studio.ensembleui.com/app/nWsD5baeykm3W772kkSw/screen/jLdWFkmrfgkhuaON568d

```

![Flex](/public/images/responsive-flex.png)

---

# Use device's camera for updating profile picture

This guide shows the typical interaction for updating a user's profile picture in a native app, where user can take a photo or pick an existing image from device's gallery. To see the full example in Ensemble Studio, [click here](https://studio.ensembleui.com/app/nWsD5baeykm3W772kkSw/screen/P2v4AOS8w3DXfUauqi0Q).

Here's the experience we'll work toward:

<div style="position: relative; height: 640px; width: 280px"><iframe src="https://demo.arcade.software/YDZArv16EF5lLUvVjTeb?embed" title="Arcade Flow (Wed Jan 03 2024)" frameborder="0" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;color-scheme: light;"></iframe>

## 1. Display user image with an icon

First, call the API that return's user image and pass the value to the Avatar widget. Using styles properties, we can display the avatar as a circle with a border.

```yaml
View:
  onLoad:
    invokeAPI:
      name: getUser

  body:
    Column:
      styles:
        mainAxis: center
      children:
        - Avatar:
            source: ${getUser.body.results[0].picture.large}
            styles:
              height: 100
              width: 100
              borderRadius: 100
              borderColor: blue
              borderWidth: 2
              margin: 2

API:
  getUser:
    uri: https://randomuser.me/api/?nat=us&randomapi
    method: GET
```


To display an icon on top of the avatar, we use a the Stack widget and pass these children, in this order:

1. Avatar
2. Icon

The Stack widget renders each child on top of the previous one. By setting `styles.alignChildren` to `bottomRight`, we can achive the following:

<img src="public/images/profile-photo-1.png">


```yaml
        - Stack:
            styles:
              alignChildren: bottomRight
            children:
              - Avatar:
                  source: ${getUser.body.results[0].picture.large}
                  styles:
                    height: 100
                    width: 100
                    borderRadius: 100
                    borderColor: blue
                    borderWidth: 2
                    margin: 2
              - Icon:
                  name: camera_line
                  library: remix
                  styles:
                    size: 20
                    backgroundColor: white
                    color: blue
                    padding: 4
                    borderColor: blue
                    borderRadius: 200
                    borderWidth: 2
```


## 2. onTap, display a bottom sheet

When user taps the profile image, we want to display a bottom sheet with two buttons:

<div style="position: relative; height: 500px; width: 280px"><iframe src="https://demo.arcade.software/klblt8altkrLUAxoGEhi?embed" title="studio.ensembleui.com/preview/index.html?appId=nWsD5baeykm3W772kkSw&amp;screenId=P2v4AOS8w3DXfUauqi0Q&amp;showAction=false&amp;devicePreview=true&amp;instantPreview=true" frameborder="0" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;color-scheme: light;"></iframe>

To achieve the above, first wrap the Stack widget inside a Column widget so we can add an onTop to the Column. onTap, we use `showBottomModal` action to open a bottom sheet:

```yaml
View:
  onLoad:
    invokeAPI:
      name: getUser
  body:
    Column:
      styles:
        mainAxis: center
        crossAxis: stretch
      children:
        - Column:
            styles:
              crossAxis: center
            onTap:
              showBottomModal:
                widget: ProfilePhotoOptions
                options:
                  enableDrag: false
            children:
              - Stack:
                # ...
```

Note that we're passing a widget named `ProfilePhotoOptions` to be rendered inside the bottom sheet.

## 3. Add buttons to the bottom sheet

Let's define the ProfilePhotoOptions widget, which includes two buttons:

```yaml
ProfilePhotoOptions:
  body:
    Column:
      styles:
        crossAxis: stretch
        mainAxisSize: min
        gap: 24
        padding: 24 24 ${device.safeAreaBottom} 24
      children:
        - Button:
            label: Take photo
        - Button:
            label: Pick from gallery

```

Note a few styling configurations:

1. Buttons are placed inside a Column with `crossAxis: stretch`. This ensures the buttons width will stretch across the screen.
2. This Column also includes `mainAxisSize: min` to ensure the column just takes the space required by the children.
3. For padding, we use 24 on top, right, and left. For bottom padding, we use `${device.safeAreaBottom}` so that depending on the device, enough space is added to the bottom of the column.


## 4. Add action to Take Photo buttom

Here, we use the `openCamera` action with following configurations:

```yaml
        - Button:
            label: Take photo
            onTap:
              openCamera:
                id: profilePhoto
                options:
                  default: true
                  allowGalleryPicker: true
                  allowCameraRotate: true
                  allowFlashControl: true
                  enableMicrophone: false
                  preview: false
                  maxCount: 1
                  mode: photo
                onComplete:
                  # Either upload the photo, or navigate to a screen where user can crop the photo
                  # for both options, use the id of the action to access the file: ${profilePhoto.files[0].path}
                  # navigateScreen:
                  #   name: ProfileImageCropper
                  #   inputs:
                  #     newProfileImage: ${profilePhoto.files[0].path}
```

This configuration uses the device's native camera functionality, and limits it to one image.


## 5. Add action to Pick from Gallery buttom

Here, we use the `pickFiles` action with following configurations:

```yaml
        - Button:
            label: Pick from gallery
            styles:
              height: 50
            onTap:
              pickFiles:
                source: gallery
                id: filepicker
                allowMultiple: false
                allowedExtensions:
                  - png
                  - jpeg
                  - jpg
                onComplete:
                  # TODO - you can either use the selected photo, or navigate to a screen where user can crop the photo
                  # navigateScreen:
                  #   name: ProfileImageCropper
                  #   inputs:
                  #     newProfileImage: ${filepicker.files[0].path}

```

This configuration uses the device's native gallery, and limits it to one image.

----


To see the full example in Ensemble Studio, [click here](https://studio.ensembleui.com/app/nWsD5baeykm3W772kkSw/screen/P2v4AOS8w3DXfUauqi0Q).

---

# Inputs to ChartJs

The ChartJs widget in ensemble may sometime not accept variables in plain ChartJS widget so a better way to go about this is to use Code section in ensemble to define configuration for the ChartJs and there we can easily use the variables ( inputs ). In our example we will look how we use labels passed as inputs to the ChartJs custom widget and use them according to our need.


#### Custom Widget



```yaml
Widget:
  inputs:
    - spending
    - categories

  onLoad: |

    //@code
    chart.config = {
      type: 'doughnut',
      data: {
        labels: categories,
        datasets: [{
          data: [608, 590, 200, 79, 163,231,637,63],
          backgroundColor: ['#FCA06B','#C66CFC','#8145FF', '#29CB90', '#4DA9CC','#FCA034',"#8145FA","#814500"],
          hoverOffset: 2,
          borderWidth: 0
        }]
      },
      options: {
        aspectRatio: 1,
        cutout: 80 ,
        plugins: {
          legend: {
            display: false
          },
          tooltip: {
            enabled: true,
            position: "nearest"
          }
        },
        layout: {
          padding: 0
        }
      }
    };

  body:
    Column:
      styles:
        gap: 12
      children:
        - Row:
            styles: { crossAxis: center, mainAxis: center, padding: 20 0 }
            children:
              - Stack:
                  styles: { alignChildren: center }
                  children:
                    - ChartJs:
                        id: chart
                        styles: { width: 200, height: 200 }

                    - Column:
                        styles: { crossAxis: center, gap: 0, mainAxis: center }
                        children:
                          - Text:
                              text: Last 30 days
                              styles:
                                textStyle:
                                  color: 0xFF667483
                                  fontSize: 10
                          - Text:
                              text: "$${spending}"
                              styles:
                                textStyle:
                                  color: 0xFF063940
                                  fontSize: 28
                                textAlign: end
```

#### Screen Code


```yaml
Spendings:
  inputs:
  spending: ${ensemble.storage.spendingLastDays.toFixed(2)}
  categories: ${ensemble.storage.categories}
```


**Output**

![Alt text](/public/images/tips/image-8.png)


#### Explanation

The _categories_ and _spending_ are our inputs passed to this Custom Widget from one of our screens. Categories is an array consisting of string values. This input array is used as a value for **labels** property in the CharJs configuration if you paid close attention to the code for [Custom Widget](#custom-widget). This is how we can pass inputs to ChartJs and make it dynamic.

---

# How to modify the BottomNavBar with custom styling and widgets

#### Steps

1. Make a custom widget one for selected state and one for inactive state ( Not selected ).



```yaml
Widget:
  inputs:
    - name
    - icon
    - color
    - library
  body:
    Column:
      styles:
        mainAxis: spaceBetween
        crossAxis: center
        height: 50
      children:
        - Icon:
            icon: ${icon}
            library: ${library}
            styles:
              color: ${color}
        - Text:
            text: ${name}
            styles:
              fontSize: 12
              color: ${color}
```



2.  similarly for active navigation item . Use these widgets under widget for each item of the BottomNavBar as given.



```yaml
menu:
  BottomNavBar:
    styles:
      backgroundColor: white
    items:
      - page: Grocery
        customItem:
          widget:
            CustomNavbarItem:
              inputs:
                name: Home
                icon: home
                color: 0xFF999999
                library: fontAwesome
          selectedWidget:
            CustomActiveNavbarItem:
              inputs:
                name: Home
                icon: home
                color: 0xFF4CA771
                library: fontAwesome
      - page: Grocery
        customItem:
          widget:
            CustomNavbarItem:
              inputs:
                name: Order
                icon: shoppingBag
                color: 0xFF999999
                library: fontAwesome
          selectedWidget:
            CustomActiveNavbarItem:
              inputs:
                name: Order
                icon: shoppingBag
                color: 0xFF4CA771
                library: fontAwesome
      - page: Grocery
        customItem:
          widget:
            CustomNavbarItem:
              inputs:
                name: Favourite
                icon: heart
                color: 0xFF999999
                library: fontAwesome
          selectedWidget:
            CustomActiveNavbarItem:
              inputs:
                name: Favourite
                icon: solidHeart
                color: 0xFF4CA771
                library: fontAwesome
        selected: true
      - page: Grocery
        customItem:
          widget:
            CustomNavbarItem:
              inputs:
                name: Cart
                icon: shoppingCart
                color: 0xFF999999
                library: fontAwesome
          selectedWidget:
            CustomActiveNavbarItem:
              inputs:
                name: Cart
                icon: shoppingCart
                color: 0xFF4CA771
                library: fontAwesome
```


---

# Open Maps with Coordinates on Android and iOS

This guide explains how to open map applications with specific coordinates on Android and iOS devices. The examples demonstrate how to launch Google Maps or Apple Maps, depending on the platform, and also include the ability to use dynamic coordinates input.

[Test in Kitchen Sink](https://studio.ensembleui.com/app/e24402cb-75e2-404c-866c-29e6c3dd7992/screen/wCU2q0PQnNxmXqN4WyCV)

## Implementation Overview

The feature allows users to open their default map application (Google Maps or Apple Maps) with specific coordinates by clicking an icon. Depending on the user's device (Android, iOS, or Web), the appropriate map service will be launched. Additionally, users can enter dynamic coordinates to open any location.

### Examples

### Example 1: Open Google Maps with Static Coordinates

This example demonstrates how to open a specific location in Google Maps using a simple icon click.

**Sample Coordinates:**  
- Latitude: `38.7946`
- Longitude: `106.5348`

#### UI Layout:

```yaml
View:
  body:
    Column:
      styles:
        padding: 24
        gap: 8
      children:
          - Text: Click on the icon to open location on Google Maps
          - Row:
              styles:
                gap: 8
                crossAxis: center
              children:
                - Text:
                    text: "Sample Location: 38.7946,106.5348"
                    styles:
                      textStyle:
                        fontSize: 14
                - Icon:
                    name: locationArrow
                    library: fontAwesome
                    color: blue
                    size: 18
                    onTap:
                      openUrl:
                        url: https://www.google.com/maps/?q=38.7946,106.5348(Ensemble+Technologies)
```

#### Action Output Screenshot:

<div style="display: flex; flex-direction: column; align-items: center; margin-top: 10px;">
<img src="public/images/tips/google_map.jpg" style="text-align: center;" alt="Output Screenshot" width="250"/>
  <p>Clicking the icon will open Google Maps with the provided coordinates and label.</p>
</div>



### Example 2: Open Apple Maps with Static Coordinates

This example demonstrates how to open a specific location in Apple Maps.

#### UI Layout:

```yaml
View:
  body:
    Column:
      styles:
        padding: 24
        gap: 8
      children:
         - Text: Click on the icon to open location on Apple Maps
         - Row:
            styles:
              gap: 8
              crossAxis: center
            children:
              - Text:
                  text: "Sample Location: 38.7946,106.5348"
                  styles:
                    textStyle:
                      fontSize: 14
                      fontWeight: w300
              - Icon:
                  name: locationArrow
                  library: fontAwesome
                  color: blue
                  size: 18
                  onTap:
                    openUrl:
                      url: https://maps.apple.com/?ll=38.7946,106.5348&q=Ensemble+Technologies
```
#### Action Output Screenshot:

<div style="display: flex; flex-direction: column; align-items: center; margin-top: 10px;">
  <img src="public/images/tips/apple_maps.png" style="text-align: center;" alt="Output Screenshot" width="250"/>
  <p>Clicking the icon will open Apple Maps with the provided coordinates and label.</p>
</div>


### Example 3: Open Map Application Based on Device

This example shows how to conditionally open the map application based on the user's device (Android, iOS, or Web).

#### UI Layout:

```yaml
View:
  body:
    Column:
      styles:
        padding: 24
        gap: 8
      children:
         -  Text: Click on the icon to open location based on device. (Apple Maps on iPhone, Google Maps on Android)
         -  Row:
              styles:
                gap: 8
                crossAxis: center
              children:
                - Text:
                    text: "Sample Location: 38.7946,106.5348"
                    styles:
                      textStyle:
                        fontSize: 14
                        fontWeight: w300
                - Icon:
                    name: locationArrow
                    library: fontAwesome
                    color: blue
                    size: 18
                    onTap:
                      executeConditionalAction:
                        conditions:
                          - if: ${device.platform == "ios"}
                            action:
                              openUrl:
                                url: https://maps.apple.com/?ll=38.7946,106.5348&q=Ensemble+Technologies
                          - elseif: ${device.platform == 'android'}
                            action:
                              openUrl:
                                url: https://www.google.com/maps/?q=38.7946,106.5348(Ensemble+Technologies)
                          - elseif: ${device.platform == 'web'}
                            action:
                              openUrl:
                                url: https://www.google.com/maps/?q=38.7946,106.5348(Ensemble+Technologies)
```
#### Action Output Screenshot:
<div style="display: flex; align-items: center; justify-content: center; margin-top: 10px; gap: 20px ">
    <div style="display: flex; flex-direction: column; align-items: center;">
      <img src="public/images/tips/dynamic_google_map.jpg" style="text-align: center;" alt="Output Screenshot" width="250"/>
      <p>Output on Android</p>
    </div>
    <div style="display: flex; flex-direction: column; align-items: center;">
      <img src="public/images/tips/dynamic_apple_map.png" style="text-align: center;" alt="Output Screenshot" width="250"/>
      <p>Output on Iphone</p>
    </div>
</div>

### Example 4: Dynamic Coordinates Input

In this example, users can input their own coordinates and label, which will dynamically open the respective map application based on the user's device.

#### UI Layout:

```yaml
View:
  body:
    Column:
      styles:
        padding: 24
        gap: 8
      children:
         -  TextInput:
              label: Enter comma-separated Latitude and Longitude
              id: mapsCoordinates
         -  TextInput:
              label: Enter Label
              id: mapslabel
         -  Text: Click on the icon to open location based on device. (Apple Maps on iPhone, Google Maps on Android)
         -  Row:
              styles:
                gap: 8
                crossAxis: center
              children:
                - Text:
                    text: "Sample Location: 38.7946,106.5348"
                    styles:
                      textStyle:
                        fontSize: 14
                        fontWeight: w300
                - Icon:
                    name: locationArrow
                    library: fontAwesome
                    color: blue
                    size: 18
                    onTap:
                      executeConditionalAction:
                        conditions:
                          - if: ${device.platform == "ios"}
                            action:
                              openUrl:
                                url: https://maps.apple.com/?ll=${mapsCoordinates.value}&q=${mapslabel.value}
                          - elseif: ${device.platform == 'android'}
                            action:
                              openUrl:
                                url: https://www.google.com/maps/?q=${mapsCoordinates.value}(${mapslabel.value})
                          - elseif: ${device.platform == 'web'}
                            action:
                              openUrl:
                                url: https://www.google.com/maps/?q=${mapsCoordinates.value}(${mapslabel.value})
```

---

# Using navigate Screen with BottomNavBar

We can use [navigateScreen](/actions/navigate-screen) for combining functionality of [BottomNavBar](/screens-and-widgets/screen-structure#bottomnavbar) together with it for daily tasks like beside using BottomNavBar items to navigate across different screens, we can also make use of [navigateScreen](/actions/navigate-screen) here to navigate across screen keeping the bottomNavBAr in place as well. Let us look at an example to make better sense of it.

**Example**

In this scenario we want to navigate to Profile screen using `Account` item in the bottomNavBar menu and also an icon in our `dashboard` screen. Given is code for different screen widgets `CustomHeader` for our screen header with an Profile Picture and [ViewGroup](/screens-and-widgets/screen-structure#view-group) with bottomNavBar.

**Explanation**

- For each item in the menu we have used an expression which evaluates `selectedIndex` every time our screen re-renders ( it renders whenever user navigates from one screen to other screen using menu items ).
- Account item have `selectedIndex` of 4 as we are sending it as input from `navigateScreen` action in the `dashboard` screen's `CustomHeader` widget.
- So when we click on Profile Picture in the header for dashboard screen the bottomNavbar re-renders updating selectedIndex value which evaluates true for only `Account` item and thus we move to profile screen using both `Account` Item and the `Profile Picture`

**Code**

```yaml
CustomHeader:
  body:
    Row:
      styles:
        mainAxis: spaceBetween
        crossAxis: center
        backgroundColor: 0xff04010d
      children:
        - Markdown:
            styles:
              textStyle:
                fontSize: 16
                color: white
            text: Your Goals
        - Image:
            styles:
              width: 40
              height: 40
              borderRadius: 40
              placeholderColor: transparent
            source: ${auth.user.photo}
            onTap:
              navigateScreen:
                name: App
                inputs:
                  selectedIndex: 4
```

ViewGroup with BottomNavBar

```yaml
ViewGroup:
  BottomNavBar:
    styles:
      backgroundColor: 0xEE000000
      floatingBackgroundColor: black
      floatingIconColor: yellow
      notchColor: black
      selectedColor: 0xFF34CAF7
      color: 0xFF999999

    items:
      - label: Home
        icon:
          name: bar_chart_2_line
          library: remix
        page: Home

      - label: Learn
        icon:
          name: movie_line
          library: remix
        page: Insights

      - label: Advisors
        icon:
          name: customer_service_2_line
          library: remix
        page: Advisors

      - label: Account
        icon:
          name: account_circle_line
          library: remix
        page: Account
        selected: "${selectedIndex == 4 ? true : false}"

      - icon:
          name: flashlight_fill
          library: remix
        floating: true
        floatingAlignment: center
        floatingMargin: 0
        onTap:
          navigateScreen:
            name: ChatPage
            inputs:
              threadId: 0
              userId: "${ensemble.storage.userAccount != null ? ensemble.storage.userAccount.id : ''}"
```

![Alt text](/public/images/tips/image-9.png)

![Alt text](/public/images/tips/image-10.png)

---

# Dynamic Color Modification in JavaScript

**Objective**

To dynamically change the color of a Text widget based on a JavaScript variable. The goal is to customize the color property of the Text widget's style.

To achieve this, consider the following steps:

1. Access Text Widget:
    Obtain a reference to the Text widget that you want to modify. In the provided example, it can be accessed using the identifier (id).
    ```yaml
    - Text:
        text: Hi there!
        styles:
            textStyle:
            fontSize: 24
            color: blue
        id: helloUser
    ```

2. Modify Color Property:
    Directly modify the color property of the Text widget's style using the assigned identifier.
    ```javascript
    helloUser.color = 'red';
    ```

---

# Configuring BottomNavBar Icons

**Objective**
To add a heart icon to a BottomNavBar item, ensuring correct rendering. If using a default icon, no additional library specification is needed; however, for non-default icons like Font Awesome, it's crucial to specify the library.

To achieve this, consider the following steps:

1. Default Icons:
    If using default icons (e.g., "home," "search," "shopping_cart"), no library specification is required. Simply provide the icon name.
    ```yaml
    BottomNavBar:
      styles:
      backgroundColor: 0xFF1F2128
      items:
        - label: Home
          icon: search 
          screen: Home
    ```

2. fontAwesome Icons:
    For non-default icons, particularly those from Font Awesome, ensure to specify the library using the iconLibrary attribute. 
    ```yaml
    BottomNavBar:
      styles:
      backgroundColor: 0xFF1F2128
      items:
        - label: Favourite
          icon: heart
          screen: Home
          iconLibrary: fontAwesome
    ```

3. Active Icons:
    If an active state icon is needed (e.g., a different icon when the item is selected), use the activeIcon attribute. 

---

# Invoke Haptics

We can use the invokeHaptic action to provide haptic feedback in your app. This feature enhances the user experience by providing tactile responses for different interactions.

The invokeHaptic action is utilized to trigger haptic feedback, and it supports various types such as heavyImpact, mediumImpact, lightImpact, and vibrate.
Buttons are used to demonstrate different haptic types, and the last button showcases using JavaScript code to invoke the lightImpact haptic.

Please note that haptics will only work on native apps.

invokeHaptic action is utilized to trigger haptic feedback, and it supports various types.
- Button:
    label: Heavy Impact
    onTap:
        invokeHaptic:
        type: heavyImpact

Additionally "Vibrate" button demonstrates chaining actions by using the onComplete property to execute additional JavaScript code after the haptic feedback is played.
- Button:
    label: Vibrate (Using onComplete action to chain)
    onTap:
        invokeHaptic:
        type: vibrate
        onComplete:
            executeCode:
            body: |
                //@code
                console.log("Vibrate Haptic played")

Furthermore, the onTapHaptic property is used for the "Selection Click" button, demonstrating an alternative way to trigger haptic feedback.
- Button:
    label: Selection Click (Using onTapHaptic property)
    onTapHaptic: selectionClick
    onTap:
        executeCode:
        body: |
            //@code
            console.log("Button Pressed")

---

# Custom Lottie Animations with Events and Controls

With features like onStart, onPause, onComplete, and control buttons, you can create interactive animations tailored to your application.

The Lottie animations have events such as onForward, onReverse, onPause, and onComplete. Control buttons are provided to trigger these events dynamically.
- Lottie:
    id: MyLottie
    autoPlay: false
    repeat: false
    onForward: |
        //@code
        console.log("Forward");
    onReverse: |
        //@code
        console.log("Reverse");
    onPause: |
        //@code
        console.log("Pause");
    onComplete: |
        //@code
        console.log("Completed");
       source: https://assets6.lottiefiles.com/private_files/lf30_rnpgzd17.json
          styles:
            width: 400
            height: 200

- Button:
    styles:
        outline: true
        borderColor: 0xffed5742
        borderRadius: 20
        backgroundColor: 0xffaad6de
        labelStyle:
            color: 0xffed5742
    label: Forward
    onTap: |
    //@code
    console.log("Forward");
    MyLottie.forward();

---

# HTML Widget with maxLines Support and Enhanced Styling

The HTML widget allows you to apply CSS-like styles to specific elements within the HTML content. Customize text color, font size, and font weight effortlessly using both CSS tags and the box wrapper, providing increased styling flexibility. 

The <div> with an id of "hello" and the <p> with an id of "tag2" are styled with various properties such as border, borderRadius, padding, color, fontWeight, backgroundColor, maxLines, and textOverflow.

- Html:
    id: myHtml
    cssStyles:
        - selector: "#hello"
        properties:
            border: 10px solid red
            borderRadius: 10px
            padding: 20px
        - selector: "#tag2"
        properties:
            color: white
            fontWeight: "900"
            backgroundColor: red
            maxLines: 2
            textOverflow: ellipsis
    text: |
        <div id="hello">
        <p id="tag2">Until recently, the prevailing view assumed lorem ipsum was born as a nonsense text. “It's not Latin, though it looks like it, and it actually says nothing,” Before & After magazine answered a curious reader, “Its ‘words’ loosely approximate the frequency with which letters occur in English, which is why at a glance it looks pretty real.”</p>

        As Cicero would put it, “Um, not so fast.”

        The placeholder text, beginning with the line “Lorem ipsum dolor sit amet, consectetur adipiscing elit”, looks like Latin because in its youth, centuries ago, it was Latin.

        Richard McClintock, a Latin scholar from Hampden-Sydney College, is credited with discovering the source behind the ubiquitous filler text. In seeing a sample of lorem ipsum, his interest was piqued by consectetur—a genuine, albeit rare, Latin word. Consulting a Latin dictionary led McClintock to a passage from De Finibus Bonorum et Malorum (“On the Extremes of Good and Evil”), a first-century B.C. text from the Roman philosopher Cicero.
        

---

# Push Notification

## Setup
This guide will walk you through setting up iOS/Android push notifications for your Ensemble app. Before you begin, ensure your bundle ID is correct. Also ensure the `appId` under `ensemble.properties` has the same bundle ID.

#### iOS Setup
An Apple developer account is required to setup push notification and deploy the app. Each account requires a single APNs certificate for push notifications that work across all your Apps. If you don't already have one, go to https://developer.apple.com/account/resources/authkeys/list.
- Create a new Key and select "Apple Push Notification service (APNs)".
- Download the key and save it in a secure location (you can only download it once). You will need this key to upload to Firebase.

#### Setup Firebase
- Create a new Firebase project if not already created. Go to Project Settings.
  - Under "General" tab, add an iOS or Android app, then download the `GoogleService-Info.plist` or `google-services.json` respectively.
  - Under "Cloud Messaging" tab and inside "Apple app configuration", upload the APNs Authentication Key you created / downloaded earlier in your Apple developer account.
    - Use the Key ID under the APNs key you created earlier.
    - Use the Team ID from your Apple Developer account.

### Setup Ensemble
- Open `/starter/lib/generated/ensemble_modules.dart` with an Editor and change `useNotifications` to true.
- open Xcode under `/starter/ios`.
  - Under Signing & Capabilities, click on `+ Capability` button.
  - Add `Push Notifications`.
  - Add `Background Modes` and check `Remote notifications`, `Background fetch` and `Background processing`.
    - drop "GoogleService-Info.plist" in ios/Runner
- Drop the `google-services.json` in `android/app` folder.

### Testing notifications
- Firebase requires a device token to send notification to. For testing purpose you can retrieve the device token by using the following app definition. Upon running this screen, it will ask the user to authorize Notifications. Once authorized, the device token will be displayed.
```yaml
View:
    onLoad:
      requestNotificationAccess:
        onAuthorized: |-
          status.value = event.data.deviceToken;
        
        # if denied, you may want to take the user to another screen, 
        # explaining why notifications are needed with an option to
        # take the user to Settings' Notification page.
        onDenied:
          navigateScreen:
            name: Enable Notifications

    # Optional - set the header for the screen
    header:
      title: What's my device token

    # Specify the body of the screen
    body:
      Column:
        styles:
          padding: 24
          gap: 8
        children:
          - TextInput:
              id: status
```
- To send a test notification from Firebase, Go to "Messaging" and create your first campaign.
  - Select `Firebase Notification messages`.
  - Enter a notification text and click "Send test message".
  - Enter the device token above and click "Test".
  - You should be receiving a push notification

### Update when token changes
- Firebase can occasionally assign a new device token. When that happens, Ensemble automatically save a copy of the latest token, accessible via `ensemble.device.deviceToken`.

- To update your server with the latest token, you can usually add the logic inside your home screen (where the user has been authenticated). Below is a example:
```yaml
## Home screen:
View:
  onLoad:
    invokeAPI:
      name: updateDeviceToken
    
API:
  updateDeviceToken:
    url: <my server>
    headers:
      Authorization: Bearer <my_bearer_token>
    body:
      newToken: ${ensemble.device.deviceToken}
    

```

## Handling Notifications
Ensemble provides multiple ways to handle notifications to suit your use cases.
1. **[Notification Handler](#creating-a-script-and-handler-function)**: Define a notification handler (see below) in JavaScript to be executed on every notification received. You can run logic then return a payload to navigate to a screen.
2. **[Navigating to a Screen](#navigating-to-a-screen)**: If a handler is not specified but you want to navigate to a screen upon the user tapping on the notification, simply provide either the screenId or screenName in the notification payload.
3. If neither of the above is specified, the app will simply open up the app (if it is currently not on the foreground).

#### Creating a Script and Handler Function
Navigate to or create a script in the Scripts section. For example, you might have a script called Common.
In the script, create a function that will be called whenever a notification is received. For example:
```js
function handle_notification(notification) {
    // Your notification handling logic here
}
```
The notification parameter contains the message data in JSON format.

Inside this function, you can:

- Write your routing logic
- Access ensemble.storage
- Perform one action: navigation
To navigate, simply return the payload of a navigationScreen action. The framework will handle the navigation.

Example:

```js
function handle_notification(notification) {
    console.log(notification);
    
    // Assuming the screen name is in the FCM data section
    var payload = {
        "name": notification['data']['screen'],
        // You can also pass inputs that will be accessible on the destination screen
    };
    
    return payload;
}
```
If you don't want to navigate, simply don't return anything.

Marking the Function as a Notification Handler
To designate your function as the notification handler:

- Go to `Settings` -> `Environment Variables`
- Add a new variable called `ensemble_notification_handler`
- Set its value to `scriptName.handlerName`
For our example, it would be `Common.handle_notification`.

Once set, `Common.handle_notification` will be called every time a notification is received.

#### Navigating to a Screen
Instead of creating a handler function in Javascript, you can specify the screenId or screenName in the notification payload. This will navigate to the specified screen when the user taps on the notification.

Here is an example notification payload sent from the server. Note the screenId / screenName (you should specify one or the other, but not both) in the data section.
```yaml
{
  "token": "<your device token>",
  "notification": {
    "title": "Hi from Ensemble",
    "body": "Hello this is a sample notification"
  },
  "apns": {
    "payload": {
      "aps": {
        # update the badge count on iOS
        "badge": 5  
      }
    }
  },
  # custom data sent to Ensemble
  "data": {
    "screenId": "<ensemble_screen_id>",
    "screenName": "<ensemble_screen_name>",
    "hello": "world"
  }
}
```

Upon receiving this notification, Ensemble will navigate to the screen specified, and pass along the notification title/body, along with the data payload to the screen. You can access this data in the screen using `notificationPayload.*`. Here is an example of the screen the notification will redirect to:
```yaml
View:
  body:
    Text:
      text: |-
        Notification redirected me here:
        Notification title: ${notificationPayload.title}
        Notification body: ${notificationPayload.body}
        Notification payload: ${notificationPayload.data.hello}
```

---

# Using device width and height

You have access to device width and height through:

```
device.width
device.height
```

You can use them to set width and height of a widget. Note that when doing calculations that might result in doubles, you must round the number. E.g. if you divide the width by two, on some devices, the result might be a double such as `190.5`. Use `Math.floor` to round it down to `190`.


```yaml
View:
  body:
    Column:
      children:
        - Shape:
            type: rectangle
            styles:
              width: ${Math.floor(device.width / 2)}
              height: ${Math.floor(device.height / 2)}
              backgroundColor: yellow
```

---

### Using BottomSafeArea for Responsive Layouts

In mobile devices, especially those with a 3-button navigation bar (as seen on some Android devices), extra space at the bottom can affect the layout of your UI elements. To ensure that your content doesn't get overlapped by the navigation bar, it’s important to adjust the height of your widgets to exclude the space taken by the navigation bar, known as the "Safe Area."

EnsembleUI provides access to the device’s dimensions, including the height and the bottom safe area, allowing you to adjust your UI accordingly. By subtracting the bottom safe area from the total height, your layout dynamically adjusts, ensuring nothing overlaps with the navigation bar. Here's an example:

```yaml
FlexColumn:
  styles:
    height: ${ device.height - device.safeAreaBottom }
```

#### Visual Example:

Here are two screenshots that show the UI with and without the 3-button navigation bar, demonstrating how the layout adjusts dynamically.


<div align="center">
  <table>
    <tr>
      <td style=" padding: 10px; text-align: center; vertical-align: middle; height: 200px;">
        <img width="200" alt="With 3-Button Navigation Bar" src="public/images/tips/safeAreaBottom1.jpg">
      </td>
      <td style=" padding: 10px; text-align: center; vertical-align: middle; height: 200px;">
        <img width="200" alt="With Swipe Navigation" src="public/images/tips/safeAreaBottom2.jpg">
      </td>
    </tr>
  </table>
</div>


By implementing this trick, you ensure that your app’s UI remains consistent and user-friendly across devices with different navigation styles. This technique prevents layout issues such as buttons being hidden or content being overlapped.

---

# Floating Button

[Kitchen Sink Example](https://studio.ensembleui.com/app/YQGEapU8rrEfhTJJLzz8/screen/Vz7SuvSTF8i5no7jKXGx)

```yaml
    Stack:
      styles:
        alignChildren: bottomLeft
      children:
        - ListView:
            styles:
              padding: 12
              gap: 10
            children:
              - Text:
                  text: Hi there!
              - Button:
                  label: Checkout Ensemble Kitchen Sink
                  onTap:
                    openUrl:
                      url: "https://studio.ensembleui.com/preview/index.html?appId=e24402cb-75e2-404c-866c-29e6c3dd7992"

              - Card
              - Card
              - Card
              - Card

        - Button:
            startingIcon:
              name: plus
              library: fontAwesome
            styles:
              padding: 20 25
              margin: 30
```

### ListView:
- The `ListView` component displays a list of items on the screen.
- Additional styles are applied to customize its appearance, such as padding and gap between items.
- Within the `ListView`, various child components like `Text` and `Cards` are nested to represent different content sections.

### Button (Floating Button):
- Positioned alongside the `ListView` within the `Stack`, the `Button` component serves as the floating action button.
- Its placement on the same level as the `ListView` within the `Stack` allows it to overlay the content, creating the floating effect.
- `Styles` are applied to adjust the button's appearance, including padding and margin for spacing.

## Floating Button Implementation:
By placing the `Button` component within the `Stack` alongside the `ListView`, it remains visually separate from the list content and appears to float above it. This arrangement allows for easy access to important actions while maintaining a clean and organized UI layout.

---

# No Bounded Width Error

You get the error **"This widget requires a width."** on some widgets.

e.g. TextInput, Map, ...

## Reason

A widget needs a width (and a height) to render. Some widgets can automatically calculate its width based on its content (e.g. Text) or from its children. Others widgets cannot (or should not e.g. what should the width of a Map widget be?). These widgets rely on the parent to constrain (give) them a dimension.

## Solution

1. Set an explicit width or max width on this widget (if applicable).
2. The parent needs to constrain the width of this widget. This can mean setting a width on the parent or force the parent to decide how to distribute the space.
   - For **Row** parent: Row does not constrain the children's widths so consider using *FlexRow* instead. FlexRow will stretch to fill its parent and distribute the available space between its children.
   - For **Stack** parent: Similarly Stack also do not constrain the children's widths. Adjust its stackPositionLeft / stackPositionRight attributes to constrain the children within this width.
   - For **horizontal scrollable** parent: Scrollable parent allows its children to decide their own widths (so it knows how to scroll), meaning all children must be able to calculate their own widths. Consider changing your design if you run into this situation.

---

# No Bounded Height Error

You get the error **"This widget requires a height."** on some widgets

e.g. Divider (vertical), Map, ...

## Reason

A widget needs a height (and a width) to render. Some widgets can automatically calculate its height based on its content (e.g. Text with lineHeight of 2) or from its children, while other widgets rely on the parent to constrain (give) them a dimension.

## Solution

1. Set an explicit height on this widget.
2. The parent needs to constrain the height of this widget. This can mean either setting a height on the parent or force the parent to decide how to distribute the vertical space.
    - If the parent (or ancestor) is **Column**: Column does not constrain the children's heights so consider using *FlexColumn* instead. FlexColumn will stretch to fill its parent's height and distribute the available vertical space between its children. Be careful when using FlexColumn inside a scrollable ancestor (all widgets inside a scrollable ancestor need to be able to calculate their own heights).
    - If the parent is **Row**: Row does constrain the height (crossAxis) so it alone is **not** a problem. However if the parent of the Row is another Column, the Column will not send the height constraint to the Row, which in turn cannot provide the constraint to its children. If your Row has at least 1 child that has a height, you may explicitly set the height constraint to the tallest child's height using `crossAxisConstraint: largestChild`. This will ensure all children without a height will get the height of the row.
    - For **Stack** parent: Similarly Stack also do not constrain the children's widths. Adjust its stackPositionTop / stackPositionBottom attributes to constrain the children within this height.
    - For **vertical scrollable** parent: Scrollable parent allows its children to decide their own height (so it knows how to scroll), meaning all children must be able to calculate their own heights. Consider changing your design if you run into this situation.

---

# FlexRow No Bounded Width Error

You get the error **"FlexRow requires a width for child distribution."**

## Reason

FlexRow's layout algorithm works by distributing a pre-defined width proportionally to all its children. If the FlexRow does not have an explicit width, its parent is required to constrain its width. This is a variation of [no-bounded-width](/error/no-bounded-width) error, but specific to FlexRow.

## Solution

1. Set an explicit width on the FlexRow. This width will then be distributed proportionally to its children.
2. The parent (anywhere up the chain) needs to constrain the width of this widget. This can mean either setting a width on the parent or forcing the parent to decide how to distribute the horizontal space.
    - For **horizontal Scrollable** ancestor: Having a FlexRow (stretching to the width of the parent) inside a horizontal Scrollable (width is calculated from all children combined) does not make sense. There has to be an explicit width set at least once in the hierarchy chain between the FlexRow and the Scrollable ancestor.
    - For **Row** ancestor: Row does not constrain its children's widths (it lets the children dictate their own widths). For this reason, ensure there is a width set (can be explicit or stretched to parent) at least once in the hierarchy chain between the FlexRow and the Row ancestor.
      - Consider using all FlexRow(s) instead of Row up the ancestor chain to the root View. This ensure the screen width is distributed properly down to our last FlexRow.
      - If you don't need FlexRow's distribution capability, considered using all Rows instead. Rows lay out their children with their requested widths in a left to right manner, with the ability to add horizontal scrollbar as needed.

---

# FlexColumn No Bounded Height Error

You get the error **"FlexColumn requires a height for child distribution."**

## Reason

FlexColumn's layout algorithm works by distributing a pre-defined height proportionally to all its children. If the FlexColumn does not have an explicit height, its parent is required to constrain its height. This is a variation of [no-bounded-height](/error/no-bounded-height) error, but specific to FlexColumn.

## Solution

1. Set an explicit height on the FlexColumn. This height will then be distributed proportionally to its children.
2. The parent (anywhere up the chain) needs to constrain the height of this widget. This can mean either setting a height on the parent or forcing the parent to decide how to distribute the vertical space.
    - For **vertical Scrollable** ancestor: Having a FlexColumn (stretch to parent) inside a vertical Scrollable (height is calculated from all children combined) does not make sense. There has to be an explicit height set at least once in the hierarchy chain between the FlexColumn and the Scrollable ancestor.
    - For **Column** ancestor: Column does not constrain its children's heights (it lets the children dictate their own heights). For this reason, ensure there is a height set (can be explicit or stretched to parent) at least once in the hierarchy chain between the FlexColumn and the Column ancestor.
      - Consider using all FlexColumn(s) instead of Column up the ancestor chain to the root View. This ensure the screen height is distributed properly down to our last FlexColumn.
      - If you don't need FlexColumn's distribution capability, considered using all Columns instead. Columns lay out their children with their requested heights in a top-down manner, with the ability to add vertical scrollbar as needed.

---
